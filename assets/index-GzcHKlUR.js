(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},gl={};var R_;function gA(){if(R_)return gl;R_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var C_;function pA(){return C_||(C_=1,Id.exports=gA()),Id.exports}var H=pA(),Nd={exports:{}},Tt={};var I_;function yA(){if(I_)return Tt;I_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,$={};function ft(O,K,et){this.props=O,this.context=K,this.refs=$,this.updater=et||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=ft.prototype;function yt(O,K,et){this.props=O,this.context=K,this.refs=$,this.updater=et||Z}var St=yt.prototype=new pt;St.constructor=yt,nt(St,ft.prototype),St.isPureReactComponent=!0;var Zt=Array.isArray;function jt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,K,et){var it=et.ref;return{$$typeof:s,type:O,key:K,ref:it!==void 0?it:null,props:et}}function V(O,K){return I(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(jt,jt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,K,et,it,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(bt){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case s:case t:Nt=!0;break;case A:return Nt=O._init,q(Nt(O._payload),K,et,it,_t)}}if(Nt)return _t=_t(O),Nt=it===""?"."+ie(O,0):it,Zt(_t)?(et="",Nt!=null&&(et=Nt.replace(w,"$&/")+"/"),q(_t,K,et,"",function(Vt){return Vt})):_t!=null&&(D(_t)&&(_t=V(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Nt)),K.push(_t)),1;Nt=0;var Ee=it===""?".":it+":";if(Zt(O))for(var se=0;se<O.length;se++)it=O[se],bt=Ee+ie(it,se),Nt+=q(it,K,et,bt,_t);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(it=O.next()).done;)it=it.value,bt=Ee+ie(it,se++),Nt+=q(it,K,et,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return q(ye(O),K,et,it,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function tt(O,K,et){if(O==null)return O;var it=[],_t=0;return q(O,it,"","",function(bt){return K.call(et,bt,_t++)}),it}function ut(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ht={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=b,Tt.Children=ht,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=yt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=nt({},O.props),_t=O.key;if(K!=null)for(bt in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(it[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)it.children=et;else if(1<bt){for(var Nt=Array(bt),Ee=0;Ee<bt;Ee++)Nt[Ee]=arguments[Ee+2];it.children=Nt}return I(O.type,_t,it)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,et){var it,_t={},bt=null;if(K!=null)for(it in K.key!==void 0&&(bt=""+K.key),K)S.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(_t[it]=K[it]);var Nt=arguments.length-2;if(Nt===1)_t.children=et;else if(1<Nt){for(var Ee=Array(Nt),se=0;se<Nt;se++)Ee[se]=arguments[se+2];_t.children=Ee}if(O&&O.defaultProps)for(it in Nt=O.defaultProps,Nt)_t[it]===void 0&&(_t[it]=Nt[it]);return I(O,bt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=D,Tt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=C.T,et={};C.T=et;try{var it=O(),_t=C.S;_t!==null&&_t(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(jt,xt)}catch(bt){xt(bt)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(O){return C.H.use(O)},Tt.useActionState=function(O,K,et){return C.H.useActionState(O,K,et)},Tt.useCallback=function(O,K){return C.H.useCallback(O,K)},Tt.useContext=function(O){return C.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return C.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(O,K,et){return C.H.useImperativeHandle(O,K,et)},Tt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return C.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,et){return C.H.useReducer(O,K,et)},Tt.useRef=function(O){return C.H.useRef(O)},Tt.useState=function(O){return C.H.useState(O)},Tt.useSyncExternalStore=function(O,K,et){return C.H.useSyncExternalStore(O,K,et)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var N_;function ym(){return N_||(N_=1,Nd.exports=yA()),Nd.exports}var Gt=ym(),Dd={exports:{}},pl={},Od={exports:{}},xd={};var D_;function _A(){return D_||(D_=1,(function(s){function t(q,tt){var ut=q.length;q.push(tt);t:for(;0<ut;){var xt=ut-1>>>1,ht=q[xt];if(0<l(ht,tt))q[xt]=tt,q[ut]=ht,ut=xt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var tt=q[0],ut=q.pop();if(ut!==tt){q[0]=ut;t:for(var xt=0,ht=q.length,O=ht>>>1;xt<O;){var K=2*(xt+1)-1,et=q[K],it=K+1,_t=q[it];if(0>l(et,ut))it<ht&&0>l(_t,et)?(q[xt]=_t,q[it]=ut,xt=it):(q[xt]=et,q[K]=ut,xt=K);else if(it<ht&&0>l(_t,ut))q[xt]=_t,q[it]=ut,xt=it;else break t}}return tt}function l(q,tt){var ut=q.sortIndex-tt.sortIndex;return ut!==0?ut:q.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,N=3,F=!1,Z=!1,nt=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function St(q){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=q)a(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function Zt(q){if(nt=!1,St(q),!Z)if(i(_)!==null)Z=!0,jt||(jt=!0,k());else{var tt=i(y);tt!==null&&ye(Zt,tt.startTime-q)}}var jt=!1,C=-1,S=5,I=-1;function V(){return $?!0:!(s.unstable_now()-I<S)}function D(){if($=!1,jt){var q=s.unstable_now();I=q;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,pt(C),C=-1),F=!0;var ut=N;try{e:{for(St(q),b=i(_);b!==null&&!(b.expirationTime>q&&V());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,N=b.priorityLevel;var ht=xt(b.expirationTime<=q);if(q=s.unstable_now(),typeof ht=="function"){b.callback=ht,St(q),tt=!0;break e}b===i(_)&&a(_),St(q)}else a(_);b=i(_)}if(b!==null)tt=!0;else{var O=i(y);O!==null&&ye(Zt,O.startTime-q),tt=!1}}break t}finally{b=null,N=ut,F=!1}tt=void 0}}finally{tt?k():jt=!1}}}var k;if(typeof yt=="function")k=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=D,k=function(){ie.postMessage(null)}}else k=function(){ft(D,0)};function ye(q,tt){C=ft(function(){q(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(q){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var ut=N;N=tt;try{return q()}finally{N=ut}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=N;N=q;try{return tt()}finally{N=ut}},s.unstable_scheduleCallback=function(q,tt,ut){var xt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,q){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=ut+ht,q={id:A++,callback:tt,priorityLevel:q,startTime:ut,expirationTime:ht,sortIndex:-1},ut>xt?(q.sortIndex=ut,t(y,q),i(_)===null&&q===i(y)&&(nt?(pt(C),C=-1):nt=!0,ye(Zt,ut-xt))):(q.sortIndex=ht,t(_,q),Z||F||(Z=!0,jt||(jt=!0,k()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var tt=N;return function(){var ut=N;N=tt;try{return q.apply(this,arguments)}finally{N=ut}}}})(xd)),xd}var O_;function vA(){return O_||(O_=1,Od.exports=_A()),Od.exports}var Vd={exports:{}},nn={};var x_;function EA(){if(x_)return nn;x_=1;var s=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},nn.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:F}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:N,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var V_;function TA(){if(V_)return Vd.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=EA(),Vd.exports}var M_;function AA(){if(M_)return pl;M_=1;var s=vA(),t=ym(),i=TA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ft:return"Profiler";case $:return"StrictMode";case Zt:return"Suspense";case jt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case yt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var ye=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],ht=-1;function O(e){return{current:e}}function K(e){0>ht||(e.current=xt[ht],xt[ht]=null,ht--)}function et(e,n){ht++,xt[ht]=e.current,e.current=n}var it=O(null),_t=O(null),bt=O(null),Nt=O(null);function Ee(e,n){switch(et(bt,n),et(_t,e),et(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),et(it,e)}function se(){K(it),K(_t),K(bt)}function Vt(e){e.memoizedState!==null&&et(Nt,e);var n=it.current,r=Jy(n,e.type);n!==r&&(et(_t,e),et(it,r))}function It(e){_t.current===e&&(K(it),K(_t)),Nt.current===e&&(K(Nt),hl._currentValue=ut)}var ot,he;function Te(e){if(ot===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",he=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+e+he}var ae=!1;function Ft(e,n){if(!e||ae)return"";ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var P=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){P=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){P=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ae=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Te(r):""}function Qe(e,n){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te("Lazy");case 13:return e.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return Ft(e.type,!1);case 11:return Ft(e.type.render,!1);case 1:return Ft(e.type,!0);case 31:return Te("Activity");default:return""}}function Tn(e){try{var n="",r=null;do n+=Qe(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var oe=Object.prototype.hasOwnProperty,me=s.unstable_scheduleCallback,An=s.unstable_cancelCallback,ps=s.unstable_shouldYield,ji=s.unstable_requestPaint,ln=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,go=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Zl=s.log,Wl=s.unstable_setDisableYieldValue,Yn=null,Ke=null;function Vn(e){if(typeof Zl=="function"&&Wl(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Yn,e)}catch{}}var Ae=Math.clz32?Math.clz32:eu,tu=Math.log,ea=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/ea|0)|0}var li=256,gr=262144,Ce=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):r||(r=E&~e,r!==0&&(h=ui(r))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=o&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-Ae(r),Y=1<<G;E[G]=0,R[G]=-1;var P=z[G];if(P!==null)for(z[G]=null,G=0;G<P.length;G++){var B=P[G];B!==null&&(B.lane&=-536870913)}r&=~Y}o!==0&&yr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function po(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function yo(e,n){var r=n&-n;return r=(r&42)!==0?1:_r(r),(r&(e.suspendedLanes|n))!==0?0:r}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function Jn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var $n=Math.random().toString(36).slice(2),Ie="__reactFiber$"+$n,Be="__reactProps$"+$n,fi="__reactContainer$"+$n,na="__reactEvents$"+$n,Vh="__reactListeners$"+$n,su="__reactHandles$"+$n,ru="__reactResources$"+$n,di="__reactMarker$"+$n;function ia(e){delete e[Ie],delete e[Be],delete e[na],delete e[Vh],delete e[su]}function mi(e){var n=e[Ie];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Ie]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=i_(e);e!==null;){if(r=e[Ie])return r;e=i_(e)}return n}e=r,r=e.parentNode}return null}function Mn(e){if(e=e[Ie]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[di]=!0}var _o=new Set,vo={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function au(e){return oe.call(Ao,e)?!0:oe.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function sa(e,n,r){if(au(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function bn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function De(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=_s(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=_s(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function fn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,qe(n)):r!=null?bo(e,g,qe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function ou(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}r=r!=null?""+qe(r):"",n=n!=null?""+qe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function bo(e,n,r){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,r){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qe(r):""}function Es(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Xt(e)}function dn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||uu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Co=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,vi=null;function Tr(e){var n=Mn(e);if(n&&(e=n.stateNode)){var r=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&vr(o)}break t;case"textarea":lu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&vs(e,!!r.multiple,n,!1)}}}var la=!1;function Ss(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(As!==null||vi!==null)&&(ic(),As&&(n=As,e=vi,vi=As=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Wn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Be]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Un)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ar=!1}var Ei=null,Io=null,Sr=null;function No(){if(Sr)return Sr;var e,n=Io,r=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function ti(){return!1}function Ye(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:ti,this.isPropagationStopped=ti,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ye(Hi),bs=b({},Hi,{view:0,detail:0}),Do=Ye(bs),ws,ua,Ai,ca=b({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(ws=e.screenX-Ai.screenX,ua=e.screenY-Ai.screenY):ua=ws=0,Ai=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Oo=Ye(ca),wr=b({},ca,{dataTransfer:0}),hu=Ye(wr),fu=b({},bs,{relatedTarget:0}),Rr=Ye(fu),xo=b({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Ye(xo),ha=b({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Ye(ha),gu=b({},Hi,{data:0}),Si=Ye(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Rs(){return vu}var un=b({},bs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Ye(un),Tu=b({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ye(Tu),u=b({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Ye(u),v=b({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ye(v),U=b({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Ye(U),W=b({},Hi,{newState:0,oldState:0}),wt=Ye(W),Se=[9,13,27,32],Qt=Un&&"CompositionEvent"in window,fe=null;Un&&"documentMode"in document&&(fe=document.documentMode);var Ln=Un&&"TextEvent"in window&&!fe,bi=Un&&(!Qt||fe&&8<fe&&11>=fe),ei=" ",ni=!1;function Cr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function PT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function jT(e,n){if(da)return e==="compositionend"||!Qt&&Cr(e,n)?(e=No(),Sr=Io=Ei=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!BT[e.type]:n==="textarea"}function og(e,n,r,o){As?vi?vi.push(o):vi=[o]:As=o,n=cc(n,"onChange"),0<n.length&&(r=new Ti("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,Mo=null;function qT(e){Hy(e,0)}function Au(e){var n=Sn(e);if(vr(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(Un){var Mh;if(Un){var kh="oninput"in document;if(!kh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),kh=typeof cg.oninput=="function"}Mh=kh}else Mh=!1;ug=Mh&&(!document.documentMode||9<document.documentMode)}function hg(){Vo&&(Vo.detachEvent("onpropertychange",fg),Mo=Vo=null)}function fg(e){if(e.propertyName==="value"&&Au(Mo)){var n=[];og(n,Mo,e,kn(e)),Ss(qT,n)}}function HT(e,n,r){e==="focusin"?(hg(),Vo=n,Mo=r,Vo.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function GT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Mo)}function FT(e,n){if(e==="click")return Au(n)}function QT(e,n){if(e==="input"||e==="change")return Au(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:KT;function ko(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!oe.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var r=dg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dg(r)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_i(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Un&&"documentMode"in document&&11>=document.documentMode,ma=null,Lh=null,Uo=null,zh=!1;function yg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||ma==null||ma!==_i(o)||(o=ma,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function Ir(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Ph={},_g={};Un&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Nr(e){if(Ph[e])return Ph[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in _g)return Ph[e]=n[r];return e}var vg=Nr("animationend"),Eg=Nr("animationiteration"),Tg=Nr("animationstart"),XT=Nr("transitionrun"),JT=Nr("transitionstart"),$T=Nr("transitioncancel"),Ag=Nr("transitionend"),Sg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ii(e,n){Sg.set(e,n),pi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],pa=0,Bh=0;function bu(){for(var e=pa,n=Bh=pa=0;n<e;){var r=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&bg(r,h,f)}}function wu(e,n,r,o){zn[pa++]=e,zn[pa++]=n,zn[pa++]=r,zn[pa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return wu(e,n,r,o),Ru(e)}function Dr(e,n){return wu(e,null,null,n),Ru(e)}function bg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ru(e){if(50<sl)throw sl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function ZT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,o){return new ZT(e,n,r,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function wg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=iA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,r,n,h),e.elementType=I,e.lanes=f,e;case nt:return Or(r.children,h,f,n);case $:g=8,h|=24;break;case ft:return e=Rn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Zt:return e=Rn(13,r,n,h),e.elementType=Zt,e.lanes=f,e;case jt:return e=Rn(19,r,n,h),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case pt:g=9;break t;case St:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,r,o){return e=Rn(7,e,o,n),e.lanes=r,e}function Gh(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function Rg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cg=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var r=Cg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Tn(n)},Cg.set(e,n),n)}return{value:e,source:n,stack:Tn(n)}}var _a=[],va=0,Iu=null,Lo=0,jn=[],Bn=0,Cs=null,wi=1,Ri="";function Qi(e,n){_a[va++]=Lo,_a[va++]=Iu,Iu=e,Lo=n}function Ig(e,n,r){jn[Bn++]=wi,jn[Bn++]=Ri,jn[Bn++]=Cs,Cs=e;var o=wi;e=Ri;var h=32-Ae(o)-1;o&=~(1<<h),r+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-Ae(n)+h|r<<h|o,Ri=f+e}else wi=1<<f|r<<h|o,Ri=e}function Qh(e){e.return!==null&&(Qi(e,1),Ig(e,1,0))}function Kh(e){for(;e===Iu;)Iu=_a[--va],_a[va]=null,Lo=_a[--va],_a[va]=null;for(;e===Cs;)Cs=jn[--Bn],jn[Bn]=null,Ri=jn[--Bn],jn[Bn]=null,wi=jn[--Bn],jn[Bn]=null}function Ng(e,n){jn[Bn++]=wi,jn[Bn++]=Ri,jn[Bn++]=Cs,wi=n.id,Ri=n.overflow,Cs=e}var Xe=null,le=null,Pt=!1,Is=null,qn=!1,Yh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Pn(n,e)),Yh}function Dg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[Be]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<al.length;r++)Ot(al[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Es(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Ky(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Ns(e,!0)}function Og(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Xe=Xe.return}}function Ea(e){if(e!==Xe)return!1;if(!Pt)return Og(e),Pt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&le&&Ns(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=n_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=n_(e)}else n===27?(n=le,Hs(e.type)?(e=_d,_d=null,le=e):le=n):le=Xe?Gn(e.stateNode.nextSibling):null;return!0}function xr(){le=Xe=null,Pt=!1}function Xh(){var e=Is;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Is=null),e}function zo(e){Is===null?Is=[e]:Is.push(e)}var Jh=O(null),Vr=null,Ki=null;function Ds(e,n,r){et(Jh,n._currentValue),n._currentValue=r}function Yi(e){e._currentValue=Jh.current,K(Jh)}function $h(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$h(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),$h(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Zh(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Vr=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return xg(Vr,e)}function Du(e,n){return Vr===null&&Mr(e),xg(e,n)}function xg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ki===null){if(e===null)throw Error(a(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return r}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},t1=s.unstable_scheduleCallback,e1=s.unstable_NormalPriority,Oe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new WT,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var jo=null,tf=0,Aa=0,Sa=null;function n1(e,n){if(jo===null){var r=jo=[];tf=0,Aa=sd(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Vg,Vg),n}function Vg(){if(--tf===0&&jo!==null){Sa!==null&&(Sa.status="fulfilled");var e=jo;jo=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Mg=q.S;q.S=function(e,n){yy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),Mg!==null&&Mg(e,n)};var kr=O(null);function ef(){var e=kr.current;return e!==null?e:re.pooledCache}function Ou(e,n){n===null?et(kr,kr.current):et(kr,n.pool)}function kg(){var e=ef();return e===null?null:{parent:Oe._currentValue,pool:e}}var ba=Error(a(460)),nf=Error(a(474)),xu=Error(a(542)),Vu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Zn,Zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw Lr=n,ba}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Lr=r,ba):r}}var Lr=null;function zg(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function Pg(e){if(e===ba||e===xu)throw Error(a(483))}var wa=null,Bo=0;function Mu(e){var n=Bo;return Bo+=1,wa===null&&(wa=[]),Lg(wa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){function n(M,x){if(e){var L=M.deletions;L===null?(M.deletions=[x],M.flags|=16):L.push(x)}}function r(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function o(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Fi(M,x),M.index=0,M.sibling=null,M}function f(M,x,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<x?(M.flags|=67108866,x):L):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,x,L,Q){return x===null||x.tag!==6?(x=Gh(L,M.mode,Q),x.return=M,x):(x=h(x,L),x.return=M,x)}function R(M,x,L,Q){var ct=L.type;return ct===nt?G(M,x,L.props.children,Q,L.key):x!==null&&(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ur(ct)===x.type)?(x=h(x,L.props),qo(x,L),x.return=M,x):(x=Cu(L.type,L.key,L.props,null,M.mode,Q),qo(x,L),x.return=M,x)}function z(M,x,L,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Fh(L,M.mode,Q),x.return=M,x):(x=h(x,L.children||[]),x.return=M,x)}function G(M,x,L,Q,ct){return x===null||x.tag!==7?(x=Or(L,M.mode,Q,ct),x.return=M,x):(x=h(x,L),x.return=M,x)}function Y(M,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Gh(""+x,M.mode,L),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return L=Cu(x.type,x.key,x.props,null,M.mode,L),qo(L,x),L.return=M,L;case Z:return x=Fh(x,M.mode,L),x.return=M,x;case S:return x=Ur(x),Y(M,x,L)}if(ye(x)||k(x))return x=Or(x,M.mode,L,null),x.return=M,x;if(typeof x.then=="function")return Y(M,Mu(x),L);if(x.$$typeof===yt)return Y(M,Du(M,x),L);ku(M,x)}return null}function P(M,x,L,Q){var ct=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(M,x,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?R(M,x,L,Q):null;case Z:return L.key===ct?z(M,x,L,Q):null;case S:return L=Ur(L),P(M,x,L,Q)}if(ye(L)||k(L))return ct!==null?null:G(M,x,L,Q,null);if(typeof L.then=="function")return P(M,x,Mu(L),Q);if(L.$$typeof===yt)return P(M,x,Du(M,L),Q);ku(M,L)}return null}function B(M,x,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(x,M,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return M=M.get(Q.key===null?L:Q.key)||null,R(x,M,Q,ct);case Z:return M=M.get(Q.key===null?L:Q.key)||null,z(x,M,Q,ct);case S:return Q=Ur(Q),B(M,x,L,Q,ct)}if(ye(Q)||k(Q))return M=M.get(L)||null,G(x,M,Q,ct,null);if(typeof Q.then=="function")return B(M,x,L,Mu(Q),ct);if(Q.$$typeof===yt)return B(M,x,L,Du(x,Q),ct);ku(x,Q)}return null}function rt(M,x,L,Q){for(var ct=null,qt=null,at=x,Ct=x=0,kt=null;at!==null&&Ct<L.length;Ct++){at.index>Ct?(kt=at,at=null):kt=at.sibling;var Ht=P(M,at,L[Ct],Q);if(Ht===null){at===null&&(at=kt);break}e&&at&&Ht.alternate===null&&n(M,at),x=f(Ht,x,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,at=kt}if(Ct===L.length)return r(M,at),Pt&&Qi(M,Ct),ct;if(at===null){for(;Ct<L.length;Ct++)at=Y(M,L[Ct],Q),at!==null&&(x=f(at,x,Ct),qt===null?ct=at:qt.sibling=at,qt=at);return Pt&&Qi(M,Ct),ct}for(at=o(at);Ct<L.length;Ct++)kt=B(at,M,Ct,L[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?Ct:kt.key),x=f(kt,x,Ct),qt===null?ct=kt:qt.sibling=kt,qt=kt);return e&&at.forEach(function(Ys){return n(M,Ys)}),Pt&&Qi(M,Ct),ct}function mt(M,x,L,Q){if(L==null)throw Error(a(151));for(var ct=null,qt=null,at=x,Ct=x=0,kt=null,Ht=L.next();at!==null&&!Ht.done;Ct++,Ht=L.next()){at.index>Ct?(kt=at,at=null):kt=at.sibling;var Ys=P(M,at,Ht.value,Q);if(Ys===null){at===null&&(at=kt);break}e&&at&&Ys.alternate===null&&n(M,at),x=f(Ys,x,Ct),qt===null?ct=Ys:qt.sibling=Ys,qt=Ys,at=kt}if(Ht.done)return r(M,at),Pt&&Qi(M,Ct),ct;if(at===null){for(;!Ht.done;Ct++,Ht=L.next())Ht=Y(M,Ht.value,Q),Ht!==null&&(x=f(Ht,x,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return Pt&&Qi(M,Ct),ct}for(at=o(at);!Ht.done;Ct++,Ht=L.next())Ht=B(at,M,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&at.delete(Ht.key===null?Ct:Ht.key),x=f(Ht,x,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&at.forEach(function(mA){return n(M,mA)}),Pt&&Qi(M,Ct),ct}function ne(M,x,L,Q){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;x!==null;){if(x.key===ct){if(ct=L.type,ct===nt){if(x.tag===7){r(M,x.sibling),Q=h(x,L.props.children),Q.return=M,M=Q;break t}}else if(x.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ur(ct)===x.type){r(M,x.sibling),Q=h(x,L.props),qo(Q,L),Q.return=M,M=Q;break t}r(M,x);break}else n(M,x);x=x.sibling}L.type===nt?(Q=Or(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Cu(L.type,L.key,L.props,null,M.mode,Q),qo(Q,L),Q.return=M,M=Q)}return g(M);case Z:t:{for(ct=L.key;x!==null;){if(x.key===ct)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){r(M,x.sibling),Q=h(x,L.children||[]),Q.return=M,M=Q;break t}else{r(M,x);break}else n(M,x);x=x.sibling}Q=Fh(L,M.mode,Q),Q.return=M,M=Q}return g(M);case S:return L=Ur(L),ne(M,x,L,Q)}if(ye(L))return rt(M,x,L,Q);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),mt(M,x,L,Q)}if(typeof L.then=="function")return ne(M,x,Mu(L),Q);if(L.$$typeof===yt)return ne(M,x,Du(M,L),Q);ku(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(r(M,x.sibling),Q=h(x,L),Q.return=M,M=Q):(r(M,x),Q=Gh(L,M.mode,Q),Q.return=M,M=Q),g(M)):r(M,x)}return function(M,x,L,Q){try{Bo=0;var ct=ne(M,x,L,Q);return wa=null,ct}catch(at){if(at===ba||at===xu)throw at;var qt=Rn(29,at,null,M.mode);return qt.lanes=Q,qt.return=M,qt}}}var zr=jg(!0),Bg=jg(!1),Os=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),bg(e,null,r),n}return wu(e,o,n,r),Ru(e)}function Ho(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function Go(){if(of){var e=Sa;if(e!==null)throw e}}function Fo(e,n,r,o){of=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(Mt&P)===P:(o&P)===P){P!==0&&P===Aa&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;P=n;var ne=r;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){Y=rt.call(ne,Y,P);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,P=typeof rt=="function"?rt.call(ne,Y,P):rt,P==null)break t;Y=b({},Y,P);break t;case 2:Os=!0}}P=E.callback,P!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,R=Y):G=G.next=B,g|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Hg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)qg(r[e],n)}var Ra=O(null),Uu=O(0);function Gg(e,n){e=is,et(Uu,e),et(Ra,n),is=e|n.baseLanes}function lf(){et(Uu,is),et(Ra,Ra.current)}function uf(){is=Uu.current,K(Ra),K(Uu)}var Cn=O(null),Hn=null;function Ms(e){var n=e.alternate;et(be,be.current&1),et(Cn,e),Hn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Hn=e)}function cf(e){et(be,be.current),et(Cn,e),Hn===null&&(Hn=e)}function Fg(e){e.tag===22?(et(be,be.current),et(Cn,e),Hn===null&&(Hn=e)):ks()}function ks(){et(be,be.current),et(Cn,Cn.current)}function In(e){K(Cn),Hn===e&&(Hn=null),K(be)}var be=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,Rt=null,te=null,xe=null,zu=!1,Ca=!1,Pr=!1,Pu=0,Qo=0,Ia=null,s1=0;function _e(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wn(e[r],n[r]))return!1;return!0}function ff(e,n,r,o,h,f){return Xi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Ip:Cf,Pr=!1,f=r(o,h),Pr=!1,Ca&&(f=Kg(n,r,o,h)),Qg(e),f}function Qg(e){q.H=Xo;var n=te!==null&&te.next!==null;if(Xi=0,xe=te=Rt=null,zu=!1,Qo=0,Ia=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&Nu(e)&&(Ve=!0))}function Kg(e,n,r,o){Rt=e;var h=0;do{if(Ca&&(Ia=null),Qo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,xe=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Np,f=n(r,o)}while(Ca);return f}function r1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),n}function df(){var e=Pu!==0;return Pu=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function gf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Xi=0,xe=te=Rt=null,Ca=!1,Qo=Pu=0,Ia=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Rt.memoizedState=xe=e:xe=xe.next=e,xe}function we(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=xe===null?Rt.memoizedState:xe.next;if(n!==null)xe=n,te=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},xe===null?Rt.memoizedState=xe=e:xe=xe.next=e}return xe}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Ia===null&&(Ia=[]),e=Lg(Ia,e,n),n=Rt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ip:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===yt)return Je(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ji(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=we();return yf(n,te,e)}function yf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Mt&Y)===Y:(Xi&Y)===Y){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Aa&&(G=!0);else if((Xi&P)===P){z=z.next,P===Aa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=P,zs|=P;Y=z.action,Pr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else P={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=P,g=f):R=R.next=P,Rt.lanes|=Y,zs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!wn(f,e.memoizedState)&&(Ve=!0,G&&(r=Sa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Yg(e,n,r){var o=Rt,h=we(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!wn((te||h).memoizedState,r);if(g&&(h.memoizedState=r,Ve=!0),h=h.queue,Tf($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},Jg.bind(null,o,h,r,n),null),re===null)throw Error(a(349));f||(Xi&127)!==0||Xg(o,n,r)}return r}function Xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Jg(e,n,r,o){n.value=r,n.getSnapshot=o,Zg(n)&&Wg(e)}function $g(e,n,r){return r(function(){Zg(n)&&Wg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wn(e,r)}catch{return!0}}function Wg(e){var n=Dr(e,2);n!==null&&_n(n,e,2)}function vf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Pr){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function tp(e,n,r,o){return e.baseState=r,yf(e,te,typeof o=="function"?o:Ji)}function a1(e,n,r,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ep(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ep(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,o),R=q.S;R!==null&&R(g,E),np(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),np(e,n,f)}catch(z){Ef(e,n,z)}}function np(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ip(e,n,o)},function(o){return Ef(e,n,o)}):ip(e,n,r)}function ip(e,n,r){n.status="fulfilled",n.value=r,sp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ep(e,r)))}function Ef(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,sp(n),n=n.next;while(n!==o)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rp(e,n){return n}function ap(e,n){if(Pt){var r=re.formState;if(r!==null){t:{var o=Rt;if(Pt){if(le){e:{for(var h=le,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Gn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:n},r.queue=o,r=wp.bind(null,Rt,o),o.dispatch=r,o=vf(!1),f=Rf.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=a1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function op(e){var n=we();return lp(n,te,e)}function lp(e,n,r){if(n=yf(e,n,rp)[0],e=qu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===ba?xu:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Na(9,{destroy:void 0},o1.bind(null,h,r),null)),[o,f,e]}function o1(e,n){e.action=n}function up(e){var n=we(),r=te;if(r!==null)return lp(n,r,e);we(),n=n.memoizedState,r=we();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Na(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function cp(){return we().memoizedState}function Hu(e,n,r,o){var h=cn();Rt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},r,o===void 0?null:o)}function Gu(e,n,r,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&hf(o,te.memoizedState.deps)?h.memoizedState=Na(n,f,r,o):(Rt.flags|=e,h.memoizedState=Na(1|n,f,r,o))}function hp(e,n){Hu(8390656,8,e,n)}function Tf(e,n){Gu(2048,8,e,n)}function l1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function fp(e){var n=we().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return Gu(4,2,e,n)}function mp(e,n){return Gu(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,gp.bind(null,n,e),r)}function Af(){}function yp(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function _p(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Pr){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o}function Sf(e,n,r){return r===void 0||(Xi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=vy(),Rt.lanes|=e,zs|=e,r)}function vp(e,n,r,o){return wn(r,n)?r:Ra.current!==null?(e=Sf(e,r,o),wn(e,n)||(Ve=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(Mt&261930)===0?(Ve=!0,e.memoizedState=r):(e=vy(),Rt.lanes|=e,zs|=e,n)}function Ep(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Rf(e,!1,n,r);try{var R=h(),z=q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=i1(R,o);Yo(e,n,G,On(e))}else Yo(e,n,o,On(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},On())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function u1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Tp(e).queue;Ep(e,h,n,ut,r===null?u1:function(){return Ap(e),r(o)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},On())}function wf(){return Je(hl)}function Sp(){return we().memoizedState}function bp(){return we().memoizedState}function c1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=On();e=xs(r);var o=Vs(n,e,r);o!==null&&(_n(o,n,r),Ho(o,n,r)),n={cache:Wh()},e.payload=n;return}n=n.return}}function h1(e,n,r){var o=On();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Rp(n,r):(r=qh(e,n,r,o),r!==null&&(_n(r,e,o),Cp(r,n,o)))}function wp(e,n,r){var o=On();Yo(e,n,r,o)}function Yo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,g))return wu(e,n,h,0),re===null&&bu(),!1}catch{}if(r=qh(e,n,h,o),r!==null)return _n(r,e,o),Cp(r,n,o),!0}return!1}function Rf(e,n,r,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&_n(n,e,2)}function Fu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Rp(e,n){Ca=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Cp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}var Xo={readContext:Je,use:Bu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Xo.useEffectEvent=_e;var Ip={readContext:Je,use:Bu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:hp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,gp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Pr){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Pr){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=h1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=wp.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(e,n){var r=cn();return Sf(r,e,n)},useTransition:function(){var e=vf(!1);return e=Ep.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=cn();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),re===null)throw Error(a(349));(Mt&127)!==0||Xg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,hp($g.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},Jg.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=re.identifierPrefix;if(Pt){var r=Ri,o=wi;r=(o&~(1<<32-Ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=s1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return cn().memoizedState=c1.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Kt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Cf={readContext:Je,use:Bu,useCallback:yp,useContext:Je,useEffect:Tf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:qu,useRef:cp,useState:function(){return qu(Ji)},useDebugValue:Af,useDeferredValue:function(e,n){var r=we();return vp(r,te.memoizedState,e,n)},useTransition:function(){var e=qu(Ji)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var r=we();return tp(r,te,e,n)},useMemoCache:pf,useCacheRefresh:bp};Cf.useEffectEvent=fp;var Np={readContext:Je,use:Bu,useCallback:yp,useContext:Je,useEffect:Tf,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:_f,useRef:cp,useState:function(){return _f(Ji)},useDebugValue:Af,useDeferredValue:function(e,n){var r=we();return te===null?Sf(r,e,n):vp(r,te.memoizedState,e,n)},useTransition:function(){var e=_f(Ji)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var r=we();return te!==null?tp(r,te,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pf,useCacheRefresh:bp};Np.useEffectEvent=fp;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=On(),h=xs(o);h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=On(),h=xs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=On(),o=xs(r);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,r),n!==null&&(_n(n,e,r),Ho(n,e,r))}};function Dp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(r,o)||!ko(h,f):!0}function Op(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function xp(e){Su(e)}function Vp(e){console.error(e)}function Mp(e){Su(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=xs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function Up(e){return e=xs(e),e.tag=3,e}function Lp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,r,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function f1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=Cn.current,r!==null){switch(r.tag){case 31:case 13:return Hn===null?sc():r.alternate===null&&ve===0&&(ve=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return r.flags|=65536,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ed(e,o,h)),!1}throw Error(a(435,r.tag))}return ed(e,o,h),sc(),!1}if(Pt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),zo(Pn(e,r)))):(o!==Yh&&(n=Error(a(423),{cause:o}),zo(Pn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,r),h=Df(e.stateNode,o,h),af(e,h),ve!==4&&(ve=2)),!1;var f=Error(a(520),{cause:o});if(f=Pn(f,r),il===null?il=[f]:il.push(f),ve!==4&&(ve=2),n===null)return!0;o=Pn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Up(h),Lp(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),Ve=!1;function $e(e,n,r,o){n.child=e===null?Bg(n,null,r,o):zr(n,e.child,r,o)}function zp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Mr(n),o=ff(e,n,r,g,f,h),E=df(),e!==null&&!Ve?(mf(e,n,h),$i(e,n,h)):(Pt&&E&&Qh(n),n.flags|=1,$e(e,n,o,h),n.child)}function Pp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jp(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(g,o)&&e.ref===n.ref)return $i(e,n,h)}return n.flags|=1,e=Fi(f,o),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,$i(e,n,h)}return xf(e,n,r,o,h)}function Bp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return qp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Gg(n,f):lf(),Fg(n);else return o=n.lanes=536870912,qp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ou(n,f.cachePool),Gg(n,f),ks(),n.memoizedState=null):(e!==null&&Ou(n,null),lf(),ks());return $e(e,n,h,r),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qp(e,n,r,o,h){var f=ef();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),lf(),Fg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hp(e,n,r){return zr(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function d1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Jo(null,e);if(cf(n),(e=le)?(e=e_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,Xe=n,le=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Hp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,Ve||h){if(o=re,o!==null&&(g=yo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),_n(o,e,g),Of;sc(),n=Hp(e,n,r)}else e=f.treeContext,le=Gn(g.nextSibling),Xe=n,Pt=!0,Is=null,qn=!1,e!==null&&Ng(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Fi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,o,h){return Mr(n),r=ff(e,n,r,o,void 0,h),o=df(),e!==null&&!Ve?(mf(e,n,h),$i(e,n,h)):(Pt&&o&&Qh(n),n.flags|=1,$e(e,n,r,h),n.child)}function Gp(e,n,r,o,h,f){return Mr(n),n.updateQueue=null,r=Kg(n,o,r,h),Qg(e),o=df(),e!==null&&!Ve?(mf(e,n,f),$i(e,n,f)):(Pt&&o&&Qh(n),n.flags|=1,$e(e,n,r,f),n.child)}function Fp(e,n,r,o,h){if(Mr(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Je(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(r,E);f.props=R;var z=f.context,G=r.contextType;g=ya,typeof G=="object"&&G!==null&&(g=Je(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Op(n,f,o,g),Os=!1;var P=n.memoizedState;f.state=P,Fo(n,o,f,h),Go(),z=n.memoizedState,E||P!==z||Os?(typeof Y=="function"&&(If(n,r,Y,o),z=n.memoizedState),(R=Os||Dp(n,r,R,o,P,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,G=jr(r,g),f.props=G,Y=n.pendingProps,P=f.context,z=r.contextType,R=ya,typeof z=="object"&&z!==null&&(R=Je(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||P!==R)&&Op(n,f,o,R),Os=!1,P=n.memoizedState,f.state=P,Fo(n,o,f,h),Go();var B=n.memoizedState;g!==Y||P!==B||Os||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),B=n.memoizedState),(G=Os||Dp(n,r,G,o,P,B,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zr(n,e.child,null,h),n.child=zr(n,null,r,h)):$e(e,n,r,h),n.memoizedState=f.state,e=n.child):e=$i(e,n,h),e}function Qp(e,n,r,o){return xr(),n.flags|=256,$e(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:kg()}}function kf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Dn),e}function Kp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Ms(n):ks(),(e=le)?(e=e_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Rg(e),r.return=n,n.child=r,Xe=n,le=null)):e=null,e===null)throw Ns(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Or(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(r),o.childLanes=kf(e,g,r),n.memoizedState=Vf,Jo(null,o)):(Ms(n),Uf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=Lf(e,n,r)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Or(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,zr(n,e.child,null,r),o=n.child,o.memoizedState=Mf(r),o.childLanes=kf(e,g,r),n.memoizedState=Vf,n=Jo(null,o));else if(Ms(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Lf(e,n,r)}else if(Ve||Ta(e,n,r,!1),g=(r&e.childLanes)!==0,Ve||g){if(g=re,g!==null&&(o=yo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Dr(e,o),_n(g,e,o),Of;pd(E)||sc(),n=Lf(e,n,r)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=Gn(E.nextSibling),Xe=n,Pt=!0,Is=null,qn=!1,e!==null&&Ng(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Fi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Fi(z,E):(E=Or(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Mf(r):(h=E.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=kg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,r),n.memoizedState=Vf,Jo(e.child,o)):(Ms(n),r=e.child,e=r.sibling,r=Fi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Uf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Lf(e,n,r){return zr(n,e.child,null,r),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,r)}function zf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Xp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=be.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(be,g),$e(e,n,o,r),o=Pt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,r,n);else if(e.tag===19)Yp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}zf(n,!0,r,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Fi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Fi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function m1(e,n,r){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Ds(n,Oe,e.memoizedState.cache),xr();break;case 27:case 5:Vt(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kp(e,n,r):(Ms(n),e=$i(e,n,r),e!==null?e.sibling:null);Ms(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Xp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(be,be.current),o)break;return null;case 22:return n.lanes=0,Bp(e,n,r,n.pendingProps);case 24:Ds(n,Oe,e.memoizedState.cache)}return $i(e,n,r)}function Jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Pf(e,r)&&(n.flags&128)===0)return Ve=!1,m1(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&Ig(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=jr(e,o),n.tag=1,n=Fp(null,n,e,o,r)):(n.tag=0,n=xf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===St){n.tag=11,n=zp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Pp(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=jr(o,n.pendingProps),Fp(e,n,o,h,r);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Fo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ds(n,Oe,o),o!==f.cache&&Zh(n,[Oe],r,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(e,n,o,r);break t}else if(o!==h){h=Pn(Error(a(424)),n),zo(h),n=Qp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Gn(e.firstChild),Xe=n,Pt=!0,Is=null,qn=!0,r=Bg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xr(),o===h){n=$i(e,n,r);break t}$e(e,n,o,r)}n=n.child}return n;case 26:return Yu(e,n),e===null?(r=o_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,e=n.pendingProps,o=hc(bt.current).createElement(r),o[Ie]=n,o[Be]=e,Ze(o,r,e),Ne(o),n.stateNode=o):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vt(n),e===null&&Pt&&(o=n.stateNode=s_(n.type,n.pendingProps,bt.current),Xe=n,qn=!0,h=le,Hs(n.type)?(_d=h,le=Gn(o.firstChild)):le=h),$e(e,n,n.pendingProps.children,r),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=le)&&(o=G1(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Xe=n,le=Gn(o.firstChild),qn=!1,h=!0):h=!1),h||Ns(n)),Vt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,r1,null,null,r),hl._currentValue=h),Yu(e,n),$e(e,n,o,r),n.child;case 6:return e===null&&Pt&&((e=r=le)&&(r=F1(r,n.pendingProps,qn),r!==null?(n.stateNode=r,Xe=n,le=null,e=!0):e=!1),e||Ns(n)),null;case 13:return Kp(e,n,r);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zr(n,null,o,r):$e(e,n,o,r),n.child;case 11:return zp(e,n,n.type,n.pendingProps,r);case 7:return $e(e,n,n.pendingProps,r),n.child;case 8:return $e(e,n,n.pendingProps.children,r),n.child;case 12:return $e(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),$e(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=Je(h),o=o(h),n.flags|=1,$e(e,n,o,r),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,r);case 15:return jp(e,n,n.type,n.pendingProps,r);case 19:return Xp(e,n,r);case 31:return d1(e,n,r);case 22:return Bp(e,n,r,n.pendingProps);case 24:return Mr(n),o=Je(Oe),e===null?(h=ef(),h===null&&(h=re,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ds(n,Oe,h)):((e.lanes&r)!==0&&(rf(e,n),Fo(n,null,null,r),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Oe,o)):(o=f.cache,Ds(n,Oe,o),o!==h.cache&&Zh(n,[Oe],r,!0))),$e(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Zi(e){e.flags|=4}function jf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw Lr=Vu,nf}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(Sy())e.flags|=8192;else throw Lr=Vu,nf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Va|=n)}function $o(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function g1(e,n,r){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Yi(Oe),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Zi(n),f!==null?(ue(n),$p(n,f)):(ue(n),jf(n,h,null,o,r))):f?f!==e.memoizedState?(Zi(n),ue(n),$p(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Zi(n),ue(n),jf(n,h,e,o,r)),null;case 27:if(It(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=it.current,Ea(n)?Dg(n):(e=s_(h,o,r),n.stateNode=e,Zi(n))}return ue(n),null;case 5:if(It(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=it.current,Ea(n))Dg(n);else{var g=hc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(n)}}return ue(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,r)),e||Ns(n,!0)}else e=hc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ue(n),null);case 4:return se(),e===null&&ld(n.stateNode.containerInfo),ue(n),null;case 10:return Yi(n.type),ue(n),null;case 19:if(K(be),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)wg(r,e),r=r.sibling;return et(be,be.current&1|2),Pt&&Qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>ec&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return ue(n),null}else 2*ln()-o.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,r=be.current,et(be,h?r&1|2:r&1),Pt&&Qi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return In(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(kr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Yi(Oe),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Yi(Oe),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return It(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(be),null;case 4:return se(),null;case 10:return Yi(n.type),null;case 22:case 23:return In(n),uf(),e!==null&&K(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Yi(Oe),null;case 25:return null;default:return null}}function Zp(e,n){switch(Kh(n),n.tag){case 3:Yi(Oe),se();break;case 26:case 27:case 5:It(n);break;case 4:se();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:K(be);break;case 10:Yi(n.type);break;case 22:case 23:In(n),uf(),e!==null&&K(kr);break;case 24:Yi(Oe)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function Us(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){$t(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function Wp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Hg(n,r)}catch(o){$t(e,e.return,o)}}}function ty(e,n,r){r.props=jr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function Wo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,n,h)}}function Ci(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function ey(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;z1(o,e.type,r,n),o[Be]=n}catch(h){$t(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Hs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Hs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function iy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,r),n[Ie]=e,n[Be]=r}catch(f){$t(e,e.return,f)}}var Wi=!1,Me=!1,Gf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,He=null;function y1(e,n){if(e=e.containerInfo,hd=_c,e=pg(e),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,P=null;e:for(;;){for(var B;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(B=Y.firstChild)!==null;)P=Y,Y=B;for(;;){if(Y===e)break e;if(P===r&&++z===h&&(E=g),P===f&&++G===o&&(R=g),(B=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},_c=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=jr(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)gd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function ry(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:es(e,r),o&4&&Zo(5,r);break;case 1:if(es(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(r,r.return,g)}else{var h=jr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(r,r.return,g)}}o&64&&Wp(r),o&512&&Wo(r,r.return);break;case 3:if(es(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hg(e,n)}catch(g){$t(r,r.return,g)}}break;case 27:n===null&&o&4&&iy(r);case 26:case 5:es(e,r),n===null&&o&4&&ey(r),o&512&&Wo(r,r.return);break;case 12:es(e,r);break;case 31:es(e,r),o&4&&ly(e,r);break;case 13:es(e,r),o&4&&uy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=R1.bind(null,r),Q1(e,r))));break;case 22:if(o=r.memoizedState!==null||Wi,!o){n=n!==null&&n.memoizedState!==null||Me,h=Wi;var f=Me;Wi=o,(Me=n)&&!f?ns(e,r,(r.subtreeFlags&8772)!==0):es(e,r),Wi=h,Me=f}break;case 30:break;default:es(e,r)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,mn=!1;function ts(e,n,r){for(r=r.child;r!==null;)oy(e,n,r),r=r.sibling}function oy(e,n,r){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Yn,r)}catch{}switch(r.tag){case 26:Me||Ci(r,n),ts(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Me||Ci(r,n);var o=de,h=mn;Hs(r.type)&&(de=r.stateNode,mn=!1),ts(e,n,r),ll(r.stateNode),de=o,mn=h;break;case 5:Me||Ci(r,n);case 6:if(o=de,h=mn,de=null,ts(e,n,r),de=o,mn=h,de!==null)if(mn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{de.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:de!==null&&(mn?(e=de,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):Wy(de,r.stateNode));break;case 4:o=de,h=mn,de=r.stateNode.containerInfo,mn=!0,ts(e,n,r),de=o,mn=h;break;case 0:case 11:case 14:case 15:Us(2,r,n),Me||Us(4,r,n),ts(e,n,r);break;case 1:Me||(Ci(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ty(r,n,o)),ts(e,n,r);break;case 21:ts(e,n,r);break;case 22:Me=(o=Me)||r.memoizedState!==null,ts(e,n,r),Me=o;break;default:ts(e,n,r)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){$t(n,n.return,r)}}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){$t(n,n.return,r)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=_1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){de=E.stateNode,mn=!1;break t}break;case 5:de=E.stateNode,mn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(de===null)throw Error(a(160));oy(f,g,h),de=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var si=null;function cy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Us(3,e,e.return),Zo(3,e),Us(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(Me||r===null||Ci(r,r.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=si;if(gn(n,e),pn(e),o&512&&(Me||r===null||Ci(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,r),f[Ie]=e,Ne(f),o=f;break t;case"link":var g=c_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;case"meta":if(g=c_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,Ne(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(Me||r===null||Ci(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(Me||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(rt){$t(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){$t(e,e.return,rt)}}break;case 3:if(mc=null,h=si,si=fc(n.containerInfo),gn(n,e),si=h,pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(rt){$t(e,e.return,rt)}Gf&&(Gf=!1,hy(e));break;case 4:o=si,si=fc(e.stateNode.containerInfo),gn(n,e),pn(e),si=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Wi,G=Me;if(Wi=z||h,Me=G||R,gn(n,e),Me=G,Wi=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Wi||Me||Br(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){$t(R,R.return,rt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){$t(R,R.return,rt)}}}else if(n.tag===18){if(r===null){R=n;try{var B=R.stateNode;h?t_(B,!0):t_(R.stateNode,!1)}catch(rt){$t(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ny(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);$u(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(dn(g,""),r.flags&=-33);var E=qf(e);$u(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=qf(e);Hf(e,z,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function es(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Br(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ty(n,n.return,r),Br(n);break;case 27:ll(n.stateNode);case 26:case 5:Ci(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ns(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ns(h,f,r),Zo(4,f);break;case 1:if(ns(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)qg(R[h],E)}catch(z){$t(o,o.return,z)}}r&&g&64&&Wp(f),Wo(f,f.return);break;case 27:iy(f);case 26:case 5:ns(h,f,r),r&&o===null&&g&4&&ey(f),Wo(f,f.return);break;case 12:ns(h,f,r);break;case 31:ns(h,f,r),r&&g&4&&ly(h,f);break;case 13:ns(h,f,r),r&&g&4&&uy(h,f);break;case 22:f.memoizedState===null&&ns(h,f,r),Wo(f,f.return);break;case 30:break;default:ns(h,f,r)}n=n.sibling}}function Ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Po(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function ri(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,r,o),n=n.sibling}function fy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,r,o),h&2048&&Zo(9,n);break;case 1:ri(e,n,r,o);break;case 3:ri(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){ri(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ri(e,n,r,o);break;case 31:ri(e,n,r,o);break;case 13:ri(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,r,o):tl(e,n):f._visibility&2?ri(e,n,r,o):(f._visibility|=2,Da(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:ri(e,n,r,o),h&2048&&Qf(n.alternate,n);break;default:ri(e,n,r,o)}}function Da(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,R,h),Zo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Da(f,g,E,R,h):tl(f,g):(G._visibility|=2,Da(f,g,E,R,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Da(f,g,E,R,h),h&&z&2048&&Qf(g.alternate,g);break;default:Da(f,g,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&Ff(o.alternate,o);break;case 24:tl(r,o),h&2048&&Qf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var el=8192;function Oa(e,n,r){if(e.subtreeFlags&el)for(e=e.child;e!==null;)dy(e,n,r),e=e.sibling}function dy(e,n,r){switch(e.tag){case 26:Oa(e,n,r),e.flags&el&&e.memoizedState!==null&&sA(r,si,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,r);break;case 3:case 4:var o=si;si=fc(e.stateNode.containerInfo),Oa(e,n,r),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Oa(e,n,r),el=o):Oa(e,n,r));break;default:Oa(e,n,r)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Us(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):nl(e);break;default:nl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Us(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function py(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:Us(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,He=o;else t:for(r=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(ay(o),o===r){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var v1={getCacheForType:function(e){var n=Je(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Je(Oe).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Dt=null,Mt=0,Jt=0,Nn=null,Ls=!1,xa=!1,Kf=!1,is=0,ve=0,zs=0,qr=0,Yf=0,Dn=0,Va=0,il=null,yn=null,Xf=!1,tc=0,yy=0,ec=1/0,nc=null,Ps=null,ze=0,js=null,Ma=null,ss=0,Jf=0,$f=null,_y=null,sl=0,Zf=null;function On(){return(Kt&2)!==0&&Mt!==0?Mt&-Mt:q.T!==null?sd():iu()}function vy(){if(Dn===0)if((Mt&536870912)===0||Pt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Dn=e}else Dn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Dn}function _n(e,n,r){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Bs(e,Mt,Dn,!1)),pr(e,r),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&(qr|=r),ve===4&&Bs(e,Mt,Dn,!1)),Ii(e))}function Ey(e,n,r){if((Kt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?S1(e,n):td(e,n,!0),f=o;do{if(h===0){xa&&!o&&Bs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!T1(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Bs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Dn,!Ls);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-ln(),10<h)){if(Bs(o,n,Dn,!Ls),ci(o,0,!0)!==0)break t;ss=n,o.timeoutHandle=$y(Ty.bind(null,o,r,yn,nc,Xf,n,Dn,qr,Va,Ls,f,"Throttled",-0,0),h);break t}Ty(o,r,yn,nc,Xf,n,Dn,qr,Va,Ls,f,null,-0,0)}}break}while(!0);Ii(e)}function Ty(e,n,r,o,h,f,g,E,R,z,G,Y,P,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},dy(n,f,Y);var rt=(f&62914560)===f?tc-ln():(f&4194048)===f?yy-ln():0;if(rt=rA(Y,rt),rt!==null){ss=f,e.cancelPendingCommit=rt(Ny.bind(null,e,n,f,r,o,h,g,E,R,G,Y,null,P,B)),Bs(e,f,g,!z);return}}Ny(e,n,f,r,o,h,g,E,R)}function T1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(e,n,r,o){n&=~Yf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&yr(e,r,n)}function ic(){return(Kt&6)===0?(rl(0),!1):!0}function Wf(){if(Dt!==null){if(Jt===0)var e=Dt.return;else e=Dt,Ki=Vr=null,gf(e),wa=null,Bo=0,e=Dt;for(;e!==null;)Zp(e.alternate,e),e=e.return;Dt=null}}function ka(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,B1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ss=0,Wf(),re=e,Dt=r=Fi(e.current,null),Mt=n,Jt=0,Nn=null,Ls=!1,xa=Xn(e,n),Kf=!1,Va=Dn=Yf=qr=zs=ve=0,yn=il=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return is=n,bu(),r}function Ay(e,n){Rt=null,q.H=Xo,n===ba||n===xu?(n=zg(),Jt=3):n===nf?(n=zg(),Jt=4):Jt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Dt===null&&(ve=1,Qu(e,Pn(n,e.current)))}function Sy(){var e=Cn.current;return e===null?!0:(Mt&4194048)===Mt?Hn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Hn:!1}function by(){var e=q.H;return q.H=Xo,e===null?Xo:e}function wy(){var e=q.A;return q.A=v1,e}function sc(){ve=4,Ls||(Mt&4194048)!==Mt&&Cn.current!==null||(xa=!0),(zs&134217727)===0&&(qr&134217727)===0||re===null||Bs(re,Mt,Dn,!1)}function td(e,n,r){var o=Kt;Kt|=2;var h=by(),f=wy();(re!==e||Mt!==n)&&(nc=null,ka(e,n)),n=!1;var g=ve;t:do try{if(Jt!==0&&Dt!==null){var E=Dt,R=Nn;switch(Jt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Jt;if(Jt=0,Nn=null,Ua(e,E,R,z),r&&xa){g=0;break t}break;default:z=Jt,Jt=0,Nn=null,Ua(e,E,R,z)}}A1(),g=ve;break}catch(G){Ay(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ki=Vr=null,Kt=o,q.H=h,q.A=f,Dt===null&&(re=null,Mt=0,bu()),g}function A1(){for(;Dt!==null;)Ry(Dt)}function S1(e,n){var r=Kt;Kt|=2;var o=by(),h=wy();re!==e||Mt!==n?(nc=null,ec=ln()+500,ka(e,n)):xa=Xn(e,n);t:do try{if(Jt!==0&&Dt!==null){n=Dt;var f=Nn;e:switch(Jt){case 1:Jt=0,Nn=null,Ua(e,n,f,1);break;case 2:case 9:if(Ug(f)){Jt=0,Nn=null,Cy(n);break}n=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ii(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Ug(f)?(Jt=0,Nn=null,Cy(n)):(Jt=0,Nn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?f_(g):E.stateNode.complete){Jt=0,Nn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,rc(z)):Dt=null}break e}}Jt=0,Nn=null,Ua(e,n,f,5);break;case 6:Jt=0,Nn=null,Ua(e,n,f,6);break;case 8:Wf(),ve=6;break t;default:throw Error(a(462))}}b1();break}catch(G){Ay(e,G)}while(!0);return Ki=Vr=null,q.H=o,q.A=h,Kt=r,Dt!==null?0:(re=null,Mt=0,bu(),ve)}function b1(){for(;Dt!==null&&!ps();)Ry(Dt)}function Ry(e){var n=Jp(e.alternate,e,is);e.memoizedProps=e.pendingProps,n===null?rc(e):Dt=n}function Cy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Gp(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Gp(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:gf(n);default:Zp(r,n),n=Dt=wg(n,is),n=Jp(r,n,is)}e.memoizedProps=e.pendingProps,n===null?rc(e):Dt=n}function Ua(e,n,r,o){Ki=Vr=null,gf(n),wa=null,Bo=0;var h=n.return;try{if(f1(e,h,n,r,Mt)){ve=1,Qu(e,Pn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ve=1,Qu(e,Pn(r,e.current)),Dt=null;return}n.flags&32768?(Pt||o===1?e=!0:xa||(Mt&536870912)!==0?e=!1:(Ls=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,Ls);return}e=n.return;var r=g1(n.alternate,n,is);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ve===0&&(ve=5)}function Iy(e,n){do{var r=p1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);ve=6,Dt=null}function Ny(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do ac();while(ze!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,xh(e,r,f,g,E,R),e===re&&(Dt=re=null,Mt=0),Ma=n,js=e,ss=r,Jf=f,$f=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(ys,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,g=Kt,Kt|=4;try{y1(e,n,r)}finally{Kt=g,tt.p=h,q.T=o}}ze=1,Dy(),Oy(),xy()}}function Dy(){if(ze===1){ze=0;var e=js,n=Ma,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Kt;Kt|=4;try{cy(n,e);var f=fd,g=pg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&gg(E.ownerDocument.documentElement,E)){if(R!==null&&Uh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var B=P.getSelection(),rt=E.textContent.length,mt=Math.min(R.start,rt),ne=R.end===void 0?mt:Math.min(R.end,rt);!B.extend&&mt>ne&&(g=ne,ne=mt,mt=g);var M=mg(E,mt),x=mg(E,ne);if(M&&x&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=Y.createRange();L.setStart(M.node,M.offset),B.removeAllRanges(),mt>ne?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!hd,fd=hd=null}finally{Kt=h,tt.p=o,q.T=r}}e.current=n,ze=2}}function Oy(){if(ze===2){ze=0;var e=js,n=Ma,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Kt;Kt|=4;try{ry(e,n.alternate,n)}finally{Kt=h,tt.p=o,q.T=r}}ze=3}}function xy(){if(ze===4||ze===3){ze=0,ji();var e=js,n=Ma,r=ss,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ma=js=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),Bi(r),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(ss&3)!==0&&ac(),Ii(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Zf?sl++:(sl=0,Zf=e):sl=0,rl(0)}}function Vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function ac(){return Dy(),Oy(),xy(),My()}function My(){if(ze!==5)return!1;var e=js,n=Jf;Jf=0;var r=Bi(ss),o=q.T,h=tt.p;try{tt.p=32>r?32:r,q.T=null,r=$f,$f=null;var f=js,g=ss;if(ze=0,Ma=js=null,ss=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,gy(f.current),fy(f,f.current,g,r),Kt=E,rl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{tt.p=h,q.T=o,Vy(e,n)}}function ky(e,n,r){n=Pn(r,n),n=Df(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(pr(e,2),Ii(e))}function $t(e,n,r){if(e.tag===3)ky(e,e,r);else for(;n!==null;){if(n.tag===3){ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=Pn(r,e),r=Up(2),o=Vs(n,r,2),o!==null&&(Lp(r,o,n,e),pr(o,2),Ii(o));break}}n=n.return}}function ed(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Kf=!0,h.add(r),e=w1.bind(null,e,n,r),n.then(e,e))}function w1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,re===e&&(Mt&r)===r&&(ve===4||ve===3&&(Mt&62914560)===Mt&&300>ln()-tc?(Kt&2)===0&&ka(e,0):Yf|=r,Va===Mt&&(Va=0)),Ii(e)}function Uy(e,n){n===0&&(n=nu()),e=Dr(e,n),e!==null&&(pr(e,n),Ii(e))}function R1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(e,r)}function C1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,r)}function I1(e,n){return me(e,n)}var oc=null,La=null,nd=!1,lc=!1,id=!1,qs=0;function Ii(e){e!==La&&e.next===null&&(La===null?oc=La=e:La=La.next=e),lc=!0,nd||(nd=!0,D1())}function rl(e,n){if(!id&&lc){id=!0;do for(var r=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jy(o,f))}else f=Mt,f=ci(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(r=!0,jy(o,f));o=o.next}while(r);id=!1}}function N1(){Ly()}function Ly(){lc=nd=!1;var e=0;qs!==0&&j1()&&(e=qs);for(var n=ln(),r=null,o=oc;o!==null;){var h=o.next,f=zy(o,n);f===0?(o.next=null,r===null?oc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}ze!==0&&ze!==5||rl(e),qs!==0&&(qs=0)}function zy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,r=Mt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&An(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&An(o),Bi(r)){case 2:case 8:r=go;break;case 32:r=ys;break;case 268435456:r=$l;break;default:r=ys}return o=Py.bind(null,e),r=me(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&An(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var o=Mt;return o=ci(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),zy(e,ln()),e.callbackNode!=null&&e.callbackNode===r?Py.bind(null,e):null)}function jy(e,n){if(ac())return null;Ey(e,n,!0)}function D1(){q1(function(){(Kt&6)!==0?me(mo,N1):Ly()})}function sd(){if(qs===0){var e=Aa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),qs=e}return qs}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function O1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=By((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?By(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qs!==0){var R=g?qy(h,g):new FormData(h);bf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?qy(h,g):new FormData(h),bf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],x1=ad.toLowerCase(),V1=ad[0].toUpperCase()+ad.slice(1);ii(x1,"on"+V1)}ii(vg,"onAnimationEnd"),ii(Eg,"onAnimationIteration"),ii(Tg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(XT,"onTransitionRun"),ii(JT,"onTransitionStart"),ii($T,"onTransitionCancel"),ii(Ag,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Hy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}}}}function Ot(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(Gy(n,e,2,!1),r.add(o))}function od(e,n,r){var o=0;n&&(o|=4),Gy(r,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uc]){e[uc]=!0,_o.forEach(function(r){r!=="selectionchange"&&(M1.has(r)||od(r,!1,e),od(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,od("selectionchange",!1,n))}}function Gy(e,n,r,o){switch(v_(n)){case 2:var h=lA;break;case 8:h=uA;break;default:h=Sd}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ss(function(){var z=f,G=kn(r),Y=[];t:{var P=Sg.get(e);if(P!==void 0){var B=Ti,rt=e;switch(e){case"keypress":if(br(r)===0)break t;case"keydown":case"keyup":B=Eu;break;case"focusin":rt="focus",B=Rr;break;case"focusout":rt="blur",B=Rr;break;case"beforeblur":case"afterblur":B=Rr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case vg:case Eg:case Tg:B=du;break;case Ag:B=T;break;case"scroll":case"scrollend":B=Do;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Gi;break;case"toggle":case"beforetoggle":B=wt}var mt=(n&4)!==0,ne=!mt&&(e==="scroll"||e==="scrollend"),M=mt?P!==null?P+"Capture":null:P;mt=[];for(var x=z,L;x!==null;){var Q=x;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Wn(x,M),Q!=null&&mt.push(ol(x,Q,L))),ne)break;x=x.return}0<mt.length&&(P=new B(P,rt,null,r,G),Y.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",P&&r!==Co&&(rt=r.relatedTarget||r.fromElement)&&(mi(rt)||rt[fi]))break t;if((B||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,B?(rt=r.relatedTarget||r.toElement,B=z,rt=rt?mi(rt):null,rt!==null&&(ne=c(rt),mt=rt.tag,rt!==ne||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(B=null,rt=z),B!==rt)){if(mt=Oo,Q="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Gi,Q="onPointerLeave",M="onPointerEnter",x="pointer"),ne=B==null?P:Sn(B),L=rt==null?P:Sn(rt),P=new mt(Q,x+"leave",B,r,G),P.target=ne,P.relatedTarget=L,Q=null,mi(G)===z&&(mt=new mt(M,x+"enter",rt,r,G),mt.target=L,mt.relatedTarget=ne,Q=mt),ne=Q,B&&rt)e:{for(mt=k1,M=B,x=rt,L=0,Q=M;Q;Q=mt(Q))L++;Q=0;for(var ct=x;ct;ct=mt(ct))Q++;for(;0<L-Q;)M=mt(M),L--;for(;0<Q-L;)x=mt(x),Q--;for(;L--;){if(M===x||x!==null&&M===x.alternate){mt=M;break e}M=mt(M),x=mt(x)}mt=null}else mt=null;B!==null&&Fy(Y,P,B,mt,!1),rt!==null&&ne!==null&&Fy(Y,ne,rt,mt,!0)}}t:{if(P=z?Sn(z):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var qt=lg;else if(ag(P))if(ug)qt=QT;else{qt=GT;var at=HT}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&aa(z.elementType)&&(qt=lg):qt=FT;if(qt&&(qt=qt(e,z))){og(Y,qt,r,G);break t}at&&at(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&bo(P,"number",P.value)}switch(at=z?Sn(z):window,e){case"focusin":(ag(at)||at.contentEditable==="true")&&(ma=at,Lh=z,Uo=null);break;case"focusout":Uo=Lh=ma=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,yg(Y,r,G);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":yg(Y,r,G)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else da?Cr(e,r)&&(kt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(kt="onCompositionStart");kt&&(bi&&r.locale!=="ko"&&(da||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&da&&(Ct=No()):(Ei=G,Io="value"in Ei?Ei.value:Ei.textContent,da=!0)),at=cc(z,kt),0<at.length&&(kt=new Si(kt,e,null,r,G),Y.push({event:kt,listeners:at}),Ct?kt.data=Ct:(Ct=fa(r),Ct!==null&&(kt.data=Ct)))),(Ct=Ln?PT(e,r):jT(e,r))&&(kt=cc(z,"onBeforeInput"),0<kt.length&&(at=new Si("onBeforeInput","beforeinput",null,r,G),Y.push({event:at,listeners:kt}),at.data=Ct)),O1(Y,e,z,r,G)}Hy(Y,n)})}function ol(e,n,r){return{instance:e,listener:n,currentTarget:r}}function cc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,r),h!=null&&o.unshift(ol(e,h,f)),h=Wn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function k1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Wn(r,f),z!=null&&g.unshift(ol(r,z,R))):h||(z=Wn(r,f),z!=null&&g.push(ol(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var U1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(L1,"")}function Ky(e,n){return n=Qy(n),Qy(e)===n}function ee(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,r,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,sa(e,r,o))}}function cd(e,n,r,o,h,f){switch(r){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Be]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function Ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,g,r,null)}}h&&ee(e,n,"srcSet",r.srcSet,r,null),o&&ee(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ee(e,n,o,G,r,null)}}ou(e,f,E,R,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ee(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?vs(e,!!o,n,!1):r!=null&&vs(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(e,n,g,E,r,null)}Es(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,R,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ot(al[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,z,o,r,null)}return;default:if(aa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&cd(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ee(e,n,E,o,r,null))}function z1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(B)||ee(e,n,B,null,o,Y)}}for(var P in o){var B=o[P];if(Y=r[P],o.hasOwnProperty(P)&&(B!=null||Y!=null))switch(P){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&ee(e,n,P,B,o,Y)}}ra(e,g,E,R,z,G,f,h);return;case"select":B=g=E=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ee(e,n,h,f,o,R)}n=E,r=g,o=B,P!=null?vs(e,!!r,P,!1):!!o!=!!r&&(n!=null?vs(e,!!r,n,!0):vs(e,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":P=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ee(e,n,g,h,o,f)}lu(e,P,B);return;case"option":for(var rt in r)P=r[rt],r.hasOwnProperty(rt)&&P!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:ee(e,n,rt,null,o,P));for(R in o)P=o[R],B=r[R],o.hasOwnProperty(R)&&P!==B&&(P!=null||B!=null)&&(R==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":ee(e,n,R,P,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!o.hasOwnProperty(mt)&&ee(e,n,mt,null,o,P);for(z in o)if(P=o[z],B=r[z],o.hasOwnProperty(z)&&P!==B&&(P!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:ee(e,n,z,P,o,B)}return;default:if(aa(n)){for(var ne in r)P=r[ne],r.hasOwnProperty(ne)&&P!==void 0&&!o.hasOwnProperty(ne)&&cd(e,n,ne,void 0,o,P);for(G in o)P=o[G],B=r[G],!o.hasOwnProperty(G)||P===B||P===void 0&&B===void 0||cd(e,n,G,P,o,B);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!o.hasOwnProperty(M)&&ee(e,n,M,null,o,P);for(Y in o)P=o[Y],B=r[Y],!o.hasOwnProperty(Y)||P===B||P==null&&B==null||ee(e,n,Y,P,o,B)}function Yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Yy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Yy(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(H1)}:$y;function H1(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function Wy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ll(e.ownerDocument.body);r=h}while(r);Ba(n)}function t_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function G1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function F1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Gn(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function n_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Gn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function s_(e,n,r){switch(n=hc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Fn=new Map,r_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rs=tt.d;tt.d={f:K1,r:Y1,D:X1,C:J1,L:$1,m:Z1,X:tA,S:W1,M:eA};function K1(){var e=rs.f(),n=ic();return e||n}function Y1(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):rs.r(e)}var za=typeof document>"u"?null:document;function a_(e,n,r){var o=za;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),r_.has(h)||(r_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Ne(n),o.head.appendChild(n)))}}function X1(e){rs.D(e),a_("dns-prefetch",e,null)}function J1(e,n){rs.C(e,n),a_("preconnect",e,n)}function $1(e,n,r){rs.L(e,n,r);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=ja(e)}Fn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Fn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ze(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Z1(e,n){rs.m(e,n);var r=za;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Fn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Fn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cl(f)))return}o=r.createElement("link"),Ze(o,"link",e),Ne(o),r.head.appendChild(o)}}}function W1(e,n,r){rs.S(e,n,r);var o=za;if(o&&e){var h=gi(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Fn.get(f))&&vd(e,r);var R=g=o.createElement("link");Ne(R),Ze(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function tA(e,n){rs.X(e,n);var r=za;if(r&&e){var o=gi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=Fn.get(h))&&Ed(e,n),f=r.createElement("script"),Ne(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eA(e,n){rs.M(e,n);var r=za;if(r&&e){var o=gi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Fn.get(h))&&Ed(e,n),f=r.createElement("script"),Ne(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,n,r,o){var h=(h=bt.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=gi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pa(r.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Fn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fn.set(e,r),f||nA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=gi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+fn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",r),Ne(n),e.head.appendChild(n))}function ja(e){return'[src="'+fn(e)+'"]'}function cl(e){return"script[async]"+e}function u_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(r.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Ze(o,"style",h),dc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Pa(r.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=l_(r),(h=Fn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ze(f,"link",o),n.state.loading|=4,dc(f,r.precedence,e),n.instance=f;case"script":return f=ja(r.src),(h=e.querySelector(cl(f)))?(n.instance=h,Ne(h),h):(o=r,(h=Fn.get(f))&&(o=b({},r),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,r.precedence,e));return n.instance}function dc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function c_(e,n,r){if(mc===null){var o=new Map,h=mc=new Map;h.set(r,o)}else h=mc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function h_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function iA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,o=l_(o),(h=Fn.get(h))&&vd(o,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ze(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function rA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(aA,e),pc=null,gc.call(e))}function aA(e,n){if(!(n.state.loading&4)){var r=pc.get(e);if(r)var o=r.get(null);else{r=new Map,pc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function oA(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function d_(e,n,r,o,h,f,g,E,R,z,G,Y){return e=new oA(e,n,r,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},sf(f),e}function m_(e){return e?(e=ya,e):ya}function g_(e,n,r,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=xs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Vs(e,o,n),r!==null&&(_n(r,e,n),Ho(r,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ad(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&_n(n,e,67108864),Ad(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=On();n=_r(n);var r=Dr(e,n);r!==null&&_n(r,e,n),Ad(e,n)}}var _c=!0;function lA(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,r,o)}finally{tt.p=f,q.T=h}}function uA(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,r,o)}finally{tt.p=f,q.T=h}}function Sd(e,n,r,o){if(_c){var h=bd(o);if(h===null)ud(e,n,o,vc,r),E_(e,o);else if(hA(h,e,n,r,o))o.stopPropagation();else if(E_(e,o),n&4&&-1<cA.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Ae(g);E.entanglements[1]|=R,g&=~R}Ii(f),(Kt&6)===0&&(ec=ln()+500,rl(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&_n(E,f,2),ic(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,vc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,r)}}function bd(e){return e=kn(e),wd(e)}var vc=null;function wd(e){if(vc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case mo:return 2;case go:return 8;case ys:case Dh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Rd=!1,Gs=null,Fs=null,Qs=null,fl=new Map,dl=new Map,Ks=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hA(e,n,r,o,h){switch(n){case"focusin":return Gs=ml(Gs,e,n,r,o,h),!0;case"dragenter":return Fs=ml(Fs,e,n,r,o,h),!0;case"mouseover":return Qs=ml(Qs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,r,o,h)),!0}return!1}function T_(e){var n=mi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){__(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Jn(e.priority,function(){__(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Co=o,r.target.dispatchEvent(o),Co=null}else return n=Mn(r),n!==null&&y_(n),e.blockedOn=r,!1;n.shift()}return!0}function A_(e,n,r){Ec(e)&&r.delete(n)}function fA(){Rd=!1,Gs!==null&&Ec(Gs)&&(Gs=null),Fs!==null&&Ec(Fs)&&(Fs=null),Qs!==null&&Ec(Qs)&&(Qs=null),fl.forEach(A_),dl.forEach(A_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fA)))}var Ac=null;function S_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||r)===null)continue;break}var f=Mn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(R){return Tc(R,e)}Gs!==null&&Tc(Gs,e),Fs!==null&&Tc(Fs,e),Qs!==null&&Tc(Qs,e),fl.forEach(n),dl.forEach(n);for(var r=0;r<Ks.length;r++){var o=Ks[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)T_(r),r.blockedOn===null&&Ks.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Be]||null;if(typeof f=="function")g||S_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),S_(r)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Sc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=On();g_(r,o,e,n,null,null)},Sc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),ic(),n[fi]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ks.length&&n!==0&&n<Ks[r].priority;r++);Ks.splice(r,0,e),r===0&&T_(e)}};var w_=t.version;if(w_!=="19.2.4")throw Error(a(527,w_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var dA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Yn=bc.inject(dA),Ke=bc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=xp,f=Vp,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=d_(e,1,!1,null,null,r,o,null,h,f,g,b_),e[fi]=n.current,ld(e),new Cd(n)},pl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=xp,g=Vp,E=Mp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=d_(e,1,!0,n,r??null,o,h,R,f,g,E,b_),n.context=m_(null),r=n.current,o=On(),o=_r(o),h=xs(o),h.callback=null,Vs(r,h,o),r=o,n.current.lanes=r,pr(n,r),Ii(n),e[fi]=n.current,ld(e),new Sc(n)},pl.version="19.2.4",pl}var k_;function SA(){if(k_)return Dd.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=AA(),Dd.exports}var bA=SA();const f0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const wA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const RA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const U_=s=>{const t=RA(s);return t.charAt(0).toUpperCase()+t.slice(1)};var CA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const NA=Gt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Gt.createElement("svg",{ref:_,...CA,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:f0("lucide",l),...!c&&!IA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Gt.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Pi=(s,t)=>{const i=Gt.forwardRef(({className:a,...l},c)=>Gt.createElement(NA,{ref:c,iconNode:t,className:f0(`lucide-${wA(U_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=U_(s),i};const DA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],d0=Pi("copy",DA);const OA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xA=Pi("crown",OA);const VA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],MA=Pi("info",VA);const kA=[["path",{d:"M5 12h14",key:"1ays0h"}]],UA=Pi("minus",kA);const LA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zA=Pi("plus",LA);const PA=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],jA=Pi("rotate-cw",PA);const BA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],qA=Pi("smartphone",BA);const HA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GA=Pi("user",HA);const FA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],QA=Pi("users",FA);const KA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L_=Pi("x",KA),YA=()=>{};var z_={};const m0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},XA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(N=64)),a.push(i[A],i[b],i[N],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(m0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):XA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new JA;const N=c<<2|p>>4;if(a.push(N),y!==64){const F=p<<4&240|y>>2;if(a.push(F),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $A=function(s){const t=m0(s);return g0.encodeByteArray(t,!0)},Fc=function(s){return $A(s).replace(/\./g,"")},p0=function(s){try{return g0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WA=()=>ZA().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof z_>"u")return;const s=z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&p0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return YA()||WA()||tS()||eS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y0=s=>ch()?.emulatorHosts?.[s],nS=s=>{const t=y0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},_0=()=>ch()?.config,v0=s=>ch()?.[`_${s}`];class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(s){return(await fetch(s,{credentials:"include"})).ok}function sS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Al={};function rS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function aS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function T0(s,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Al[s]===t||Al[s]||P_)return;Al[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=rS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{P_=!0,d()},N}function A(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=aS(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),pt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const yt=N.element;p(yt),A($,nt);const St=y();_(pt,ft),yt.append(pt,Z,$,St),document.body.appendChild(yt)}c?(Z.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function lS(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const pS="FirebaseError";class gs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=pS,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?yS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new gs(l,p,a)}}function yS(s,t){return s.replace(_S,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const _S=/\{\$([^}]+)}/g;function vS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Kr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(j_(c)&&j_(d)){if(!Kr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(s){return s!==null&&typeof s=="object"}function jl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ES(s,t){const i=new TS(s,t);return i.subscribe.bind(i)}class TS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");AS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function hn(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class SS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new iS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wS(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bS(s){return s===Hr?void 0:s}function wS(s){return s.instantiationMode==="EAGER"}class RS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new SS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const CS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},IS=Ut.INFO,NS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},DS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=NS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=IS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const OS=(s,t)=>t.some(i=>s instanceof i);let B_,q_;function xS(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Qd=new WeakMap,S0=new WeakMap,kd=new WeakMap,vm=new WeakMap;function MS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(er(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function kS(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||S0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function US(s){Kd=s(Kd)}function LS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ud(this),t,...i);return S0.set(a,t.sort?t.sort():[t]),er(a)}:VS().includes(s)?function(...t){return s.apply(Ud(this),t),er(A0.get(this))}:function(...t){return er(s.apply(Ud(this),t))}}function zS(s){return typeof s=="function"?LS(s):(s instanceof IDBTransaction&&kS(s),OS(s,xS())?new Proxy(s,Kd):s)}function er(s){if(s instanceof IDBRequest)return MS(s);if(kd.has(s))return kd.get(s);const t=zS(s);return t!==s&&(kd.set(s,t),vm.set(t,s)),t}const Ud=s=>vm.get(s);function PS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=er(d);return a&&d.addEventListener("upgradeneeded",_=>{a(er(d.result),_.oldVersion,_.newVersion,er(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const jS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Ld=new Map;function H_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=BS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||jS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}US(s=>({...s,get:(t,i,a)=>H_(t,i)||s.get(t,i,a),has:(t,i)=>!!H_(t,i)||s.has(t,i)}));class qS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HS(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",G_="0.14.8";const us=new _m("@firebase/app"),GS="@firebase/app-compat",FS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",JS="@firebase/auth-compat",$S="@firebase/database",ZS="@firebase/data-connect",WS="@firebase/database-compat",tb="@firebase/functions",eb="@firebase/functions-compat",nb="@firebase/installations",ib="@firebase/installations-compat",sb="@firebase/messaging",rb="@firebase/messaging-compat",ab="@firebase/performance",ob="@firebase/performance-compat",lb="@firebase/remote-config",ub="@firebase/remote-config-compat",cb="@firebase/storage",hb="@firebase/storage-compat",fb="@firebase/firestore",db="@firebase/ai",mb="@firebase/firestore-compat",gb="firebase",pb="12.9.0";const Xd="[DEFAULT]",yb={[Yd]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[FS]:"fire-analytics-compat",[YS]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[JS]:"fire-auth-compat",[$S]:"fire-rtdb",[ZS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[tb]:"fire-fn",[eb]:"fire-fn-compat",[nb]:"fire-iid",[ib]:"fire-iid-compat",[sb]:"fire-fcm",[rb]:"fire-fcm-compat",[ab]:"fire-perf",[ob]:"fire-perf-compat",[lb]:"fire-rc",[ub]:"fire-rc-compat",[cb]:"fire-gcs",[hb]:"fire-gcs-compat",[fb]:"fire-fst",[mb]:"fire-fst-compat",[db]:"fire-vertex","fire-js":"fire-js",[gb]:"fire-js-all"};const Qc=new Map,_b=new Map,Jd=new Map;function F_(s,t){try{s.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(Jd.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,s);for(const i of Qc.values())F_(i,s);for(const i of _b.values())F_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Qn(s){return s==null?!1:s.settings!==void 0}const vb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Pl("app","Firebase",vb);class Eb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const oo=pb;function b0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=_0()),!i)throw nr.create("no-options");const c=Qc.get(l);if(c){if(Kr(i,c.options)&&Kr(a,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const d=new RS(l);for(const _ of Jd.values())d.addComponent(_);const p=new Eb(i,a,d);return Qc.set(l,p),p}function w0(s=Xd){const t=Qc.get(s);if(!t&&s===Xd&&_0())return b0();if(!t)throw nr.create("no-app",{appName:s});return t}function ir(s,t,i){let a=yb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}Wa(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Tb="firebase-heartbeat-database",Ab=1,Il="firebase-heartbeat-store";let zd=null;function R0(){return zd||(zd=PS(Tb,Ab,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),zd}async function Sb(s){try{const i=(await R0()).transaction(Il),a=await i.objectStore(Il).get(C0(s));return await i.done,a}catch(t){if(t instanceof gs)us.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t?.message});us.warn(i.message)}}}async function Q_(s,t){try{const a=(await R0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,C0(s)),await a.done}catch(i){if(i instanceof gs)us.warn(i.message);else{const a=nr.create("idb-set",{originalErrorMessage:i?.message});us.warn(a.message)}}}function C0(s){return`${s.name}!${s.options.appId}`}const bb=1024,wb=30;class Rb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ib(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wb){const l=Nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=Cb(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return us.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function Cb(s,t=bb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Y_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ib{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function Nb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Db(s){Wa(new Yr("platform-logger",t=>new qS(t),"PRIVATE")),Wa(new Yr("heartbeat",t=>new Rb(t),"PRIVATE")),ir(Yd,G_,s),ir(Yd,G_,"esm2020"),ir("fire-js","")}Db("");var Ob="firebase",xb="12.9.0";ir(Ob,xb,"app");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=I0,N0=new Pl("auth","Firebase",I0());const Kc=new _m("@firebase/auth");function Mb(s,...t){Kc.logLevel<=Ut.WARN&&Kc.warn(`Auth (${oo}): ${s}`,...t)}function kc(s,...t){Kc.logLevel<=Ut.ERROR&&Kc.error(`Auth (${oo}): ${s}`,...t)}function cs(s,...t){throw Tm(s,...t)}function Di(s,...t){return Tm(s,...t)}function D0(s,t,i){const a={...Vb(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:s.name})}function ls(s){return D0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return N0.create(s,...t)}function vt(s,t,...i){if(!s)throw Tm(t,...i)}function as(s){const t="INTERNAL ASSERTION FAILED: "+s;throw kc(t),new Error(t)}function hs(s,t){s||as(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function kb(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function Ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kb()||cS()||"connection"in navigator)?navigator.onLine:!0}function Lb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=oS()||hS()}get(){return Ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(s,t){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Pb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jb=new Bl(3e4,6e4);function ql(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function lo(s,t,i,a,l={}){return x0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=jl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return uS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(await V0(s,s.config.apiHost,i,p),y)})}async function x0(s,t,i){s._canInitEmulator=!1;const a={...zb,...t};try{const l=new Bb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D0(s,A,y);cs(s,A)}}catch(l){if(l instanceof gs)throw l;cs(s,"network-request-failed",{message:String(l)})}}async function Sm(s,t,i,a,l={}){const c=await lo(s,t,i,a,l);return"mfaPendingCredential"in c&&cs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return Pb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Bb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),jb.get())})}}function wc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(s,t,a);return l.customData._tokenResponse=i,l}async function qb(s,t){return lo(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return lo(s,"POST","/v1/accounts:lookup",t)}function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Hb(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=bm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Pd(l.auth_time)),issuedAtTime:Sl(Pd(l.iat)),expirationTime:Sl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=p0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J_(s){const t=bm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof gs&&Gb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Gb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),a=await Nl(s,Yc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?M0(l.providerUserInfo):[],d=Kb(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Qb(s){const t=hn(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Kb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function M0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Yb(s,t){const i=await x0(s,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await V0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(_.credentials="include"),O0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Xb(s,t){return lo(s,"POST","/v2/accounts:revokeToken",ql(s,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Yb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return as("not implemented")}}function Xs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Hb(this,t)}reload(){return Qb(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ls(this.auth));const t=await this.getIdToken();return await Nl(this,qb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:F,providerData:Z,stsTokenManager:nt}=i;vt(b&&nt,t,"internal-error");const $=Ka.fromJSON(this.name,nt);vt(typeof b=="string",t,"internal-error"),Xs(a,t.name),Xs(l,t.name),vt(typeof N=="boolean",t,"internal-error"),vt(typeof F=="boolean",t,"internal-error"),Xs(c,t.name),Xs(d,t.name),Xs(p,t.name),Xs(_,t.name),Xs(y,t.name),Xs(A,t.name);const ft=new ai({uid:b,auth:t,email:l,emailVerified:N,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(pt=>({...pt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?M0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const _=new ai({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const $_=new Map;function os(s){hs(s instanceof Function,"Expected a class definition");let t=$_.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,$_.set(s,t),t)}class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}k0.type="NONE";const Z_=k0;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(os(Z_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||os(Z_);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const N=await Yc(t,{idToken:A}).catch(()=>{});if(!N)break;b=await ai._fromGetAccountInfoResponse(t,N,A)}else b=ai._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,t,a))}}function W_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(q0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||z0(t))&&!t.includes("edge/"))return"Chrome";if(j0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(s=on()){return/firefox\//i.test(s)}function L0(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z0(s=on()){return/crios\//i.test(s)}function P0(s=on()){return/iemobile/i.test(s)}function j0(s=on()){return/android/i.test(s)}function B0(s=on()){return/blackberry/i.test(s)}function q0(s=on()){return/webos/i.test(s)}function wm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Jb(s=on()){return wm(s)&&!!window.navigator?.standalone}function $b(){return fS()&&document.documentMode===10}function H0(s=on()){return wm(s)||j0(s)||q0(s)||B0(s)||/windows phone/i.test(s)||P0(s)}function G0(s,t=[]){let i;switch(s){case"Browser":i=W_(on());break;case"Worker":i=`${W_(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class Zb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Wb(s,t={}){return lo(s,"GET","/v2/passwordPolicy",ql(s,t))}const tw=6;class ew{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??tw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class nw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new Zb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Lb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(ls(this));const i=t?hn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Wb(this),i=new ew(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Xb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&os(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Mb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hl(s){return hn(s)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=ES(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iw(s){Rm=s}function sw(s){return Rm.loadJS(s)}function rw(){return Rm.gapiScript}function aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ow(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Kr(c,t??{}))return l;cs(l,"already-initialized")}return i.initialize({options:t})}function lw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(os);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function uw(s,t,i){const a=Hl(s);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=F0(t),{host:d,port:p}=cw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Kr(y,a.config.emulator)&&Kr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(E0(`${c}//${d}${_}`),T0("Auth",!0)):hw()}function F0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function cw(s){const t=F0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ev(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ev(d)}}}function ev(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function hw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Q0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function Xa(s,t){return Sm(s,"POST","/v1/accounts:signInWithIdp",ql(s,t))}const fw="http://localhost";class Xr extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):cs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:fw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class K0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Js extends Gl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class $s extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Zs extends Gl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Ws extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function dw(s,t){return Sm(s,"POST","/v1/accounts:signUp",ql(s,t))}class fs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ai._fromIdTokenResponse(t,a,l),d=nv(a);return new fs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=nv(a);return new fs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function iv(s){if(Qn(s.app))return Promise.reject(ls(s));const t=Hl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new fs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await dw(t,{returnSecureToken:!0}),a=await fs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Jc extends gs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function Y0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,t,a):c})}async function mw(s,t,i=!1){const a=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return fs._forOperation(s,"link",a)}async function gw(s,t,i=!1){const{auth:a}=s;if(Qn(a.app))return Promise.reject(ls(a));const l="reauthenticate";try{const c=await Nl(s,Y0(a,l,t,s),i);vt(c.idToken,a,"internal-error");const d=bm(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(s.uid===p,a,"user-mismatch"),fs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&cs(a,"user-mismatch"),c}}async function pw(s,t,i=!1){if(Qn(s.app))return Promise.reject(ls(s));const a="signIn",l=await Y0(s,a,t),c=await fs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function yw(s,t){return Sm(s,"POST","/v1/accounts:signInWithCustomToken",ql(s,t))}async function _w(s,t){if(Qn(s.app))return Promise.reject(ls(s));const i=Hl(s),a=await yw(i,{token:t,returnSecureToken:!0}),l=await fs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function vw(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function Ew(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function Tw(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}const $c="__sak";class X0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aw=1e3,Sw=10;class J0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);$b()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Sw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}J0.type="LOCAL";const bw=J0;class $0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$0.type="SESSION";const Z0=$0;function ww(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await ww(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Cm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Rw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Cm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function Cw(s){Oi().location.href=s}function W0(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function Dw(){return W0()?self:null}const tE="firebaseLocalStorageDb",Ow=1,Zc="firebaseLocalStorage",eE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function xw(){const s=indexedDB.deleteDatabase(tE);return new Fl(s).toPromise()}function Wd(){const s=indexedDB.open(tE,Ow);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:eE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await xw(),t(await Wd()))})})}async function sv(s,t,i){const a=fh(s,!0).put({[eE]:t,value:i});return new Fl(a).toPromise()}async function Vw(s,t){const i=fh(s,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function rv(s,t){const i=fh(s,!0).delete(t);return new Fl(i).toPromise()}const Mw=800,kw=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iw(),!this.activeServiceWorker)return;this.sender=new Rw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await sv(t,$c,"1"),await rv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Vw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const Uw=nE;new Bl(3e4,6e4);function Lw(s,t){return t?os(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Im extends Q0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zw(s){return pw(s.auth,new Im(s),s.bypassAuthState)}function Pw(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),gw(i,new Im(s),s.bypassAuthState)}async function jw(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),mw(i,new Im(s),s.bypassAuthState)}class iE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Pw;default:cs(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bw=new Bl(2e3,1e4);class Qa extends iE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bw.get())};t()}}Qa.currentPopupAction=null;const qw="pendingRedirect",Lc=new Map;class Hw extends iE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await Gw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gw(s,t){const i=Kw(t),a=Qw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Fw(s,t){Lc.set(s._key(),t)}function Qw(s){return os(s._redirectPersistence)}function Kw(s){return Uc(qw,s.config.apiKey,s.name)}async function Yw(s,t,i=!1){if(Qn(s.app))return Promise.reject(ls(s));const a=Hl(s),l=Lw(a,t),d=await new Hw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Xw=600*1e3;class Jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$w(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!sE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function sE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function $w(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(s);default:return!1}}async function Zw(s,t={}){return lo(s,"GET","/v1/projects",t)}const Ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Zw(s);for(const i of t)try{if(nR(i))return}catch{}cs(s,"unauthorized-domain")}function nR(s){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tR.test(i))return!1;if(Ww.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const iR=new Bl(3e4,6e4);function ov(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sR(s){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Di(s,"network-request-failed"))},timeout:iR.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=aw("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(Di(s,"network-request-failed"))},sw(`${rw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function rR(s){return zc=zc||sR(s),zc}const aR=new Bl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,lR):`https://${s.config.authDomain}/${oR}`,a={apiKey:t.apiKey,appName:s.name,v:oo},l=cR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function fR(s){const t=await rR(s),i=Oi().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:hR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},aR.get());function _(){Oi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,pR="_blank",yR="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(s,t,i,a=mR,l=gR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...dR,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=z0(y)?pR:i),U0(y)&&(t=t||yR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[F,Z])=>`${N}${F}=${Z},`,"");if(Jb(y)&&p!=="_self")return vR(t||"",p),new lv(null);const b=window.open(t||"",p,A);vt(b,s,"popup-blocked");try{b.focus()}catch{}return new lv(b)}function vR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ER="__/auth/handler",TR="emulator/auth/handler",AR=encodeURIComponent("fac");async function uv(s,t,i,a,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof K0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",vS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Gl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${AR}=${encodeURIComponent(_)}`:"";return`${SR(s)}?${jl(p).slice(1)}${y}`}function SR({config:s}){return s.emulator?Am(s,TR):`https://${s.authDomain}/${ER}`}const jd="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=Yw,this._overrideRedirectResult=Fw}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,$d(),l);return _R(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await uv(t,i,a,$d(),l);return Cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fR(t),a=new Jw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return H0()||L0()||wm()}}const wR=bR;var cv="@firebase/auth",hv="1.12.0";class RR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IR(s){Wa(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(s)},y=new nw(a,l,c,_);return lw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Yr("auth-internal",t=>{const i=Hl(t.getProvider("auth").getImmediate());return(a=>new RR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(cv,hv,CR(s)),ir(cv,hv,"esm2020")}const NR=300,DR=v0("authIdTokenMaxAge")||NR;let fv=null;const OR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>DR)return;const l=i?.token;fv!==l&&(fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xR(s=w0()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=ow(s,{popupRedirectResolver:wR,persistence:[Uw,bw,Z0]}),a=v0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=OR(c.toString());Ew(i,d,()=>d(i.currentUser)),vw(i,p=>d(p))}}const l=y0("auth");return l&&uw(i,`http://${l}`),i}function VR(){return document.getElementsByTagName("head")?.[0]??document}iw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",VR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IR("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,rE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,k){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],w;w=S+(k^I&(D^k))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(D^S&(I^D))+V[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(I^k&(S^I))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(S^D&(k^S))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(k^I&(D^k))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(D^S&(I^D))+V[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(I^k&(S^I))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(S^D&(k^S))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(k^I&(D^k))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(D^S&(I^D))+V[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(I^k&(S^I))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(S^D&(k^S))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(k^I&(D^k))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(D^S&(I^D))+V[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(I^k&(S^I))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(S^D&(k^S))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(D^k&(I^D))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(S^I))+V[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(k^S))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(D^k))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(I^D))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(S^I))+V[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(k^S))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(D^k))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(I^D))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(S^I))+V[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(k^S))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(D^k))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(I^D))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(S^I))+V[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(k^S))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(D^k))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(I^D^k)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^D)+V[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^I)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^S)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^k)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^D)+V[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^I)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^S)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^k)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^D)+V[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^I)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^S)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^k)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^D)+V[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^I)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^S)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(D^(I|~k))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~D))+V[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~I))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~S))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~k))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~D))+V[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~I))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~S))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~k))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~D))+V[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~I))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~S))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~k))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~D))+V[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~I))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<S;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==S||(I[D]=k,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return $(y(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return $(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=b;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var b=_(0),N=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(C);const S=y(Math.pow(C,6));var I=this;let V="";for(;;){const D=St(I,S).g;I=ft(I,D.j(S));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,Z(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ft(this,C),nt(C)?-1:Z(C)?0:1};function $(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(N)}s.abs=function(){return nt(this)?$(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,I[D]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add($(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(nt(this))return nt(C)?$(this).j($(C)):$($(this).j(C));if(nt(C))return $(this.j($(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,ie=C.i(D)>>>16,ye=C.i(D)&65535;I[2*V+2*D]+=w*ye,pt(I,2*V+2*D),I[2*V+2*D+1]+=k*ye,pt(I,2*V+2*D+1),I[2*V+2*D+1]+=w*ie,pt(I,2*V+2*D+1),I[2*V+2*D+2]+=k*ie,pt(I,2*V+2*D+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function pt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function yt(C,S){this.g=C,this.h=S}function St(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new yt(b,b);if(nt(C))return S=St($(C),S),new yt($(S.g),$(S.h));if(nt(S))return S=St(C,$(S)),new yt($(S.g),S.h);if(C.g.length>30){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=S;V.l(C)<=0;)I=Zt(I),V=Zt(V);var D=jt(I,1),k=jt(V,1);for(V=jt(V,2),I=jt(I,2);!Z(V);){var w=k.add(V);w.l(C)<=0&&(D=D.add(I),k=w),V=jt(V,1),I=jt(I,1)}return S=ft(C,D.j(S)),new yt(D,S)}for(D=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),w=k.j(S);nt(w)||w.l(C)>0;)I-=V,k=y(I),w=k.j(S);Z(k)&&(k=N),D=D.add(k),C=ft(C,w)}return new yt(D,C)}s.B=function(C){return St(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Zt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function jt(C,S){const I=S>>5;S%=32;const V=C.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=S>0?C.i(k+I)>>>S|C.i(k+I+1)<<32-S:C.i(k+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,sr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aE,_l,oE,Pc,tm,lE,uE,cE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var W=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)W[wt-2]=arguments[wt];return m.prototype[U].apply(T,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const j=U.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=U[W]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new nt(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,jt=!1,C=new pt,S=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){$(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}jt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,D),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let j=0;j<K.length;j++)v=K[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=bt(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,j,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),Ee={};function se(u,m,v,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,U);return null}return v=Tn(v),u&&u[ye]?u.J(m,v,p(T)?!!T.capture:!1,U):Vt(u,m,v,!1,T,U)}function Vt(u,m,v,T,U,j){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let wt=Ft(u);if(wt||(u[Nt]=wt=new it(u)),v=wt.add(m,v,T,W,j),v.proxy)return v;if(T=It(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Te(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function It(){function u(v){return m.call(u.src,u.listener,v)}const m=ae;return u}function ot(u,m,v,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)ot(u,m[j],v,T,U);else T=p(T)?!!T.capture:!!T,v=Tn(v),u&&u[ye]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=bt(m,v,T,U),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Ft(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&he(v))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Te(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ft(m))?(_t(v,u),v.h==0&&(v.src=null,m[Nt]=null)):ut(u)}}}function Te(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function ae(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&he(u),u=v.call(T,m)}return u}function Ft(u){return u=u[Nt],u instanceof it?u:null}var Qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tn(u){return typeof u=="function"?u:(u[Qe]||(u[Qe]=function(m){return u.handleEvent(m)}),u[Qe])}function oe(){V.call(this),this.i=new it(this),this.M=this,this.G=null}b(oe,V),oe.prototype[ye]=!0,oe.prototype.removeEventListener=function(u,m,v,T){ot(this,u,m,v,T)};function me(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),et(m,U)}U=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],U=An(j,T,!0,m)&&U;if(j=m.g=u,U=An(j,T,!0,m)&&U,U=An(j,T,!1,m)&&U,v)for(W=0;W<v.length;W++)j=m.g=v[W],U=An(j,T,!1,m)&&U}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},oe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},oe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function An(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const wt=W.listener,Se=W.ha||W.src;W.fa&&_t(u.i,W),U=wt.call(Se,T)!==!1&&U}}return U&&!T.defaultPrevented}function ps(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ji(u){u.g=ps(()=>{u.g=null,u.i&&(u.i=!1,ji(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){V.call(this),this.h=u,this.g={}}b(mr,V);var mo=[];function go(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&he(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),go(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=d.JSON.stringify,Dh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Wl(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){D.call(this,"d")}b(Ke,D);function Vn(){D.call(this,"c")}b(Vn,D);var Ae={},tu=null;function ea(){return tu=tu||new oe}Ae.Ia="serverreachability";function eu(u){D.call(this,Ae.Ia,u)}b(eu,D);function li(u){const m=ea();me(m,new eu(m))}Ae.STAT_EVENT="statevent";function gr(u,m){D.call(this,Ae.STAT_EVENT,u),this.stat=m}b(gr,D);function Ce(u){const m=ea();me(m,new gr(m,u))}Ae.Ja="timingevent";function ui(u,m){D.call(this,Ae.Ja,u),this.size=m}b(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,U,j){u.info(function(){if(u.g)if(j){var W="",wt=j.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Se=wt[Qt].split("=");if(Se.length>1){const fe=Se[0];Se=Se[1];const Ln=fe.split("_");W=Ln.length>=2&&Ln[1]=="type"?W+(fe+"="+Se+"&"):W+(fe+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function nu(u,m,v,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+W})}function hi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ys(j)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function _r(){}b(_r,Zl),_r.prototype.g=function(){return new XMLHttpRequest},yo=new _r;function Bi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ie={},Be={};function fi(u,m,v){u.M=1,u.A=vr(De(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),di(u),u.B=De(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new $n,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let j=0;j<U.length;j++){const W=se(v,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=ti(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||wt!=4||Se==7||(Se==8||Qt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Ce(12),Sn(this),Mn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=ru(this,v),fe==Be){wt==4&&(this.m=4,Ce(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ie){this.m=4,Ce(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,fe,null),gi(this,fe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(W),W.P=!0,Ce(11))}}else hi(this.i,this.l,v,null),gi(this,v);wt==4&&Sn(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Sn(this),Mn(this)}}}catch{}};function Vh(u){if(!su(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const T=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Be:(v=Number(m.substring(v,T)),isNaN(v)?Ie:(T+=1,T+v>m.length?Be:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function di(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(li(),Ce(17)),Sn(this),this.m=2,Mn(this)):ia(this,this.T-u)};function Mn(u){u.j.I==0||u.K||mu(u.j,u)}function Sn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),ws(v);else break t;Rr(v),Ce(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const fe=Qt[0];if(!(fe<=v.K))if(v.K=fe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Ln=Qt[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const bi=Qt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const ei=Qt[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ni=u.g;if(ni){const Cr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var j=T.h;j.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Eo(j,j.h),j.h=null))}if(T.G){const fa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Xt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=yu(T,T.L?T.ba:null,T.W),W.L){To(T.h,W);var wt=W,Se=T.O;Se&&(wt.H=Se),wt.D&&(mi(wt),di(wt)),T.g=W}else fu(T);v.i.length>0&&Ai(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Si(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Si(v,7):Do(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}li(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,j=null;T>=0?(U=u[v].substring(0,T),j=u[v].substring(T+1)):U=u[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,So(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,qe(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),_s(this,m[4]),this.h=_i(m[5]||"",!0),So(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,ra,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?bo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,lu)),u.join("")},bn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)_s(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let W=0;W<U.length;){const wt=U[W++];wt=="."?T&&W==U.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&W==U.length&&j.push("")):(j.push(wt),T=!0)}T=j.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?So(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new bn(u)}function qe(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof Es?(u.i=m,oa(u.i,u.l)):(v||(m=Er(m,vs)),u.i=new Es(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function vr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,ou=/[#\?:]/g,bo=/[#\?]/g,vs=/[#\?@]/g,lu=/#/g;function Es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(u,m){dn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){dn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return dn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){dn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=Ts(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Bi(v);v=Ro(this,v);for(let j=0;j<v.length;j++){let W=U;v[j]!==""&&(W+="="+Bi(v[j])),u.push(W)}}return this.i=u.join("&")};function cu(u){const m=new Es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(uu(this,T),aa(this,U,v))},u)),u.j=m}function Zn(u,m){const v=new Xn;if(d.Image){const T=new Image;T.onload=A(kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(kn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Xn,T=new AbortController,U=setTimeout(()=>{T.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function As(){this.g=new $l}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(vi,Zl),vi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){oe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Tr,oe),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):Wn(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},s.Na=function(u){this.g&&(this.response=u,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return xt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Un(v),typeof u=="string"?v!=null&&Bi(v):Xt(u,m,v))}function Wt(u){oe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wt,oe);var Ei=/^https?$/i,Io=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Sr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Sr(this,j)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),qi(u)}function No(u){u.A||(u.A=!0,me(u,"complete"),me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,me(this,"complete"),me(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(me(u,"readystatechange"),ti(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let W=String(u.D).match(au)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ei.test(W?W.toLowerCase():"")}v=T}if(v)me(u,"complete"),me(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",No(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||me(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=iu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function bs(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ce(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),Ai(this)};function Do(u){if(ua(u),u.I==3){var m=u.V++,v=De(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),wr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=vr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}pu(u)}function ws(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function ua(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||S(),jt||(Zt(),jt=!0),C.add(m,u),u.D=0}}function ca(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),v=De(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),wr(this,v),j&&(this.R?m="headers="+Bi(Un(j))+"&"+m:this.u&&Ar(v,this.u,j)),Eo(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=De(u.J);Xt(T,"SID",u.M),Xt(T,"RID",v),Xt(T,"AID",u.K),wr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),fi(v,T,m)}function wr(u,m){u.H&&xt(u.H,function(v,T){Xt(m,T,v)}),u.l&&xt({},function(v,T){Xt(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const Se=["count="+v];wt==-1?v>0?(wt=U[0].g,Se.push("ofs="+wt)):wt=0:Se.push("ofs="+wt);let Qt=!0;for(let fe=0;fe<v;fe++){var j=U[fe].g;const Ln=U[fe].map;if(j-=wt,j<0)wt=Math.max(0,U[fe].g-100),Qt=!1;else try{j="req"+j+"_"||"";try{var W=Ln instanceof Map?Ln:Object.entries(Ln);for(const[bi,ei]of W){let ni=ei;p(ei)&&(ni=ys(ei)),Se.push(j+bi+"="+encodeURIComponent(ni))}}catch(bi){throw Se.push(j+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Ln)}}if(Qt){W=Se.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||S(),jt||(Zt(),jt=!0),C.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),ws(this),du(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(De(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Rr(this),Ce(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){ha(u),xo(u),u.g=null;var T=2}else if(yi(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ea(),me(T,new ui(T,v)),Ai(u)}else fu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),vr(T),U?Zn(T.toString(),v):Co(T.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),pu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof bn?De(v):new bn(v);if(T.g!="")m&&(T.g=m+"."+T.g),_s(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new bn(null);T&&qe(j,T),m&&(j.g=m),U&&_s(j,U),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Xt(T,v,m),Xt(T,"VER",u.ka),wr(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new vi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){oe.call(this),this.g=new bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}b(un,oe),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Do(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ys(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ai(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,un.Z.N.call(this)};function Eu(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,Ke);function Tu(){Vn.call(this),this.status=1}b(Tu,Vn);function Gi(u){this.g=u}b(Gi,vu),Gi.prototype.ra=function(){me(this.g,"a")},Gi.prototype.qa=function(u){me(this.g,new Eu(u))},Gi.prototype.pa=function(u){me(this.g,new Tu)},Gi.prototype.oa=function(){me(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,cE=function(){return new Rs},uE=function(){return ea()},lE=Ae,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Pc=yr,po.COMPLETE="complete",oE=po,Wl.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",oe.prototype.listen=oe.prototype.J,_l=Wl,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,aE=Wt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let uo="12.9.0";function MR(s){uo=s}const Jr=new _m("@firebase/firestore");function qa(){return Jr.logLevel}function st(s,...t){if(Jr.logLevel<=Ut.DEBUG){const i=t.map(Nm);Jr.debug(`Firestore (${uo}): ${s}`,...i)}}function ds(s,...t){if(Jr.logLevel<=Ut.ERROR){const i=t.map(Nm);Jr.error(`Firestore (${uo}): ${s}`,...i)}}function $r(s,...t){if(Jr.logLevel<=Ut.WARN){const i=t.map(Nm);Jr.warn(`Firestore (${uo}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,hE(s,a,i)}function hE(s,t,i){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ds(a),new Error(a)}function Yt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||hE(t,l,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends gs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class fE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class UR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new rr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new rr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new fE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class zR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new zR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=BR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(s,t){return s<t?-1:s>t?1:0}function em(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Lt(l,c):Bd(l)?1:-1}return Lt(s.length,t.length)}const qR=55296,HR=57343;function Bd(s){const t=s.charCodeAt(0);return t>=qR&&t<=HR}function to(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class ge extends Ni{construct(t,i,a){return new ge(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ge(i)}static emptyPath(){return new ge([])}}const GR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ni{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return GR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new tn([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ge.fromString(t))}static fromName(t){return new dt(ge.fromString(t).popFirst(5))}static empty(){return new dt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ge.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ge(t.slice()))}}function FR(s,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function QR(s,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function pv(s){if(!dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function dE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Om(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function xi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!dE(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ue("string",ce._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ce(0,0))}static max(){return new Et(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function KR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new ar(l,dt.empty(),t)}function YR(s){return new ar(s.readTime,s.key,Dl)}class ar{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ar(Et.min(),dt.empty(),Dl)}static max(){return new ar(Et.max(),dt.empty(),Dl)}}function XR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Lt(s.largestBatchId,t.largestBatchId))}const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==JR)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ZR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const xm=-1;function mh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function WR(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const mE="";function t2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=vv(t)),t=e2(s.get(i),t);return vv(t)}function e2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function vv(s){return s+mE+""}function Ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function gE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new xn([])}unionWith(t){let i=new je(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=n2.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function Vm(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===yE}function gh(s){const t=s.mapValue.fields[vE];return Vm(t)?gh(t):t}function Ol(s){const t=or(s.mapValue.fields[EE].timestampValue);return new ce(t.seconds,t.nanos)}class i2{constructor(t,i,a,l,c,d,p,_,y,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=b}}const th="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}function s2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(s.options.projectId,t)}const TE="__type__",r2="__max__",Ic={mapValue:{}},AE="__vector__",eh="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:o2(s)?9007199254740991:a2(s)?10:11:gt(28295,{value:s})}function Li(s,t){if(s===t)return!0;const i=ur(s);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=or(l.timestampValue),p=or(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return lr(l.bytesValue).isEqual(lr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),p=Re(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return to(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Ev(d)!==Ev(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Li(i,t)))!==void 0}function eo(s,t){if(s===t)return 0;const i=ur(s),a=ur(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Re(c.integerValue||c.doubleValue),_=Re(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return Av(s.timestampValue,t.timestampValue);case 4:return Av(Ol(s),Ol(t));case 5:return em(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=lr(c),_=lr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Lt(p[y],_[y]);if(A!==0)return A}return Lt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(Re(c.latitude),Re(d.latitude));return p!==0?p:Lt(Re(c.longitude),Re(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Sv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[eh]?.arrayValue,A=_[eh]?.arrayValue,b=Lt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:Sv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const N=em(_[b],A[b]);if(N!==0)return N;const F=eo(p[_[b]],y[A[b]]);if(F!==0)return F}return Lt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Av(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Lt(s,t);const i=or(s),a=or(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function Sv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=eo(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function no(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=or(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function jc(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+jc(t):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return fr(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function im(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function bv(s){return!!s&&"nullValue"in s}function wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function a2(s){return(s?.mapValue?.fields||{})[TE]?.stringValue===AE}function bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(s.arrayValue.values[i]);return t}return{...s}}function o2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===r2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(bl(this.value))}}function SE(s){const t=[];return fr(s.fields,((i,a)=>{const l=new tn([i]);if(Bc(a)){const c=SE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new xn(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,Et.min(),Et.min(),Et.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,Et.min(),Et.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,Et.min(),Et.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Rv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function l2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class bE{}class Pe extends bE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new c2(t,i,a):i==="array-contains"?new d2(t,a):i==="in"?new m2(t,a):i==="not-in"?new g2(t,a):i==="array-contains-any"?new p2(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new h2(t,a):new f2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends bE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(s){return s.op==="and"}function RE(s){return u2(s)&&wE(s)}function u2(s){for(const t of s.filters)if(t instanceof zi)return!1;return!0}function sm(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+no(s.value);if(RE(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function CE(s,t){return s instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(s,t):s instanceof zi?(function(a,l){return l instanceof zi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&CE(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function IE(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(s):s instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(s):"Filter"}class c2 extends Pe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class h2 extends Pe{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class f2 extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class d2 extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Vl(i.arrayValue,this.value)}}class m2 extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class g2 extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class p2 extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class y2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Iv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new y2(s,t,i,a,l,c,d)}function km(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>no(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>no(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!l2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!CE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Cv(s.startAt,t.startAt)&&Cv(s.endAt,t.endAt)}function rm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ph{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _2(s,t,i,a,l,c,d,p){return new ph(s,t,i,a,l,c,d,p)}function yh(s){return new ph(s)}function Nv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function v2(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function E2(s){return s.collectionGroup!==null}function wl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new ih(tn.keyField(),a))}return t.Ie}function Vi(s){const t=At(s);return t.Ee||(t.Ee=T2(t,wl(s))),t.Ee}function T2(s,t){if(s.limitType==="F")return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Iv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function am(s,t,i){return new ph(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return Um(Vi(s),Vi(t))&&s.limitType===t.limitType}function DE(s){return`${km(Vi(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>IE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(s,t)}function A2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function OE(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=S2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function S2(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?eo(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const b2=new pe(dt.comparator);function ms(){return b2}const xE=new pe(dt.comparator);function vl(...s){let t=xE;for(const i of s)t=t.insert(i.key,i);return t}function VE(s){let t=xE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return Rl()}function ME(){return Rl()}function Rl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const w2=new pe(dt.comparator),R2=new je(dt.comparator);function zt(...s){let t=R2;for(const i of s)t=t.add(i);return t}const C2=new je(Lt);function I2(){return C2}function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function kE(s){return{integerValue:""+s}}function N2(s,t){return WR(t)?kE(t):Lm(s,t)}class Eh{constructor(){this._=void 0}}function D2(s,t,i){return s instanceof Ml?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=gh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):s instanceof kl?LE(s,t):s instanceof Ul?zE(s,t):(function(l,c){const d=UE(l,c),p=Dv(d)+Dv(l.Ae);return im(d)&&im(l.Ae)?kE(p):Lm(l.serializer,p)})(s,t)}function O2(s,t,i){return s instanceof kl?LE(s,t):s instanceof Ul?zE(s,t):i}function UE(s,t){return s instanceof sh?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ml extends Eh{}class kl extends Eh{constructor(t){super(),this.elements=t}}function LE(s,t){const i=PE(t);for(const a of s.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends Eh{constructor(t){super(),this.elements=t}}function zE(s,t){let i=PE(t);for(const a of s.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Dv(s){return Re(s.integerValue||s.doubleValue)}function PE(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class x2{constructor(t,i){this.field=t,this.transform=i}}function V2(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ul&&l instanceof Ul?to(a.elements,l.elements,Li):a instanceof sh&&l instanceof sh?Li(a.Ae,l.Ae):a instanceof Ml&&l instanceof Ml})(s.transform,t.transform)}class M2{constructor(t,i){this.version=t,this.transformResults=i}}class Mi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qE(s.key,Mi.none()):new Kl(s.key,s.data,Mi.none());{const i=s.data,a=En.empty();let l=new je(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new dr(s.key,a,new xn(l.toArray()),Mi.none())}}function k2(s,t,i){s instanceof Kl?(function(l,c,d){const p=l.value.clone(),_=xv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof dr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(s,t,i,a){return s instanceof Kl?(function(c,d,p,_){if(!qc(c.precondition,d))return p;const y=c.value.clone(),A=Vv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof dr?(function(c,d,p,_){if(!qc(c.precondition,d))return p;const y=Vv(c.fieldTransforms,_,d),A=d.data;return A.setAll(BE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function U2(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=UE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function Ov(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&to(a,l,((c,d)=>V2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Kl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function xv(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,O2(d,p,i[l]))}return a}function Vv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,D2(c,d,t))}return a}class qE extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&k2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ME();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=jE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&to(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return w2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class P2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j2{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Bt;function B2(s){switch(s){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function HE(s){if(s===void 0)return ds("GRPC error has no .code"),J.UNKNOWN;switch(s){case ke.OK:return J.OK;case ke.CANCELLED:return J.CANCELLED;case ke.UNKNOWN:return J.UNKNOWN;case ke.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ke.INTERNAL:return J.INTERNAL;case ke.UNAVAILABLE:return J.UNAVAILABLE;case ke.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ke.NOT_FOUND:return J.NOT_FOUND;case ke.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ke.ABORTED:return J.ABORTED;case ke.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ke.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:s})}}(Bt=ke||(ke={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function q2(){return new TextEncoder}const H2=new sr([4294967295,4294967295],0);function Mv(s){const t=q2().encode(s),i=new rE;return i.update(t),new Uint8Array(i.digest())}function kv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new sr([i,a],0),new sr([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=sr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(sr.fromNumber(a)));return l.compare(H2)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Mv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Mv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(Et.min(),l,new pe(Lt),ms(),zt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,zt(),zt(),zt())}}class Hc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class GE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class G2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.He=Nc(),this.Je=Nc(),this.Ze=new pe(Lt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new dt(c.path);this.et(i,d,an.newNoDocument(d,Et.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=lr(a).toUint8Array()}catch(_){if(_ instanceof pE)return $r("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Pm(d,l,c)}catch(_){return $r(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ze,this.je,a);return this.je=ms(),this.He=Nc(),this.Je=Nc(),this.Ze=new pe(Lt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Uv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new je(Lt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new je(Lt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new pe(dt.comparator)}function Lv(){return new pe(dt.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},Q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Y2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function X2(s,t){return rh(s,t.toTimestamp())}function ki(s){return Yt(!!s,49232),Et.fromTimestamp((function(i){const a=or(i);return new ce(a.seconds,a.nanos)})(s))}function jm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const i=(function(l){return new ge(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function KE(s){const t=ge.fromString(s);return Yt(ZE(t),10190,{key:t.toString()}),t}function um(s,t){return jm(s.databaseId,t.path)}function qd(s,t){const i=KE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(XE(i))}function YE(s,t){return jm(s.databaseId,t)}function J2(s){const t=KE(s);return t.length===4?ge.emptyPath():XE(t)}function cm(s){return new ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function XE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function zv(s,t,i){return{name:um(s,t),fields:i.value.mapValue.fields}}function $2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),en.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),en.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:HE(y.code);return new lt(A,y.message||"")})(d);i=new FE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(s,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):Et.min(),p=new En({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Hc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(s,a.document),c=a.readTime?ki(a.readTime):Et.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new j2(l,c),p=a.targetId;i=new GE(p,d)}}return i}function Z2(s,t){let i;if(t instanceof Kl)i={update:zv(s,t.key,t.value)};else if(t instanceof qE)i={delete:um(s,t.key)};else if(t instanceof dr)i={update:zv(s,t.key,t.data),updateMask:oC(t.fieldMask)};else{if(!(t instanceof L2))return gt(16599,{dt:t.type});i={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:X2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function W2(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ki(l.updateTime):ki(c);return d.isEqual(Et.min())&&(d=ki(c)),new M2(d,l.transformResults||[])})(i,t)))):[]}function tC(s,t){return{documents:[YE(s,t.path)]}}function eC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=YE(s,l);const c=(function(y){if(y.length!==0)return $E(zi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:Ga(N.field),direction:sC(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function nC(s){let t=J2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=JE(b);return N instanceof zi&&RE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(Z){return new ih(Fa(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,mh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(b){const N=!!b.before,F=b.values||[];return new nh(F,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const N=!b.before,F=b.values||[];return new nh(F,N)})(i.endAt)),_2(t,l,d,c,p,"F",_,y)}function iC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((a=>JE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function sC(s){return F2[s]}function rC(s){return Q2[s]}function aC(s){return K2[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return tn.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:rC(i.op),value:i.value}}})(s):s instanceof zi?(function(i){const a=i.getFilters().map((l=>$E(l)));return a.length===1?a[0]:{compositeFilter:{op:aC(i.op),filters:a}}})(s):gt(54877,{filter:s})}function oC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function WE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lC{constructor(t){this.yt=t}}function uC(s){const t=nC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(t,t.limit,"L"):t}class cC{constructor(){this.Sn=new hC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ar.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class hC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(ge.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(ge.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(tT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class io{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new io(0)}static ar(){return new io(-1)}}const jv="LruGarbageCollector",fC=1048576;function Bv([s,t],[i,a]){const l=Lt(s,i);return l===0?Lt(t,a):l}class dC{constructor(t){this.Pr=t,this.buffer=new je(Bv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?st(jv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class gC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new dC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Pv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),qa()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function pC(s,t){return new gC(s,t)}class yC{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _C{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class vC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,xn.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ms();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof dr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Cl(A.mutation,y,A.mutation.getFieldMask(),ce.now())):d.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new _C(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new pe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||xn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const b=(l.get(p.batchId)||zt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=ME();A.forEach((N=>{if(!c.has(N)){const F=jE(i.get(N),a.get(N));F!==null&&b.set(N,F),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return v2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):E2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Gr());let p=Dl,_=c;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((A=>({batchId:p,changes:VE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,N){return new ph(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=vl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Cl(A.mutation,y,xn.empty(),ce.now()),vh(i,y)&&(p=p.insert(_,y))})),p}))}}class EC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:uC(l.bundledQuery),readTime:ki(l.readTime)}})(i)),X.resolve()}}class TC{constructor(){this.overlays=new pe(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Gr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Gr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new P2(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class AC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.kr=new je(Ge.Kr),this.qr=new je(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ge(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ge([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ge([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=zt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Lt(t.Hr,i.Hr)}static Ur(t,i){return Lt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class SC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new je(Ge.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new z2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Lt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new dt(c),0);let p=new je(Lt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bC{constructor(t){this.ti=t,this.docs=(function(){return new pe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=ms();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ms();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||XR(YR(A),a)<=0||(l.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new wC(this)}getSize(t){return X.resolve(this.size)}}class wC extends yC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class RC{constructor(t){this.persistence=t,this.ri=new Wr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=io._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new io(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class eT{constructor(t,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new AC,this.referenceDelegate=t(this),this.li=new RC(this),this.indexManager=new cC,this.remoteDocumentCache=(function(l){return new bC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new lC(i),this.Pi=new EC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new TC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new SC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new CC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class CC extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.fi=new Wr((a=>t2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=pC(this,i)}static Vi(t,i){return new ah(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class IC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class NC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dS()?8:ZR(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new IC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(qa()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(qa()<=Ut.DEBUG&&st("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(qa()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):X.resolve())}gs(t,i){if(Nv(i))return X.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,am(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Nv(i)||l.isEqual(Et.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(qa()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.Ds(t,d,i,KR(l,Dl)).next((p=>p)))}))}bs(t,i){let a=new je(OE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return qa()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(t,i,ar.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",DC=3e8;class OC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(Lt),this.Fs=new Wr((c=>km(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function xC(s,t,i,a){return new OC(s,t,i,a)}async function nT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=zt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function VC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,N=b.keys();let F=X.resolve();return N.forEach((Z=>{F=F.next((()=>A.getEntry(_,Z))).next((nt=>{const $=y.docVersions.get(Z);Yt($!==null,48541),nt.version.compareTo($)<0&&(b.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function iT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function MC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let F=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(en.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(b,F),(function(nt,$,ft){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=DC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,F,A)&&p.push(i.li.updateTargetData(c,F))}));let _=ms(),y=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(kC(c,d,t.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!a.isEqual(Et.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function kC(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ms();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(Gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function UC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function LC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new tr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function hm(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;st(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function qv(s,t,i){const a=At(s);let l=Et.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=At(_),N=b.Fs.get(A);return N!==void 0?X.resolve(b.vs.get(N)):b.li.getTargetData(y,A)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:zt()))).next((p=>(zC(a,A2(t),p),{documents:p,ks:c})))))}function zC(s,t,i){let a=s.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Hv{constructor(){this.activeTargetIds=I2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PC{constructor(){this.vo=new Hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jC{Mo(t){}shutdown(){}}const Gv="ConnectivityMonitor";class Fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function fm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Hd="RestConnection",BC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=fm(),p=this.Qo(t,i.toUriEncodedString());st(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),A=ao(y);return this.zo(t,p,_,a,A).then((b=>(st(Hd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw $r(Hd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=BC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class HC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",yl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends qC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ja.c_){const t=uE();yl(t,lE.STAT_EVENT,(i=>{i.stat===tm.PROXY?st(sn,"STAT_EVENT: detected buffering proxy"):i.stat===tm.NOPROXY&&st(sn,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(t,i,a,l,c){const d=fm();return new Promise(((p,_)=>{const y=new aE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();st(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Pc.TIMEOUT:st(sn,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const N=y.getStatus();if(st(sn,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const nt=(function(ft){const pt=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pt)>=0?pt:J.UNKNOWN})(Z.status);_(new lt(nt,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=fm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");st(sn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let b=!1,N=!1;const F=new HC({Ho:Z=>{N?st(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(st(sn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),st(sn,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return yl(A,_l.EventType.OPEN,(()=>{N||(st(sn,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),yl(A,_l.EventType.CLOSE,(()=>{N||(N=!0,st(sn,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(A))})),yl(A,_l.EventType.ERROR,(Z=>{N||(N=!0,$r(sn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),yl(A,_l.EventType.MESSAGE,(Z=>{if(!N){const nt=Z.data[0];Yt(!!nt,16349);const $=nt,ft=$?.error||$[0]?.error;if(ft){st(sn,`RPC '${t}' stream ${l} received error:`,ft);const pt=ft.status;let yt=(function(jt){const C=ke[jt];if(C!==void 0)return HE(C)})(pt),St=ft.message;pt==="NOT_FOUND"&&St.includes("database")&&St.includes("does not exist")&&St.includes(this.databaseId.database)&&$r(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),yt===void 0&&(yt=J.INTERNAL,St="Unknown error status: "+pt+" with message "+ft.message),N=!0,F.o_(new lt(yt,St)),A.close()}else st(sn,`RPC '${t}' stream ${l} received:`,nt),F.__(nt)}})),Ja.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cE()}}function GC(s){return new Ja(s)}function Gd(){return typeof document<"u"?document:null}function Sh(s){return new Y2(s,!0)}Ja.c_=!1;class sT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Qv="PersistentStream";class rT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FC extends rT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ki(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=rm(_)?{documents:tC(c,_)}:{query:eC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=QE(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=iC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.K_(i)}}class QC extends rT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=W2(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Z2(this.serializer,a)))};this.K_(i)}}class KC{}class YC extends KC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,lm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XC(s,t,i,a){return new YC(s,t,i,a)}class JC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class $C{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(st(Zr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Xl(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new JC(a,l)}}async function bh(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function Xl(s){for(const t of s.Ra)await t(!1)}function aT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Km(i):fo(i).O_()&&Qm(i,t))}function Fm(s,t){const i=At(s),a=fo(i);i.Ia.delete(t),a.O_()&&oT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Va.set("Unknown"))}function Qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(s).Z_(t)}function oT(s,t){s.da.$e(t),fo(s).X_(t)}function Km(s){s.da=new G2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),fo(s).start(),s.Va.ua()}function Ym(s){return ta(s)&&!fo(s).x_()&&s.Ia.size>0}function ta(s){return At(s).Ea.size===0}function lT(s){s.da=void 0}async function ZC(s){s.Va.set("Online")}async function WC(s){s.Ia.forEach(((t,i)=>{Qm(s,t)}))}async function tI(s,t){lT(s),Ym(s)?(s.Va.ha(t),Km(s)):s.Va.set("Unknown")}async function eI(s,t,i){if(s.Va.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){st(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(s,a)}else if(t instanceof Hc?s.da.Xe(t):t instanceof GE?s.da.st(t):s.da.tt(t),!i.isEqual(Et.min()))try{const a=await iT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),oT(c,_);const b=new tr(A.target,_,y,A.sequenceNumber);Qm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){st(Zr,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,t,i){if(!ho(t))throw t;s.Ea.add(1),await Xl(s),s.Va.set("Offline"),i||(i=()=>iT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await bh(s)}))}function uT(s,t){return t().catch((i=>oh(s,i,t)))}async function wh(s){const t=At(s),i=cr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;nI(t);)try{const l=await UC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,iI(t,l)}catch(l){await oh(t,l)}cT(t)&&hT(t)}function nI(s){return ta(s)&&s.Ta.length<10}function iI(s,t){s.Ta.push(t);const i=cr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function cT(s){return ta(s)&&!cr(s).x_()&&s.Ta.length>0}function hT(s){cr(s).start()}async function sI(s){cr(s).ra()}async function rI(s){const t=cr(s);for(const i of s.Ta)t.ea(i.mutations)}async function aI(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await uT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function oI(s,t){t&&cr(s).Y_&&await(async function(a,l){if((function(d){return B2(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();cr(a).B_(),await uT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,t),cT(s)&&hT(s)}async function Kv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Xl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function lI(s,t){const i=At(s);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Xl(i),i.Va.set("Unknown"))}function fo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new FC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:ZC.bind(null,s),Yo:WC.bind(null,s),t_:tI.bind(null,s),J_:eI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Ym(s)?Km(s):s.Va.set("Unknown")):(await s.ma.stop(),lT(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new QC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sI.bind(null,s),t_:oI.bind(null,s),ta:rI.bind(null,s),na:aI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Xm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(ds("AsyncQueue",`${t}: ${s}`),ho(s))return new lt(J.UNAVAILABLE,`${t}: ${s}`);throw s}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Yv{constructor(){this.ga=new pe(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,$a.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class uI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class cI{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Xv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Xv(){return new Wr((s=>DE(s)),_h)}async function fT(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new uI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function dT(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function hI(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function fI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var dm,Jv;(Jv=dm||(dm={})).Ma="default",Jv.Cache="cache";class mT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class gT{constructor(t){this.key=t}}class pT{constructor(t){this.key=t}}class dI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=OE(t),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),F=vh(this.query,b)?b:null,Z=!!N&&this.mutatedKeys.has(N.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let $=!1;N&&F?N.data.isEqual(F.data)?Z!==nt&&(a.track({type:3,doc:F}),$=!0):this.su(N,F)||(a.track({type:2,doc:F}),$=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!N&&F?(a.track({type:0,doc:F}),$=!0):N&&!F&&(a.track({type:1,doc:N}),$=!0,(_||y)&&(p=!0)),$&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(F,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:$})}};return nt(F)-nt(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new pT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new gT(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class mI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class gI{constructor(t){this.key=t,this.hu=!1}}class pI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>DE(p)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(dt.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yI(s,t,i=!0){const a=AT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await yT(a,t,i,!0),l}async function _I(s,t){const i=AT(s);await yT(i,t,!0,!1)}async function yT(s,t,i,a){const l=await LC(s.localStore,Vi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await vI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&aT(s.remoteStore,l),p}async function vI(s,t,i,a,l){s.pu=(b,N,F)=>(async function(nt,$,ft,pt){let yt=$.view.ru(ft);yt.Ss&&(yt=await qv(nt.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,yt))));const St=pt&&pt.targetChanges.get($.targetId),Zt=pt&&pt.targetMismatches.get($.targetId)!=null,jt=$.view.applyChanges(yt,nt.isPrimaryClient,St,Zt);return Zv(nt,$.targetId,jt.au),jt.snapshot})(s,b,N,F);const c=await qv(s.localStore,t,!0),d=new dI(t,c.ks),p=d.ru(c.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);Zv(s,i,y.au);const A=new mI(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function EI(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(co)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function TI(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function AI(s,t,i){const a=NI(s);try{const l=await(function(d,p){const _=At(d),y=ce.now(),A=p.reduce(((F,Z)=>F.add(Z.key)),zt());let b,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ms(),nt=zt();return _.xs.getEntries(F,A).next(($=>{Z=$,Z.forEach(((ft,pt)=>{pt.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next(($=>{b=$;const ft=[];for(const pt of p){const yt=U2(pt,b.get(pt.key).overlayedDocument);yt!=null&&ft.push(new dr(pt.key,yt,SE(yt.value.mapValue),Mi.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next(($=>{N=$;const ft=$.applyToLocalDocumentSet(b,nt);return _.documentOverlayCache.saveOverlays(F,$.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:VE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new pe(Lt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Jl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function _T(s,t){const i=At(s);try{const a=await MC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await co(a)}}function $v(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const N of b.ba)N.va(p)&&(y=!0)})),y&&$m(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function SI(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(dt.comparator);d=d.insert(c,an.newNoDocument(c,Et.min()));const p=zt().add(c),_=new Ah(Et.min(),new Map,new pe(Lt),d,p);await _T(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(co)}async function bI(s,t){const i=At(s),a=t.batch.batchId;try{const l=await VC(i.localStore,t);ET(i,a,null),vT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await co(l)}}async function wI(s,t,i){const a=At(s);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Yt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);ET(a,t,i),vT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await co(l)}}function vT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function ET(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||TT(s,a)}))}function TT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Fm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Wm(s))}function Zv(s,t,i){for(const a of i)a instanceof gT?(s.Vu.addReference(a.key,t),RI(s,a)):a instanceof pT?(st(Zm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||TT(s,a.key)):gt(19791,{wu:a})}function RI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(st(Zm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ge.fromString(t)),a=s.fu.next();s.Au.set(a,new gI(i)),s.Ru=s.Ru.insert(i,a),aT(s.remoteStore,new tr(Vi(yh(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Jl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Hm.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(N=>X.forEach(N.Ts,(F=>A.persistence.referenceDelegate.addReference(b,N.targetId,F))).next((()=>X.forEach(N.Is,(F=>A.persistence.referenceDelegate.removeReference(b,N.targetId,F)))))))))}catch(b){if(!ho(b))throw b;st(Gm,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const F=A.vs.get(N),Z=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(N,nt)}}})(a.localStore,c))}async function CI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){st(Zm,"User change. New user:",t.toKey());const a=await nT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function II(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function AT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SI.bind(null,t),t.Pu.J_=hI.bind(null,t.eventManager),t.Pu.yu=fI.bind(null,t.eventManager),t}function NI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wI.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xC(this.persistence,new NC,t.initialUser,this.serializer)}Cu(t){return new eT(qm.Vi,this.serializer)}Du(t){return new PC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class DI extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new eT((a=>ah.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await lI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cI})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=GC(t.databaseInfo);return XC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new $C(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Fv.v()?new Fv:new jC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new pI(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);st(Zr,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class ST{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class OI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),st(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await nT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Wv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await xI(s);st(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),s._onlineComponents=t}async function xI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(hr,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$r("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new lh)}}else st(hr,"Using default OfflineComponentProvider"),await Fd(s,new DI(void 0));return s._offlineComponents}async function bT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(hr,"Using user provided OnlineComponentProvider"),await Wv(s,s._uninitializedComponentsProvider._online)):(st(hr,"Using default OnlineComponentProvider"),await Wv(s,new gm))),s._onlineComponents}function VI(s){return bT(s).then((t=>t.syncEngine))}async function pm(s){const t=await bT(s),i=t.eventManager;return i.onListen=yI.bind(null,t.syncEngine),i.onUnlisten=EI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=_I.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=TI.bind(null,t.syncEngine),i}function MI(s,t,i,a){const l=new ST(a),c=new mT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>fT(await pm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>dT(await pm(s),c)))}}function kI(s,t,i={}){const a=new rr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new ST({next:N=>{A.Nu(),d.enqueueAndForget((()=>dT(c,b)));const F=N.docs.has(p);!F&&N.fromCache?y.reject(new lt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&_&&_.source==="server"?y.reject(new lt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new mT(yh(p.path),A,{includeMetadataChanges:!0,Ka:!0});return fT(c,b)})(await pm(s),s.asyncQueue,t,i,a))),a.promise}function UI(s,t){const i=new rr;return s.asyncQueue.enqueueAndForget((async()=>AI(await VI(s),t,i))),i.promise}function wT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const LI="ComponentProvider",t0=new Map;function zI(s,t,i,a,l){return new i2(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,wT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const RT="firestore.googleapis.com",e0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=e0}else this.host=t.host,this.ssl=t.ssl??e0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fC)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kR;switch(a.type){case"firstParty":return new PR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(st(LI,"Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function PI(s,t,i,a={}){s=xi(s,tg);const l=ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(E0(`https://${p}`),T0("Firestore",!0)),c.host!==RT&&c.host!==p&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Kr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=rn.MOCK_USER;else{y=sS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(b)}s._authCredentials=new UR(new fE(y,A))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Le._jsonSchema))return new Le(t,a||null,new dt(ge.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class Ll extends Rh{constructor(t,i,a){super(t,i,yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new dt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Oc(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Dm.newId()),FR("doc","path",t),s instanceof tg){const a=ge.fromString(t,...i);return pv(a),new Le(s,null,new dt(a))}{if(!(s instanceof Le||s instanceof Ll))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ge.fromString(t,...i));return pv(a),new Le(s.firestore,s instanceof Ll?s.converter:null,new dt(a))}}const i0="AsyncQueue";class s0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&st(i0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;st(i0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",r0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function r0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ro extends tg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new s0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new s0(t),this._firestoreClient=void 0,await t}}}function jI(s,t){const i=typeof s=="object"?s:w0(),a=typeof s=="string"?s:th,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=nS("firestore");c&&PI(l,...c)}return l}function eg(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BI(s),s._firestoreClient}function BI(s){const t=s._freezeSettings(),i=zI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new OI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(en.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ue("string",Kn._jsonSchemaVersion),bytes:Ue("string")};class ng{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ch{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ue("string",Ui._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new oi(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ue("string",oi._jsonSchemaVersion),vectorValues:Ue("object")};const qI=/^__.*__$/;class HI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class CT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function IT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class ig{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(IT(this.dataSource)&&qI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class GI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new ig({dataSource:t,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new GI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function FI(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);rg("Data must be an object, but it was:",d,a);const p=DT(a,d);let _,y;if(c.merge)_=new xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=zl(t,b,i);if(!d.contains(N))throw new lt(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);VT(A,N)||A.push(N)}_=new xn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new HI(new En(p),_,y)}class Ih extends Ch{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class sg extends Ch{_toFieldTransform(t){return new x2(t.path,new Ml)}isEqual(t){return t instanceof sg}}function QI(s,t,i,a){const l=s.createContext(1,t,i);rg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();fr(a,((_,y)=>{const A=xT(t,_,i);y=hn(y);const b=l.childContextForFieldPath(A);if(y instanceof Ih)c.push(A);else{const N=Nh(y,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new xn(c);return new CT(d,p,l.fieldTransforms)}function KI(s,t,i,a,l,c){const d=s.createContext(1,t,i),p=[zl(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(zl(t,c[N])),_.push(c[N+1]);const y=[],A=En.empty();for(let N=p.length-1;N>=0;--N)if(!VT(y,p[N])){const F=p[N];let Z=_[N];Z=hn(Z);const nt=d.childContextForFieldPath(F);if(Z instanceof Ih)y.push(F);else{const $=Nh(Z,nt);$!=null&&(y.push(F),A.set(F,$))}}const b=new xn(y);return new CT(A,b,d.fieldTransforms)}function Nh(s,t){if(OT(s=hn(s)))return rg("Unsupported field value:",t,s),DT(s,t);if(s instanceof Ch)return(function(a,l){if(!IT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Nh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return N2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:QE(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof oi)return(function(d,p){const _=d instanceof oi?d.toArray():d;return{mapValue:{fields:{[TE]:{stringValue:AE},[eh]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,A)}))}}}}}})(a,l);if(WE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Om(a)}`)})(s,t)}function DT(s,t){const i={};return gE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(s,((a,l)=>{const c=Nh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function OT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ce||s instanceof Ui||s instanceof Kn||s instanceof Le||s instanceof Ch||s instanceof oi||WE(s))}function rg(s,t,i){if(!OT(i)||!dE(i)){const a=Om(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function zl(s,t,i){if((t=hn(t))instanceof ng)return t._internalPath;if(typeof t=="string")return xT(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const YI=new RegExp("[~\\*/\\[\\]]");function xT(s,t,i){if(t.search(YI)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ng(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+s+_)}function VT(s,t){return s.some((i=>i.isEqual(t)))}class XI{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new oi(i)}convertGeoPoint(t){return new Ui(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=or(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ge.fromString(t);Yt(ZE(a),9688,{name:t});const l=new xl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class MT extends XI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function JI(){return new sg("serverTimestamp")}const a0="@firebase/firestore",o0="4.11.0";function l0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class kT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(zl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $I extends kT{data(){return super.data()}}function ZI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function WI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends kT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ue("string",Qr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Gc extends Qr{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:tN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ue("string",Za._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function eN(s){s=xi(s,Le);const t=xi(s.firestore,ro),i=eg(t);return kI(i,s._key).then((a=>LT(t,s,a)))}function nN(s,t,i){s=xi(s,Le);const a=xi(s.firestore,ro),l=WI(s.converter,t),c=NT(a);return UT(a,[FI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Mi.none())])}function u0(s,t,i,...a){s=xi(s,Le);const l=xi(s.firestore,ro),c=NT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof ng?KI(c,"updateDoc",s._key,t,i,a):QI(c,"updateDoc",s._key,t),UT(l,[d.toMutation(s._key,Mi.exists(!0))])}function iN(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Le)d=xi(s.firestore,ro),p=yh(s._key.path),c={next:y=>{t[a]&&t[a](LT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=xi(s,Rh);d=xi(y.firestore,ro),p=y._query;const A=new MT(d);c={next:b=>{t[a]&&t[a](new Za(d,A,y,b))},error:t[a+1],complete:t[a+2]},ZI(s._query)}const _=eg(d);return MI(_,p,l,c)}function UT(s,t){const i=eg(s);return UI(i,t)}function LT(s,t,i){const a=i.docs.get(t._key),l=new MT(s);return new Qr(s,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){MR(oo),Wa(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ro(new LR(a.getProvider("auth-internal")),new jR(d,a.getProvider("app-check-internal")),s2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ir(a0,o0,t),ir(a0,o0,"esm2020")})();const sN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTq4Qbx2er_KwwLQDJZpLiSY09vqqEJfY",authDomain:"grift-game.firebaseapp.com",projectId:"grift-game",storageBucket:"grift-game.firebasestorage.app",messagingSenderId:"1073068754785",appId:"1:1073068754785:web:4428c1fa4fa00177dfa720"},zT=b0(sN),xc=xR(zT),Vc=jI(zT),Mc=typeof __app_id<"u"?__app_id:"grift-prod",Fe={ctx:null,init:()=>{if(!Fe.ctx){const s=window.AudioContext||window.webkitAudioContext;s&&(Fe.ctx=new s)}Fe.ctx&&Fe.ctx.state==="suspended"&&Fe.ctx.resume()},play:s=>{Fe.ctx||Fe.init();const t=Fe.ctx;if(!t)return;const i=t.currentTime;if(s==="tick"){const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(800,i),l.gain.setValueAtTime(.01,i),l.gain.exponentialRampToValueAtTime(.001,i+.03),a.start(i),a.stop(i+.05)}else if(s==="place"){const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(180,i),a.frequency.exponentialRampToValueAtTime(40,i+.08),l.gain.setValueAtTime(0,i),l.gain.linearRampToValueAtTime(.4,i+.005),l.gain.exponentialRampToValueAtTime(.001,i+.1),a.start(i),a.stop(i+.1);const c=t.createOscillator(),d=t.createGain();c.connect(d),d.connect(t.destination),c.type="triangle",c.frequency.setValueAtTime(1200,i),c.frequency.exponentialRampToValueAtTime(200,i+.02),d.gain.setValueAtTime(0,i),d.gain.linearRampToValueAtTime(.05,i+.002),d.gain.exponentialRampToValueAtTime(.001,i+.03),c.start(i),c.stop(i+.05)}else if(s==="rotate"){const a=t.sampleRate*.6,l=t.createBuffer(1,a,t.sampleRate),c=l.getChannelData(0);for(let b=0;b<a;b++)c[b]=Math.random()*2-1;const d=t.createBufferSource();d.buffer=l;const p=t.createBiquadFilter();p.type="lowpass",p.frequency.setValueAtTime(400,i),p.frequency.linearRampToValueAtTime(250,i+.6);const _=t.createGain();_.gain.setValueAtTime(0,i),_.gain.linearRampToValueAtTime(.3,i+.1),_.gain.linearRampToValueAtTime(0,i+.6),d.connect(p),p.connect(_),_.connect(t.destination),d.start(i),d.stop(i+.6);const y=t.createOscillator(),A=t.createGain();y.connect(A),A.connect(t.destination),y.type="sine",y.frequency.setValueAtTime(50,i),A.gain.setValueAtTime(0,i),A.gain.linearRampToValueAtTime(.15,i+.1),A.gain.linearRampToValueAtTime(0,i+.6),y.start(i),y.stop(i+.6)}else s==="win"&&[440,554,659].forEach(a=>{const l=t.createOscillator(),c=t.createGain();l.connect(c),c.connect(t.destination),l.type="sine",l.frequency.value=a,c.gain.setValueAtTime(.1,i),c.gain.exponentialRampToValueAtTime(.001,i+1.5),l.start(i),l.stop(i+1.5)})}},rN=s=>{const t=s,i=s*2+1,a=[[{r:t,c:t}]];for(let l=1;l<=s;l++){const c=[],d=t-l,p=t+l;for(let _=p;_>d;_--)c.push({r:d,c:_});for(let _=d;_<p;_++)c.push({r:_,c:d});for(let _=d;_<p;_++)c.push({r:p,c:_});for(let _=p;_>d;_--)c.push({r:_,c:p});a.push(c)}return{rings:a,center:t,size:i}},aN=s=>s+2,oN=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Fr=({children:s,delay:t=0,className:i=""})=>H.jsx("div",{className:`animate-in fade-in slide-in-from-bottom-4 duration-700 fill-mode-backwards ${i}`,style:{animationDelay:`${t}ms`},children:s}),c0=({time:s,isActive:t,label:i,color:a})=>{const l=Math.floor(s/60),c=s%60;Gt.useEffect(()=>{t&&s%1===0&&Fe.play("tick")},[s,t]);const d=a==="orange"?"border-[#fa471f]":"border-zinc-400",p=a==="orange"?"text-[#fa471f]":"text-zinc-300",_=a==="orange"?"bg-[#fa471f]/10":"bg-zinc-400/10";return H.jsxs("div",{className:`flex flex-col items-center transition-all duration-500 ${t?"opacity-100 scale-100":"opacity-40 scale-95"}`,children:[H.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] mb-2 font-bold ${t?p:"text-zinc-600"}`,children:i}),H.jsxs("div",{className:`font-mono text-xl border-2 px-3 py-1.5 rounded-md transition-all duration-300 relative overflow-hidden ${t?`${d} ${p} ${_}`:"border-zinc-800 text-zinc-700 bg-zinc-950/50"}`,children:[t&&H.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}}),H.jsxs("span",{className:"relative z-10 tabular-nums",children:[l,":",c.toString().padStart(2,"0")]})]})]})},lN=({piece:s,boardSize:t,rings:i})=>{if(!i||!i[s.ringIdx])return null;const{r:a,c:l}=i[s.ringIdx][s.index],c=s.player===1;return H.jsx("div",{className:"absolute flex items-center justify-center transition-all duration-700 ease-[cubic-bezier(0.34,1.56,0.64,1)] pointer-events-none",style:{top:`${a/t*100}%`,left:`${l/t*100}%`,width:`${100/t}%`,height:`${100/t}%`,zIndex:5},children:H.jsx("div",{className:`w-[70%] h-[70%] rounded-full relative animate-in zoom-in duration-500 
        ${c?"bg-zinc-300 shadow-[0_2px_12px_rgba(255,255,255,0.15)]":"bg-[#fa471f] shadow-[0_2px_12px_rgba(250,71,31,0.4)]"}`,children:H.jsx("div",{className:"absolute top-[20%] left-[25%] w-[30%] h-[25%] rounded-full bg-white/20 blur-[1px]"})})})},uN=({onStartLocal:s,onStartOnline:t})=>H.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center space-y-12 relative overflow-hidden bg-black",children:[H.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #fa471f 1px, transparent 0)",backgroundSize:"40px 40px"}}),H.jsxs(Fr,{delay:100,className:"relative z-10",children:[H.jsx("h1",{className:"text-8xl font-black tracking-[-0.02em] text-white mb-3",children:"GRIFT"}),H.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-[#fa471f] font-medium",children:"Mechanical Logic Engine"})]}),H.jsxs("div",{className:"flex flex-col gap-4 relative z-10 w-full max-w-xs",children:[H.jsx(Fr,{delay:300,children:H.jsxs("button",{onClick:s,className:"w-full py-4 bg-zinc-900 border border-zinc-700 text-zinc-400 font-bold uppercase tracking-widest hover:border-zinc-500 hover:text-white rounded-sm flex items-center justify-center gap-2 transition-all",children:[H.jsx(qA,{size:18})," Local Play"]})}),H.jsx(Fr,{delay:400,children:H.jsxs("button",{onClick:t,className:"w-full py-4 bg-[#fa471f] text-black font-bold uppercase tracking-widest hover:bg-[#ff6b4a] rounded-sm flex items-center justify-center gap-2 transition-all shadow-[0_0_20px_rgba(250,71,31,0.3)]",children:[H.jsx(QA,{size:18})," Online Play"]})})]}),H.jsx(Fr,{delay:600,className:"absolute bottom-8 z-10",children:H.jsx("p",{className:"text-[10px] text-zinc-700 font-mono tracking-widest uppercase",children:"Built by Krishnendu Halder, KikTro"})})]}),cN=({onHost:s,onJoin:t,onBack:i,joinCode:a,setJoinCode:l,name:c,setName:d})=>H.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 w-full max-w-sm mx-auto bg-black",children:H.jsxs(Fr,{className:"w-full space-y-8",children:[H.jsx("h2",{className:"text-center text-xl font-mono text-[#fa471f] uppercase tracking-widest",children:"Multiplayer"}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-[10px] uppercase tracking-widest text-zinc-500 ml-1",children:"Codename"}),H.jsxs("div",{className:"flex items-center bg-zinc-900 border border-zinc-800 p-4 rounded-sm focus-within:border-[#fa471f] transition-colors",children:[H.jsx(GA,{size:18,className:"text-zinc-500 mr-3"}),H.jsx("input",{type:"text",placeholder:"ENTER NAME",maxLength:10,value:c,onChange:p=>d(p.target.value.toUpperCase()),className:"bg-transparent flex-1 text-white font-mono tracking-widest focus:outline-none placeholder:text-zinc-700"})]})]}),H.jsxs("div",{className:`space-y-4 transition-opacity duration-300 ${c?"opacity-100":"opacity-50 pointer-events-none"}`,children:[H.jsx("button",{onClick:s,className:"w-full py-5 bg-zinc-900 border border-zinc-800 hover:border-[#fa471f] text-zinc-300 hover:text-[#fa471f] uppercase tracking-widest transition-all",children:"Host Game"}),H.jsxs("div",{className:"relative py-2",children:[H.jsx("div",{className:"absolute inset-0 flex items-center",children:H.jsx("div",{className:"w-full border-t border-zinc-900"})}),H.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:H.jsx("span",{className:"bg-black px-2 text-zinc-700",children:"Or Join"})})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("input",{type:"text",placeholder:"GAME CODE",maxLength:6,value:a,onChange:p=>l(p.target.value.toUpperCase()),className:"flex-1 bg-zinc-900 border border-zinc-800 text-center text-white font-mono uppercase tracking-widest focus:border-[#fa471f] focus:outline-none p-4 placeholder:text-zinc-700"}),H.jsx("button",{onClick:t,disabled:a.length<4,className:"bg-[#fa471f] text-black px-6 font-bold uppercase hover:bg-[#ff6b4a] disabled:opacity-50 disabled:grayscale transition-all",children:"Join"})]})]}),H.jsx("button",{onClick:i,className:"w-full text-center text-xs text-zinc-600 hover:text-white uppercase tracking-widest mt-8",children:"Back"})]})}),hN=({gameId:s,onCancel:t})=>H.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-black",children:H.jsxs(Fr,{className:"text-center space-y-8",children:[H.jsxs("div",{className:"animate-pulse",children:[H.jsx("div",{className:"w-3 h-3 bg-[#fa471f] rounded-full mx-auto mb-4 shadow-[0_0_15px_#fa471f]"}),H.jsx("h2",{className:"text-xl font-mono text-zinc-300 uppercase tracking-widest",children:"Awaiting Link"})]}),H.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-sm w-full max-w-xs",children:[H.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest mb-2",children:"Access Code"}),H.jsxs("div",{className:"text-5xl font-black text-[#fa471f] font-mono tracking-wider flex items-center gap-4 justify-center",children:[s,H.jsx("button",{onClick:()=>navigator.clipboard.writeText(s),className:"p-2 text-zinc-500 hover:text-white transition-colors",children:H.jsx(d0,{size:20})})]})]}),H.jsx("button",{onClick:t,className:"text-xs text-zinc-600 hover:text-red-500 uppercase tracking-widest transition-colors",children:"Abort Sequence"})]})}),h0=({config:s,setConfig:t,isOnline:i,onStart:a,onBack:l})=>H.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 w-full max-w-lg mx-auto bg-black",children:H.jsxs(Fr,{className:"w-full space-y-8",children:[H.jsx("h2",{className:"text-center text-xl font-mono text-[#fa471f] uppercase tracking-[0.2em]",children:"Configuration"}),H.jsxs("div",{className:"space-y-5 bg-zinc-950/50 border border-zinc-900 p-6 rounded-lg",children:[H.jsxs("div",{className:"flex justify-between items-end text-xs text-zinc-500 uppercase",children:[H.jsx("span",{children:"Rings"}),H.jsx("span",{className:"text-white font-mono text-lg",children:s.rings})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:()=>t(c=>({...c,rings:Math.max(2,c.rings-1)})),disabled:s.rings<=2,className:"w-12 h-12 flex items-center justify-center border-2 border-zinc-800 hover:border-white text-zinc-500 hover:text-white rounded-sm disabled:opacity-30",children:H.jsx(UA,{size:18})}),H.jsx("div",{className:"flex-1 h-[2px] bg-zinc-800",children:H.jsx("div",{className:"h-full bg-[#fa471f] transition-all",style:{width:`${(s.rings-2)/3*100}%`}})}),H.jsx("button",{onClick:()=>t(c=>({...c,rings:Math.min(5,c.rings+1)})),disabled:s.rings>=5,className:"w-12 h-12 flex items-center justify-center border-2 border-zinc-800 hover:border-white text-zinc-500 hover:text-white rounded-sm disabled:opacity-30",children:H.jsx(zA,{size:18})})]})]}),H.jsxs("div",{className:"space-y-4 bg-zinc-950/50 border border-zinc-900 p-6 rounded-lg",children:[H.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 uppercase",children:[H.jsx("span",{children:"Timers"}),H.jsxs("span",{className:"text-white font-mono",children:[s.timeP1," min"]})]}),H.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:s.timeP1,onChange:c=>t(d=>({...d,timeP1:Number(c.target.value),timeP2:Number(c.target.value)})),className:"w-full h-1 bg-zinc-800 appearance-none rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-[#fa471f] [&::-webkit-slider-thumb]:rounded-full"})]}),H.jsx("button",{onClick:a,className:"w-full py-5 bg-[#fa471f] text-black font-bold uppercase tracking-[0.2em] hover:bg-[#ff6b4a] rounded-sm shadow-[0_0_20px_rgba(250,71,31,0.2)] transition-all",children:i?"Create Lobby":"Initialize Grid"}),H.jsx("button",{onClick:l,className:"w-full text-center text-xs text-zinc-600 hover:text-white uppercase tracking-widest mt-4",children:"Back"})]})});function fN(){const[s,t]=Gt.useState(null),[i,a]=Gt.useState("home"),[l,c]=Gt.useState("local"),[d,p]=Gt.useState(""),[_,y]=Gt.useState(""),[A,b]=Gt.useState(""),[N,F]=Gt.useState({rings:3,timeP1:5,timeP2:5}),[Z,nt]=Gt.useState([]),[$,ft]=Gt.useState(1),[pt,yt]=Gt.useState(!1),[St,Zt]=Gt.useState(null),[jt,C]=Gt.useState([]),[S,I]=Gt.useState({1:300,2:300}),[V,D]=Gt.useState(!1),[k,w]=Gt.useState(!1),[ie,ye]=Gt.useState(null),[q,tt]=Gt.useState(null),[ut,xt]=Gt.useState({1:"Grey",2:"Orange"}),ht=Gt.useMemo(()=>rN(N.rings),[N.rings]),O=Gt.useMemo(()=>aN(N.rings),[N.rings]),K=Gt.useMemo(()=>{const Vt=new Map;return ht.rings.forEach((It,ot)=>It.forEach(he=>Vt.set(`${he.r},${he.c}`,ot))),Vt},[ht]);Gt.useEffect(()=>((async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await _w(xc,__initial_auth_token)}catch{await iv(xc)}else await iv(xc)})(),Tw(xc,t)),[]),Gt.useEffect(()=>{if(l!=="online"||!d||!s)return;const Vt=iN(Oc(Vc,"artifacts",Mc,"public","data","games",d),It=>{if(!It.exists())return;const ot=It.data();F(ot.config),nt(ot.pieces),ft(ot.currentPlayer),yt(ot.hasPlaced),Zt(ot.winner),D(ot.status==="active"),ot.hostId===s.uid?tt(1):ot.guestId===s.uid&&tt(2),xt({1:ot.hostName||"Grey",2:ot.guestName||"Orange"}),i==="lobby"&&ot.status==="active"&&(a("game"),Fe.play("place")),ot.timers&&I(ot.timers)});return()=>Vt()},[d,l,s,i]),Gt.useEffect(()=>{let Vt=null;return i==="game"&&V&&!St&&!k&&(Vt=setInterval(()=>{I(It=>{const ot=It[$];return ot<=0?(l==="local"&&Zt($===1?2:1),It):{...It,[$]:ot-1}})},1e3)),()=>clearInterval(Vt)},[i,V,$,St,k,l]);const et=Gt.useCallback((Vt,It=ht)=>{const{size:ot}=It,he=Array(ot).fill(null).map(()=>Array(ot).fill(null));Vt.forEach(ae=>{if(!It.rings[ae.ringIdx])return;const{r:Ft,c:Qe}=It.rings[ae.ringIdx][ae.index];he[Ft][Qe]=ae.player});const Te=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}];for(let ae=0;ae<ot;ae++)for(let Ft=0;Ft<ot;Ft++){const Qe=he[ae][Ft];if(Qe)for(const{dr:Tn,dc:oe}of Te){let me=[];for(let An=0;An<O;An++){const ps=ae+Tn*An,ji=Ft+oe*An;if(ps>=0&&ps<ot&&ji>=0&&ji<ot&&he[ps][ji]===Qe)me.push({r:ps,c:ji});else break}if(me.length===O)return{winner:Qe,line:me}}}return null},[ht,O]),it=async Vt=>{d&&await u0(Oc(Vc,"artifacts",Mc,"public","data","games",d),Vt)},_t=async(Vt,It)=>{if(St||pt||l==="online"&&(q!==$||!V))return;let ot=null;for(let Ft=0;Ft<ht.rings.length;Ft++){const Qe=ht.rings[Ft].findIndex(Tn=>Tn.r===Vt&&Tn.c===It);if(Qe!==-1){ot={ringIdx:Ft,index:Qe};break}}if(!ot||ot.ringIdx===0||Z.some(Ft=>Ft.ringIdx===ot.ringIdx&&Ft.index===ot.index))return;Fe.play("place");const he={id:Date.now(),player:$,ringIdx:ot.ringIdx,index:ot.index},Te=[...Z,he],ae=et(Te);if(l==="local")nt(Te),yt(!0),V||D(!0),ae&&(Zt(ae.winner),C(ae.line),Fe.play("win"));else{const Ft={pieces:Te,hasPlaced:!0};ae&&(Ft.winner=ae.winner,Ft.status="complete"),await it(Ft),ae&&(C(ae.line),Fe.play("win"))}},bt=async()=>{if(!pt||St||l==="online"&&q!==$)return;Fe.play("rotate");const Vt=Z.map(ot=>{if(!ht.rings[ot.ringIdx])return ot;const he=ht.rings[ot.ringIdx].length;return{...ot,index:(ot.index+1)%he}}),It=et(Vt);if(l==="local")nt(Vt),yt(!1),ft(ot=>ot===1?2:1),It&&setTimeout(()=>{Zt(It.winner),C(It.line),Fe.play("win")},600);else{const ot={pieces:Vt,hasPlaced:!1,currentPlayer:$===1?2:1,timers:S};It&&(ot.winner=It.winner,ot.status="complete"),await it(ot),It&&setTimeout(()=>{C(It.line),Fe.play("win")},600)}},Nt=async()=>{if(!s)return;const Vt=oN(),It={hostId:s.uid,guestId:null,status:"waiting",config:N,pieces:[],currentPlayer:1,hasPlaced:!1,timers:{1:N.timeP1*60,2:N.timeP2*60},winner:null,createdAt:JI(),hostName:A||"GREY"};await nN(Oc(Vc,"artifacts",Mc,"public","data","games",Vt),It),p(Vt),c("online"),tt(1),a("lobby")},Ee=async()=>{if(!s||!_)return;const Vt=Oc(Vc,"artifacts",Mc,"public","data","games",_.toUpperCase()),It=await eN(Vt);It.exists()&&It.data().status==="waiting"?(await u0(Vt,{guestId:s.uid,status:"active",guestName:A||"ORANGE"}),p(_.toUpperCase()),c("online"),tt(2),a("game")):alert("Invalid Code or Game Full")},se=()=>{c("local"),xt({1:"GREY",2:"ORANGE"}),nt([]),Zt(null),C([]),ft(1),yt(!1),D(!1),I({1:N.timeP1*60,2:N.timeP2*60}),a("game")};return i==="config"?H.jsx(h0,{config:N,setConfig:F,isOnline:!1,onStart:se,onBack:()=>a("home")}):i==="config_online"?H.jsx(h0,{config:N,setConfig:F,isOnline:!0,onStart:Nt,onBack:()=>a("online_menu")}):i==="online_menu"?H.jsx(cN,{onHost:()=>a("config_online"),onJoin:Ee,onBack:()=>a("home"),joinCode:_,setJoinCode:y,name:A,setName:b}):i==="lobby"?H.jsx(hN,{gameId:d,onCancel:()=>a("home")}):i==="home"?H.jsx(uN,{onStartLocal:()=>{Fe.init(),a("config")},onStartOnline:()=>{Fe.init(),a("online_menu")}}):H.jsxs("div",{className:"h-full flex flex-col relative animate-in fade-in duration-1000 bg-black text-zinc-400 font-sans selection:bg-[#fa471f]/30",children:[H.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(ellipse_at_center,transparent_0%,black_100%)] opacity-60 z-30"}),H.jsxs("div",{className:"flex justify-between items-start p-6 z-20 relative",children:[H.jsx(c0,{label:ut[1],time:S[1],isActive:V&&$===1&&!St,color:"grey"}),H.jsxs("div",{className:"flex flex-col items-center gap-3",children:[H.jsx("div",{className:"text-[9px] font-bold text-zinc-700 tracking-[0.3em] uppercase",children:l==="online"?"Online":"Local"}),l==="online"&&H.jsxs("button",{onClick:()=>navigator.clipboard.writeText(d),className:"flex items-center gap-2 px-3 py-1 bg-zinc-900 border border-zinc-800 hover:border-[#fa471f] rounded-full transition-all group",children:[H.jsx("span",{className:"text-[10px] font-mono text-[#fa471f] tracking-widest",children:d}),H.jsx(d0,{size:10,className:"text-zinc-600 group-hover:text-[#fa471f]"})]}),H.jsx("button",{onClick:()=>a("home"),className:"p-2 text-zinc-700 hover:text-white border border-zinc-900 hover:border-zinc-600 rounded-sm mt-2",children:H.jsx(L_,{size:16})})]}),H.jsx(c0,{label:ut[2],time:S[2],isActive:V&&$===2&&!St,color:"orange"})]}),H.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:H.jsxs("div",{className:"relative aspect-square w-full max-w-[min(85vw,550px)] bg-gradient-to-br from-zinc-950 to-black shadow-[0_20px_60px_rgba(0,0,0,0.8)] border-2 border-zinc-900/50 rounded-sm",children:[H.jsx("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:`repeat(${ht.size}, 1fr)`,zIndex:1},children:Array.from({length:ht.size*ht.size}).map((Vt,It)=>{const ot=Math.floor(It/ht.size),he=It%ht.size,Te=K.get(`${ot},${he}`),ae=Te!==void 0&&Te>0&&Te%2===0;if(ot===ht.center&&he===ht.center)return H.jsx("div",{className:"border border-zinc-900/80"},It);const Ft=jt.some(oe=>oe.r===ot&&oe.c===he),Qe=ie?.r===ot&&ie?.c===he,Tn=!pt&&!St&&(!V||l==="local"||l==="online"&&q===$);return H.jsx("div",{onClick:()=>_t(ot,he),onMouseEnter:()=>Tn&&ye({r:ot,c:he}),onMouseLeave:()=>ye(null),className:`border transition-all duration-300 relative ${Ft?"border-[#fa471f]/50 bg-[#fa471f]/10":"border-zinc-900/80"} ${!Ft&&ae?"bg-zinc-900/40":""} ${!Ft&&!ae&&Te>0?"bg-black/40":""} ${Tn&&!Ft?"hover:border-zinc-700 hover:bg-zinc-800/50 cursor-pointer":""} ${Qe&&$===1?"bg-zinc-300/10":""} ${Qe&&$===2?"bg-[#fa471f]/10":""}`},It)})}),H.jsx("div",{className:"absolute z-20 flex items-center justify-center p-[3px]",style:{top:`${ht.center/ht.size*100}%`,left:`${ht.center/ht.size*100}%`,width:`${1/ht.size*100}%`,height:`${1/ht.size*100}%`},children:H.jsx("button",{onClick:bt,disabled:!pt||St||l==="online"&&q!==$,className:`w-full h-full rounded-full flex items-center justify-center relative border-2 transition-all duration-500 overflow-hidden ${pt&&!St&&(l==="local"||q===$)?"bg-zinc-900 border-[#fa471f] text-[#fa471f] scale-100 cursor-pointer hover:scale-105 shadow-[0_0_25px_rgba(250,71,31,0.2)]":"bg-zinc-950 border-zinc-800 text-zinc-700 scale-90 cursor-not-allowed"}`,children:pt&&!St&&(l==="local"||q===$)?H.jsx(jA,{className:"animate-spin-slow relative z-10",size:"45%",strokeWidth:2.5}):H.jsx("div",{className:"w-[20%] h-[20%] bg-zinc-800 rounded-full shadow-inner"})})}),H.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:Z.map(Vt=>H.jsx(lN,{piece:Vt,boardSize:ht.size,rings:ht.rings},Vt.id))})]})}),H.jsxs("div",{className:"p-8 text-center space-y-5 relative z-20",children:[!V&&!St&&H.jsx("p",{className:"text-zinc-600 text-xs font-mono uppercase tracking-[0.2em] animate-pulse",children:l==="online"&&q!==1?"Waiting for Host":"Place sphere to initiate"}),St&&H.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",children:[H.jsxs("div",{className:"inline-flex items-center gap-3 bg-zinc-900 border border-zinc-800 px-6 py-3 rounded-lg",children:[H.jsx(xA,{className:"text-[#fa471f]",size:20}),H.jsxs("p",{className:"text-white font-bold tracking-[0.15em] uppercase text-sm",children:[St===1?ut[1]:ut[2]," Victorious"]})]}),H.jsx("button",{onClick:l==="online"?Nt:se,className:"block w-full text-xs text-zinc-500 hover:text-[#fa471f] uppercase tracking-widest underline underline-offset-4",children:"New Game"})]}),H.jsx("div",{className:"flex justify-center gap-6 pt-4 border-t border-zinc-900/50",children:H.jsx("button",{onClick:()=>w(!0),className:"text-zinc-600 hover:text-zinc-400 p-2",children:H.jsx(MA,{size:18})})})]}),H.jsx("style",{children:"@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}.animate-shimmer{animation:shimmer 3s infinite linear}.animate-spin-slow{animation:spin 2s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}"}),k&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-xl p-6 animate-in fade-in duration-300",children:H.jsxs("div",{className:"bg-gradient-to-b from-zinc-950 to-black border border-zinc-800/50 p-10 max-w-md w-full shadow-2xl relative rounded-lg",children:[H.jsx("button",{onClick:()=>w(!1),className:"absolute top-5 right-5 text-zinc-600 hover:text-white transition-all p-1",children:H.jsx(L_,{size:20})}),H.jsx("h2",{className:"text-xl font-mono text-[#fa471f] mb-6 tracking-[0.15em] uppercase border-b border-zinc-800/50 pb-4",children:"Protocol"}),H.jsxs("div",{className:"space-y-4 text-xs text-zinc-500",children:[H.jsxs("p",{children:["1. ",H.jsxs("strong",{children:["Connect ",O,":"]})," Align ",O," pieces in any direction."]}),H.jsxs("p",{children:["2. ",H.jsx("strong",{children:"Flow:"})," Place piece  Press Center  Board Rotates."]}),H.jsxs("p",{children:["3. ",H.jsx("strong",{children:"Drift:"})," Pieces rotate counter-clockwise. Predict the drift."]})]})]})})]})}bA.createRoot(document.getElementById("root")).render(H.jsx(Gt.StrictMode,{children:H.jsx(fN,{})}));
