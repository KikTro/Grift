(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},dl={};var R_;function mA(){if(R_)return dl;R_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var C_;function gA(){return C_||(C_=1,Id.exports=mA()),Id.exports}var Q=gA(),Dd={exports:{}},At={};var I_;function pA(){if(I_)return At;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,tt={};function mt(O,K,et){this.props=O,this.context=K,this.refs=tt,this.updater=et||$}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ht(){}ht.prototype=mt.prototype;function yt(O,K,et){this.props=O,this.context=K,this.refs=tt,this.updater=et||$}var Ht=yt.prototype=new ht;Ht.constructor=yt,nt(Ht,mt.prototype),Ht.isPureReactComponent=!0;var Zt=Array.isArray;function Nt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,K,et){var st=et.ref;return{$$typeof:r,type:O,key:K,ref:st!==void 0?st:null,props:et}}function x(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function zt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Nt,Nt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function j(O,K,et,st,_t){var it=typeof O;(it==="undefined"||it==="boolean")&&(O=null);var at=!1;if(O===null)at=!0;else switch(it){case"bigint":case"string":case"number":at=!0;break;case"object":switch(O.$$typeof){case r:case t:at=!0;break;case A:return at=O._init,j(at(O._payload),K,et,st,_t)}}if(at)return _t=_t(O),at=st===""?"."+zt(O,0):st,Zt(_t)?(et="",at!=null&&(et=at.replace(w,"$&/")+"/"),j(_t,K,et,"",function(Ue){return Ue})):_t!=null&&(D(_t)&&(_t=x(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+at)),K.push(_t)),1;at=0;var rt=st===""?".":st+":";if(Zt(O))for(var bt=0;bt<O.length;bt++)st=O[bt],it=rt+zt(st,bt),at+=j(st,K,et,it,_t);else if(bt=G(O),typeof bt=="function")for(O=bt.call(O),bt=0;!(st=O.next()).done;)st=st.value,it=rt+zt(st,bt++),at+=j(st,K,et,it,_t);else if(it==="object"){if(typeof O.then=="function")return j(ue(O),K,et,st,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return at}function W(O,K,et){if(O==null)return O;var st=[],_t=0;return j(O,st,"","",function(it){return K.call(et,it,_t++)}),st}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:W,forEach:function(O,K,et){W(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=b,At.Children=jt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=yt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),_t=O.key;if(K!=null)for(it in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&K.ref===void 0||(st[it]=K[it]);var it=arguments.length-2;if(it===1)st.children=et;else if(1<it){for(var at=Array(it),rt=0;rt<it;rt++)at[rt]=arguments[rt+2];st.children=at}return C(O.type,_t,st)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,et){var st,_t={},it=null;if(K!=null)for(st in K.key!==void 0&&(it=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=K[st]);var at=arguments.length-2;if(at===1)_t.children=et;else if(1<at){for(var rt=Array(at),bt=0;bt<at;bt++)rt[bt]=arguments[bt+2];_t.children=rt}if(O&&O.defaultProps)for(st in at=O.defaultProps,at)_t[st]===void 0&&(_t[st]=at[st]);return C(O,it,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},At.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=I.T,et={};I.T=et;try{var st=O(),_t=I.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Nt,Ot)}catch(it){Ot(it)}finally{K!==null&&et.types!==null&&(K.types=et.types),I.T=K}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(O){return I.H.use(O)},At.useActionState=function(O,K,et){return I.H.useActionState(O,K,et)},At.useCallback=function(O,K){return I.H.useCallback(O,K)},At.useContext=function(O){return I.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return I.H.useEffect(O,K)},At.useEffectEvent=function(O){return I.H.useEffectEvent(O)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(O,K,et){return I.H.useImperativeHandle(O,K,et)},At.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return I.H.useMemo(O,K)},At.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},At.useReducer=function(O,K,et){return I.H.useReducer(O,K,et)},At.useRef=function(O){return I.H.useRef(O)},At.useState=function(O){return I.H.useState(O)},At.useSyncExternalStore=function(O,K,et){return I.H.useSyncExternalStore(O,K,et)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.4",At}var D_;function ym(){return D_||(D_=1,Dd.exports=pA()),Dd.exports}var Kt=ym(),Nd={exports:{}},ml={},Od={exports:{}},Vd={};var N_;function yA(){return N_||(N_=1,(function(r){function t(j,W){var ft=j.length;j.push(W);t:for(;0<ft;){var Ot=ft-1>>>1,jt=j[Ot];if(0<l(jt,W))j[Ot]=W,j[ft]=jt,ft=Ot;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var W=j[0],ft=j.pop();if(ft!==W){j[0]=ft;t:for(var Ot=0,jt=j.length,O=jt>>>1;Ot<O;){var K=2*(Ot+1)-1,et=j[K],st=K+1,_t=j[st];if(0>l(et,ft))st<jt&&0>l(_t,et)?(j[Ot]=_t,j[st]=ft,Ot=st):(j[Ot]=et,j[K]=ft,Ot=K);else if(st<jt&&0>l(_t,ft))j[Ot]=_t,j[st]=ft,Ot=st;else break t}}return W}function l(j,W){var ft=j.sortIndex-W.sortIndex;return ft!==0?ft:j.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,V=3,G=!1,$=!1,nt=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Ht(j){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=j)a(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(y)}}function Zt(j){if(nt=!1,Ht(j),!$)if(i(_)!==null)$=!0,Nt||(Nt=!0,k());else{var W=i(y);W!==null&&ue(Zt,W.startTime-j)}}var Nt=!1,I=-1,S=5,C=-1;function x(){return tt?!0:!(r.unstable_now()-C<S)}function D(){if(tt=!1,Nt){var j=r.unstable_now();C=j;var W=!0;try{t:{$=!1,nt&&(nt=!1,ht(I),I=-1),G=!0;var ft=V;try{e:{for(Ht(j),b=i(_);b!==null&&!(b.expirationTime>j&&x());){var Ot=b.callback;if(typeof Ot=="function"){b.callback=null,V=b.priorityLevel;var jt=Ot(b.expirationTime<=j);if(j=r.unstable_now(),typeof jt=="function"){b.callback=jt,Ht(j),W=!0;break e}b===i(_)&&a(_),Ht(j)}else a(_);b=i(_)}if(b!==null)W=!0;else{var O=i(y);O!==null&&ue(Zt,O.startTime-j),W=!1}}break t}finally{b=null,V=ft,G=!1}W=void 0}}finally{W?k():Nt=!1}}}var k;if(typeof yt=="function")k=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,zt=w.port2;w.port1.onmessage=D,k=function(){zt.postMessage(null)}}else k=function(){mt(D,0)};function ue(j,W){I=mt(function(){j(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(j){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var ft=V;V=W;try{return j()}finally{V=ft}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ft=V;V=j;try{return W()}finally{V=ft}},r.unstable_scheduleCallback=function(j,W,ft){var Ot=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ot+ft:Ot):ft=Ot,j){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ft+jt,j={id:A++,callback:W,priorityLevel:j,startTime:ft,expirationTime:jt,sortIndex:-1},ft>Ot?(j.sortIndex=ft,t(y,j),i(_)===null&&j===i(y)&&(nt?(ht(I),I=-1):nt=!0,ue(Zt,ft-Ot))):(j.sortIndex=jt,t(_,j),$||G||($=!0,Nt||(Nt=!0,k()))),j},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(j){var W=V;return function(){var ft=V;V=W;try{return j.apply(this,arguments)}finally{V=ft}}}})(Vd)),Vd}var O_;function _A(){return O_||(O_=1,Od.exports=yA()),Od.exports}var xd={exports:{}},We={};var V_;function vA(){if(V_)return We;V_=1;var r=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},We.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},We.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},We.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},We.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:V,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},We.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},We.requestFormReset=function(_){a.d.r(_)},We.unstable_batchedUpdates=function(_,y){return _(y)},We.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.4",We}var x_;function TA(){if(x_)return xd.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=vA(),xd.exports}var M_;function EA(){if(M_)return ml;M_=1;var r=_A(),t=ym(),i=TA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case Zt:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case yt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:zt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return zt(e(n))}catch{}}return null}var ue=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ot=[],jt=-1;function O(e){return{current:e}}function K(e){0>jt||(e.current=Ot[jt],Ot[jt]=null,jt--)}function et(e,n){jt++,Ot[jt]=e.current,e.current=n}var st=O(null),_t=O(null),it=O(null),at=O(null);function rt(e,n){switch(et(it,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function bt(){K(st),K(_t),K(it)}function Ue(e){e.memoizedState!==null&&et(at,e);var n=st.current,s=Jy(n,e.type);n!==s&&(et(_t,e),et(st,s))}function ie(e){_t.current===e&&(K(st),K(_t)),at.current===e&&(K(at),ul._currentValue=ft)}var Qt,Le;function Pe(e){if(Qt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qt=n&&n[1]||"",Le=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+e+Le}var ri=!1;function Hn(e,n){if(!e||ri)return"";ri=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ri=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pe(s):""}function si(e,n){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==n&&n!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Hn(e.type,!1);case 11:return Hn(e.type.render,!1);case 1:return Hn(e.type,!0);case 31:return Pe("Activity");default:return""}}function ai(e){try{var n="",s=null;do n+=si(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,sn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,fo=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,$l=r.log,Zl=r.unstable_setDisableYieldValue,Gn=null,Ge=null;function In(e){if(typeof $l=="function"&&Zl(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Gn,e)}catch{}}var pe=Math.clz32?Math.clz32:tu,Wl=Math.log,Zs=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Zs|0)|0}var oi=256,ds=262144,Ee=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=li(o):(g&=T,g!==0?h=li(g):s||(s=T&~e,s!==0&&(h=li(s))))):(T=o&~f,T!==0?h=li(T):g!==0?h=li(g):s||(s=o&~e,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ms(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-pe(s),Y=1<<H;T[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&gs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function gs(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-pe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function go(e,n){var s=n&-n;return s=(s&42)!==0?1:ps(s),(s&(e.suspendedLanes|n))!==0?0:s}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function Qn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Kn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Kn,ze="__reactProps$"+Kn,hi="__reactContainer$"+Kn,Ws="__reactEvents$"+Kn,xh="__reactListeners$"+Kn,iu="__reactHandles$"+Kn,ru="__reactResources$"+Kn,fi="__reactMarker$"+Kn;function ta(e){delete e[Ae],delete e[ze],delete e[Ws],delete e[xh],delete e[iu]}function di(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[hi]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=i_(e);e!==null;){if(s=e[Ae])return s;e=i_(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[Ae]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[fi]=!0}var po=new Set,yo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},To={};function su(e){return se.call(To,e)?!0:se.call(vo,e)?!1:_o.test(e)?To[e]=!0:(vo[e]=!0,!1)}function ea(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=pr(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function ys(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=pr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _s=/[\n"\\]/g;function un(e){return e.replace(_s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+je(n)):e.value!==""+je(n)&&(e.value=""+je(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,je(n)):s!=null?Ao(e,g,je(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+je(T):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}s=s!=null?""+je(s):"",n=n!=null?""+je(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function Ao(e,n,s){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function yr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+je(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+je(s):""}function _r(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=je(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Xt(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var wo=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,_i=null;function vs(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ys(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&yr(e,!!s.multiple,n,!1)}}}var sa=!1;function Er(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(Tr!==null||_i!==null)&&(nc(),Tr&&(n=Tr,e=_i,_i=Tr=null,vs(n),e)))for(n=0;n<e.length;n++)vs(e[n])}}function Xn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(On)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ts=!1}var vi=null,Ro=null,Es=null;function Co(){if(Es)return Es;var e,n=Ro,s=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Es=h.slice(e,1<o?1-o:void 0)}function As(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Jn(){return!1}function Fe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Jn,this.isPropagationStopped=Jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Fe(ji),Ar=b({},ji,{view:0,detail:0}),Io=Fe(Ar),Sr,aa,Ei,oa=b({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Sr=e.screenX-Ei.screenX,aa=e.screenY-Ei.screenY):aa=Sr=0,Ei=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Do=Fe(oa),Ss=b({},oa,{dataTransfer:0}),cu=Fe(Ss),hu=b({},Ar,{relatedTarget:0}),bs=Fe(hu),No=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Fe(No),la=b({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Fe(la),mu=b({},ji,{data:0}),Ai=Fe(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function br(){return _u}var an=b({},Ar,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Fe(an),Tu=b({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Fe(Tu),u=b({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),m=Fe(u),v=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Fe(v),U=b({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(U),Z=b({},ji,{newState:0,oldState:0}),wt=Fe(Z),ye=[9,13,27,32],Gt=On&&"CompositionEvent"in window,ce=null;On&&"documentMode"in document&&(ce=document.documentMode);var Vn=On&&"TextEvent"in window&&!ce,Si=On&&(!Gt||ce&&8<ce&&11>=ce),$n=" ",Zn=!1;function ws(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function PE(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Zn=!0,$n);case"textInput":return e=n.data,e===$n&&Zn?null:e;default:return null}}function zE(e,n){if(ca)return e==="compositionend"||!Gt&&ws(e,n)?(e=Co(),Es=Ro=vi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jE[e.type]:n==="textarea"}function og(e,n,s,o){Tr?_i?_i.push(o):_i=[o]:Tr=o,n=uc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Oo=null,Vo=null;function BE(e){Hy(e,0)}function Eu(e){var n=_n(e);if(ys(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(On){var Mh;if(On){var kh="oninput"in document;if(!kh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),kh=typeof cg.oninput=="function"}Mh=kh}else Mh=!1;ug=Mh&&(!document.documentMode||9<document.documentMode)}function hg(){Oo&&(Oo.detachEvent("onpropertychange",fg),Vo=Oo=null)}function fg(e){if(e.propertyName==="value"&&Eu(Vo)){var n=[];og(n,Vo,e,Nn(e)),Er(BE,n)}}function qE(e,n,s){e==="focusin"?(hg(),Oo=n,Vo=s,Oo.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function HE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Vo)}function GE(e,n){if(e==="click")return Eu(n)}function FE(e,n){if(e==="input"||e==="change")return Eu(n)}function QE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:QE;function xo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!se.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var s=dg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=dg(s)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yi(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var KE=On&&"documentMode"in document&&11>=document.documentMode,ha=null,Lh=null,Mo=null,Ph=!1;function yg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ha==null||ha!==yi(o)||(o=ha,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&xo(Mo,o)||(Mo=o,o=uc(Lh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ha)))}function Rs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},zh={},_g={};On&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Cs(e){if(zh[e])return zh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in _g)return zh[e]=n[s];return e}var vg=Cs("animationend"),Tg=Cs("animationiteration"),Eg=Cs("animationstart"),YE=Cs("transitionrun"),XE=Cs("transitionstart"),JE=Cs("transitioncancel"),Ag=Cs("transitionend"),Sg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Wn(e,n){Sg.set(e,n),gi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],da=0,Bh=0;function Su(){for(var e=da,n=Bh=da=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&bg(s,h,f)}}function bu(e,n,s,o){xn[da++]=e,xn[da++]=n,xn[da++]=s,xn[da++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return bu(e,n,s,o),wu(e)}function Is(e,n){return bu(e,null,null,n),wu(e)}function bg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<nl)throw nl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function $E(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new $E(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function wg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=nA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return Ds(s.children,h,f,n);case tt:g=8,h|=24;break;case mt:return e=En(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Zt:return e=En(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case Nt:return e=En(19,s,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case ht:g=9;break t;case Ht:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ds(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function Rg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cg=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var s=Cg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ai(n)},Cg.set(e,n),n)}return{value:e,source:n,stack:ai(n)}}var ga=[],pa=0,Cu=null,ko=0,kn=[],Un=0,wr=null,bi=1,wi="";function Hi(e,n){ga[pa++]=ko,ga[pa++]=Cu,Cu=e,ko=n}function Ig(e,n,s){kn[Un++]=bi,kn[Un++]=wi,kn[Un++]=wr,wr=e;var o=bi;e=wi;var h=32-pe(o)-1;o&=~(1<<h),s+=1;var f=32-pe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-pe(n)+h|s<<h|o,wi=f+e}else bi=1<<f|s<<h|o,wi=e}function Qh(e){e.return!==null&&(Hi(e,1),Ig(e,1,0))}function Kh(e){for(;e===Cu;)Cu=ga[--pa],ga[pa]=null,ko=ga[--pa],ga[pa]=null;for(;e===wr;)wr=kn[--Un],kn[Un]=null,wi=kn[--Un],kn[Un]=null,bi=kn[--Un],kn[Un]=null}function Dg(e,n){kn[Un++]=bi,kn[Un++]=wi,kn[Un++]=wr,bi=n.id,wi=n.overflow,wr=e}var Qe=null,ae=null,Lt=!1,Rr=null,Ln=!1,Yh=Error(a(519));function Cr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Mn(n,e)),Yh}function Ng(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[ze]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Dt(rl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),_r(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Ky(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Cr(e,!0)}function Og(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Qe=Qe.return}}function ya(e){if(e!==Qe)return!1;if(!Lt)return Og(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&ae&&Cr(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=n_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=n_(e)}else n===27?(n=ae,Br(e.type)?(e=_d,_d=null,ae=e):ae=n):ae=Qe?zn(e.stateNode.nextSibling):null;return!0}function Ns(){ae=Qe=null,Lt=!1}function Xh(){var e=Rr;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Rr=null),e}function Uo(e){Rr===null?Rr=[e]:Rr.push(e)}var Jh=O(null),Os=null,Gi=null;function Ir(e,n,s){et(Jh,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=Jh.current,K(Jh)}function $h(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),$h(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$h(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===at.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Os=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Vg(Os,e)}function Du(e,n){return Os===null&&Vs(e),Vg(e,n)}function Vg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var ZE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},WE=r.unstable_scheduleCallback,t1=r.unstable_NormalPriority,we={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new ZE,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&WE(t1,function(){e.controller.abort()})}var Po=null,tf=0,va=0,Ta=null;function e1(e,n){if(Po===null){var s=Po=[];tf=0,va=rd(),Ta={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(xg,xg),n}function xg(){if(--tf===0&&Po!==null){Ta!==null&&(Ta.status="fulfilled");var e=Po;Po=null,va=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Mg=j.S;j.S=function(e,n){yy=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(e,n),Mg!==null&&Mg(e,n)};var xs=O(null);function ef(){var e=xs.current;return e!==null?e:re.pooledCache}function Nu(e,n){n===null?et(xs,xs.current):et(xs,n.pool)}function kg(){var e=ef();return e===null?null:{parent:we._currentValue,pool:e}}var Ea=Error(a(460)),nf=Error(a(474)),Ou=Error(a(542)),Vu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Yn,Yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw ks=n,Ea}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ks=s,Ea):s}}var ks=null;function Pg(){if(ks===null)throw Error(a(459));var e=ks;return ks=null,e}function zg(e){if(e===Ea||e===Ou)throw Error(a(483))}var Aa=null,zo=0;function xu(e){var n=zo;return zo+=1,Aa===null&&(Aa=[]),Lg(Aa,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){function n(M,N){if(e){var L=M.deletions;L===null?(M.deletions=[N],M.flags|=16):L.push(N)}}function s(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function o(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=qi(M,N),M.index=0,M.sibling=null,M}function f(M,N,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<N?(M.flags|=67108866,N):L):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,N,L,F){return N===null||N.tag!==6?(N=Gh(L,M.mode,F),N.return=M,N):(N=h(N,L),N.return=M,N)}function R(M,N,L,F){var dt=L.type;return dt===nt?H(M,N,L.props.children,F,L.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Ms(dt)===N.type)?(N=h(N,L.props),jo(N,L),N.return=M,N):(N=Ru(L.type,L.key,L.props,null,M.mode,F),jo(N,L),N.return=M,N)}function P(M,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Fh(L,M.mode,F),N.return=M,N):(N=h(N,L.children||[]),N.return=M,N)}function H(M,N,L,F,dt){return N===null||N.tag!==7?(N=Ds(L,M.mode,F,dt),N.return=M,N):(N=h(N,L),N.return=M,N)}function Y(M,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Gh(""+N,M.mode,L),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return L=Ru(N.type,N.key,N.props,null,M.mode,L),jo(L,N),L.return=M,L;case $:return N=Fh(N,M.mode,L),N.return=M,N;case S:return N=Ms(N),Y(M,N,L)}if(ue(N)||k(N))return N=Ds(N,M.mode,L,null),N.return=M,N;if(typeof N.then=="function")return Y(M,xu(N),L);if(N.$$typeof===yt)return Y(M,Du(M,N),L);Mu(M,N)}return null}function z(M,N,L,F){var dt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:T(M,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===dt?R(M,N,L,F):null;case $:return L.key===dt?P(M,N,L,F):null;case S:return L=Ms(L),z(M,N,L,F)}if(ue(L)||k(L))return dt!==null?null:H(M,N,L,F,null);if(typeof L.then=="function")return z(M,N,xu(L),F);if(L.$$typeof===yt)return z(M,N,Du(M,L),F);Mu(M,L)}return null}function q(M,N,L,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(L)||null,T(N,M,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return M=M.get(F.key===null?L:F.key)||null,R(N,M,F,dt);case $:return M=M.get(F.key===null?L:F.key)||null,P(N,M,F,dt);case S:return F=Ms(F),q(M,N,L,F,dt)}if(ue(F)||k(F))return M=M.get(L)||null,H(N,M,F,dt,null);if(typeof F.then=="function")return q(M,N,L,xu(F),dt);if(F.$$typeof===yt)return q(M,N,L,Du(N,F),dt);Mu(N,F)}return null}function lt(M,N,L,F){for(var dt=null,Bt=null,ut=N,Ct=N=0,xt=null;ut!==null&&Ct<L.length;Ct++){ut.index>Ct?(xt=ut,ut=null):xt=ut.sibling;var qt=z(M,ut,L[Ct],F);if(qt===null){ut===null&&(ut=xt);break}e&&ut&&qt.alternate===null&&n(M,ut),N=f(qt,N,Ct),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ut=xt}if(Ct===L.length)return s(M,ut),Lt&&Hi(M,Ct),dt;if(ut===null){for(;Ct<L.length;Ct++)ut=Y(M,L[Ct],F),ut!==null&&(N=f(ut,N,Ct),Bt===null?dt=ut:Bt.sibling=ut,Bt=ut);return Lt&&Hi(M,Ct),dt}for(ut=o(ut);Ct<L.length;Ct++)xt=q(ut,M,Ct,L[Ct],F),xt!==null&&(e&&xt.alternate!==null&&ut.delete(xt.key===null?Ct:xt.key),N=f(xt,N,Ct),Bt===null?dt=xt:Bt.sibling=xt,Bt=xt);return e&&ut.forEach(function(Qr){return n(M,Qr)}),Lt&&Hi(M,Ct),dt}function pt(M,N,L,F){if(L==null)throw Error(a(151));for(var dt=null,Bt=null,ut=N,Ct=N=0,xt=null,qt=L.next();ut!==null&&!qt.done;Ct++,qt=L.next()){ut.index>Ct?(xt=ut,ut=null):xt=ut.sibling;var Qr=z(M,ut,qt.value,F);if(Qr===null){ut===null&&(ut=xt);break}e&&ut&&Qr.alternate===null&&n(M,ut),N=f(Qr,N,Ct),Bt===null?dt=Qr:Bt.sibling=Qr,Bt=Qr,ut=xt}if(qt.done)return s(M,ut),Lt&&Hi(M,Ct),dt;if(ut===null){for(;!qt.done;Ct++,qt=L.next())qt=Y(M,qt.value,F),qt!==null&&(N=f(qt,N,Ct),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Hi(M,Ct),dt}for(ut=o(ut);!qt.done;Ct++,qt=L.next())qt=q(ut,M,Ct,qt.value,F),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?Ct:qt.key),N=f(qt,N,Ct),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(dA){return n(M,dA)}),Lt&&Hi(M,Ct),dt}function ne(M,N,L,F){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var dt=L.key;N!==null;){if(N.key===dt){if(dt=L.type,dt===nt){if(N.tag===7){s(M,N.sibling),F=h(N,L.props.children),F.return=M,M=F;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Ms(dt)===N.type){s(M,N.sibling),F=h(N,L.props),jo(F,L),F.return=M,M=F;break t}s(M,N);break}else n(M,N);N=N.sibling}L.type===nt?(F=Ds(L.props.children,M.mode,F,L.key),F.return=M,M=F):(F=Ru(L.type,L.key,L.props,null,M.mode,F),jo(F,L),F.return=M,M=F)}return g(M);case $:t:{for(dt=L.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(M,N.sibling),F=h(N,L.children||[]),F.return=M,M=F;break t}else{s(M,N);break}else n(M,N);N=N.sibling}F=Fh(L,M.mode,F),F.return=M,M=F}return g(M);case S:return L=Ms(L),ne(M,N,L,F)}if(ue(L))return lt(M,N,L,F);if(k(L)){if(dt=k(L),typeof dt!="function")throw Error(a(150));return L=dt.call(L),pt(M,N,L,F)}if(typeof L.then=="function")return ne(M,N,xu(L),F);if(L.$$typeof===yt)return ne(M,N,Du(M,L),F);Mu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(M,N.sibling),F=h(N,L),F.return=M,M=F):(s(M,N),F=Gh(L,M.mode,F),F.return=M,M=F),g(M)):s(M,N)}return function(M,N,L,F){try{zo=0;var dt=ne(M,N,L,F);return Aa=null,dt}catch(ut){if(ut===Ea||ut===Ou)throw ut;var Bt=En(29,ut,null,M.mode);return Bt.lanes=F,Bt.return=M,Bt}}}var Us=jg(!0),Bg=jg(!1),Dr=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),bg(e,null,s),n}return bu(e,o,n,s),wu(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function qo(){if(of){var e=Ta;if(e!==null)throw e}}function Ho(e,n,s,o){of=!1;var h=e.updateQueue;Dr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==g&&(T===null?H.firstBaseUpdate=P:T.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,H=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Vt&z)===z:(o&z)===z){z!==0&&z===va&&(of=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,pt=T;z=n;var ne=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(ne,Y,z);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,z=typeof lt=="function"?lt.call(ne,Y,z):lt,z==null)break t;Y=b({},Y,z);break t;case 2:Dr=!0}}z=T.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(P=H=q,R=Y):H=H.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Ur|=g,e.lanes=g,e.memoizedState=Y}}function qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Hg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qg(s[e],n)}var Sa=O(null),ku=O(0);function Gg(e,n){e=tr,et(ku,e),et(Sa,n),tr=e|n.baseLanes}function lf(){et(ku,tr),et(Sa,Sa.current)}function uf(){tr=ku.current,K(Sa),K(ku)}var An=O(null),Pn=null;function Vr(e){var n=e.alternate;et(_e,_e.current&1),et(An,e),Pn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Pn=e)}function cf(e){et(_e,_e.current),et(An,e),Pn===null&&(Pn=e)}function Fg(e){e.tag===22?(et(_e,_e.current),et(An,e),Pn===null&&(Pn=e)):xr()}function xr(){et(_e,_e.current),et(An,An.current)}function Sn(e){K(An),Pn===e&&(Pn=null),K(_e)}var _e=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Rt=null,te=null,Re=null,Lu=!1,ba=!1,Ls=!1,Pu=0,Go=0,wa=null,i1=0;function me(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return Qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Ip:Cf,Ls=!1,f=s(o,h),Ls=!1,ba&&(f=Kg(n,s,o,h)),Qg(e),f}function Qg(e){j.H=Ko;var n=te!==null&&te.next!==null;if(Qi=0,Re=te=Rt=null,Lu=!1,Go=0,wa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Iu(e)&&(Ce=!0))}function Kg(e,n,s,o){Rt=e;var h=0;do{if(ba&&(wa=null),Go=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Re=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Dp,f=n(s,o)}while(ba);return f}function r1(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),n}function df(){var e=Pu!==0;return Pu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Qi=0,Re=te=Rt=null,ba=!1,Go=Pu=0,wa=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Re===null?Rt.memoizedState:Re.next;if(n!==null)Re=n,te=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,wa===null&&(wa=[]),e=Lg(wa,e,n),n=Rt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Ip:Cf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===yt)return Ke(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=ve();return yf(n,te,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Vt&Y)===Y:(Qi&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===va&&(H=!0);else if((Qi&z)===z){P=P.next,z===va&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,g=f):R=R.next=Y,Rt.lanes|=z,Ur|=z;Y=P.action,Ls&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Rt.lanes|=Y,Ur|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Tn(f,e.memoizedState)&&(Ce=!0,H&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Yg(e,n,s){var o=Rt,h=ve(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Tn((te||h).memoizedState,s);if(g&&(h.memoizedState=s,Ce=!0),h=h.queue,Ef($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Jg.bind(null,o,h,s,n),null),re===null)throw Error(a(349));f||(Qi&127)!==0||Xg(o,n,s)}return s}function Xg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=zu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Jg(e,n,s,o){n.value=s,n.getSnapshot=o,Zg(n)&&Wg(e)}function $g(e,n,s){return s(function(){Zg(n)&&Wg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function Wg(e){var n=Is(e,2);n!==null&&gn(n,e,2)}function vf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Ls){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function tp(e,n,s,o){return e.baseState=s,yf(e,te,typeof o=="function"?o:Ki)}function s1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ep(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ep(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var T=s(h,o),R=j.S;R!==null&&R(g,T),np(e,n,T)}catch(P){Tf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=s(h,o),np(e,n,f)}catch(P){Tf(e,n,P)}}function np(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ip(e,n,o)},function(o){return Tf(e,n,o)}):ip(e,n,s)}function ip(e,n,s){n.status="fulfilled",n.value=s,rp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ep(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,rp(n),n=n.next;while(n!==o)}e.action=null}function rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function ap(e,n){if(Lt){var s=re.formState;if(s!==null){t:{var o=Rt;if(Lt){if(ae){e:{for(var h=ae,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=zn(h.nextSibling),o=h.data==="F!";break t}}Cr(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},s.queue=o,s=wp.bind(null,Rt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,Rt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=s1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function op(e){var n=ve();return lp(n,te,e)}function lp(e,n,s){if(n=yf(e,n,sp)[0],e=Bu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===Ea?Ou:g}else o=n;n=ve();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Ra(9,{destroy:void 0},a1.bind(null,h,s),null)),[o,f,e]}function a1(e,n){e.action=n}function up(e){var n=ve(),s=te;if(s!==null)return lp(n,s,e);ve(),n=n.memoizedState,s=ve();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ra(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=zu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function cp(){return ve().memoizedState}function qu(e,n,s,o){var h=on();Rt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&hf(o,te.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(Rt.flags|=e,h.memoizedState=Ra(1|n,f,s,o))}function hp(e,n){qu(8390656,8,e,n)}function Ef(e,n){Hu(2048,8,e,n)}function o1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=zu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function fp(e){var n=ve().memoizedState;return o1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return Hu(4,2,e,n)}function mp(e,n){return Hu(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,gp.bind(null,n,e),s)}function Af(){}function yp(e,n){var s=ve();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function _p(e,n){var s=ve();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Ls){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=vy(),Rt.lanes|=e,Ur|=e,s)}function vp(e,n,s,o){return Tn(s,n)?s:Sa.current!==null?(e=Sf(e,s,o),Tn(e,n)||(Ce=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Vt&261930)===0?(Ce=!0,e.memoizedState=s):(e=vy(),Rt.lanes|=e,Ur|=e,n)}function Tp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=j.T,T={};j.T=T,Rf(e,!1,n,s);try{var R=h(),P=j.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=n1(R,o);Qo(e,n,H,Rn(e))}else Qo(e,n,o,Rn(e))}catch(Y){Qo(e,n,{then:function(){},status:"rejected",reason:Y},Rn())}finally{W.p=f,g!==null&&T.types!==null&&(g.types=T.types),j.T=g}}function l1(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ep(e).queue;Tp(e,h,n,ft,s===null?l1:function(){return Ap(e),s(o)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},Rn())}function wf(){return Ke(ul)}function Sp(){return ve().memoizedState}function bp(){return ve().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Nr(s);var o=Or(n,e,s);o!==null&&(gn(o,n,s),Bo(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function c1(e,n,s){var o=Rn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Rp(n,s):(s=qh(e,n,s,o),s!==null&&(gn(s,e,o),Cp(s,n,o)))}function wp(e,n,s){var o=Rn();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,g))return bu(e,n,h,0),re===null&&Su(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return gn(s,e,o),Cp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&gn(n,e,2)}function Gu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Rp(e,n){ba=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Cp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:Ke,use:ju,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Ko.useEffectEvent=me;var Ip={readContext:Ke,use:ju,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:hp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,gp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Ls){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Ls){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=c1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=wp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=on();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=Tp.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=on();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Vt&127)!==0||Xg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,hp($g.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},Jg.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=re.identifierPrefix;if(Lt){var s=wi,o=bi;s=(o&~(1<<32-pe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=i1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return on().memoizedState=u1.bind(null,Rt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Ke,use:ju,useCallback:yp,useContext:Ke,useEffect:Ef,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Bu,useRef:cp,useState:function(){return Bu(Ki)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ve();return vp(s,te.memoizedState,e,n)},useTransition:function(){var e=Bu(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=ve();return tp(s,te,e,n)},useMemoCache:pf,useCacheRefresh:bp};Cf.useEffectEvent=fp;var Dp={readContext:Ke,use:ju,useCallback:yp,useContext:Ke,useEffect:Ef,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:_f,useRef:cp,useState:function(){return _f(Ki)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ve();return te===null?Sf(s,e,n):vp(s,te.memoizedState,e,n)},useTransition:function(){var e=_f(Ki)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var s=ve();return te!==null?tp(s,te,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:bp};Dp.useEffectEvent=fp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Nr(o);h.payload=n,s!=null&&(h.callback=s),n=Or(e,h,o),n!==null&&(gn(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Nr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Or(e,h,o),n!==null&&(gn(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),o=Nr(s);o.tag=2,n!=null&&(o.callback=n),n=Or(e,o,s),n!==null&&(gn(n,e,s),Bo(n,e,s))}};function Np(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!xo(s,o)||!xo(h,f):!0}function Op(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Ps(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Vp(e){Au(e)}function xp(e){console.error(e)}function Mp(e){Au(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Nr(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Up(e){return e=Nr(e),e.tag=3,e}function Lp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,s,o),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function h1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?ic():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),ic(),!1}if(Lt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Uo(Mn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Uo(Mn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,s),h=Nf(e.stateNode,o,h),af(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Mn(f,s),el===null?el=[f]:el.push(f),ge!==4&&(ge=2),n===null)return!0;o=Mn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Lr===null||!Lr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),Lp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Ce=!1;function Ye(e,n,s,o){n.child=e===null?Bg(n,null,s,o):Us(n,e.child,s,o)}function Pp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Vs(n),o=ff(e,n,s,g,f,h),T=df(),e!==null&&!Ce?(mf(e,n,h),Yi(e,n,h)):(Lt&&T&&Qh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function zp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:xo,s(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Vf(e,n,s,o,h)}function Bp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return qp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Gg(n,f):lf(),Fg(n);else return o=n.lanes=536870912,qp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Gg(n,f),xr(),n.memoizedState=null):(e!==null&&Nu(n,null),lf(),xr());return Ye(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qp(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),lf(),Fg(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hp(e,n,s){return Us(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function f1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Yo(null,e);if(cf(n),(e=ae)?(e=e_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Rg(e),s.return=n,n.child=s,Qe=n,ae=null)):e=null,e===null)throw Cr(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Hp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(o=re,o!==null&&(g=go(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Is(e,g),gn(o,e,g),Of;ic(),n=Hp(e,n,s)}else e=f.treeContext,ae=zn(g.nextSibling),Qe=n,Lt=!0,Rr=null,Ln=!1,e!==null&&Dg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Vs(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Ce?(mf(e,n,h),Yi(e,n,h)):(Lt&&o&&Qh(n),n.flags|=1,Ye(e,n,s,h),n.child)}function Gp(e,n,s,o,h,f){return Vs(n),n.updateQueue=null,s=Kg(n,o,s,h),Qg(e),o=df(),e!==null&&!Ce?(mf(e,n,f),Yi(e,n,f)):(Lt&&o&&Qh(n),n.flags|=1,Ye(e,n,s,f),n.child)}function Fp(e,n,s,o,h){if(Vs(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Ps(s,T);f.props=R;var P=f.context,H=s.contextType;g=ma,typeof H=="object"&&H!==null&&(g=Ke(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Op(n,f,o,g),Dr=!1;var z=n.memoizedState;f.state=z,Ho(n,o,f,h),qo(),P=n.memoizedState,T||z!==P||Dr?(typeof Y=="function"&&(If(n,s,Y,o),P=n.memoizedState),(R=Dr||Np(n,s,R,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,H=Ps(s,g),f.props=H,Y=n.pendingProps,z=f.context,P=s.contextType,R=ma,typeof P=="object"&&P!==null&&(R=Ke(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==R)&&Op(n,f,o,R),Dr=!1,z=n.memoizedState,f.state=z,Ho(n,o,f,h),qo();var q=n.memoizedState;g!==Y||z!==q||Dr||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof T=="function"&&(If(n,s,T,o),q=n.memoizedState),(H=Dr||Np(n,s,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Us(n,e.child,null,h),n.child=Us(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function Qp(e,n,s,o){return Ns(),n.flags|=256,Ye(e,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:kg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function Kp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Vr(n):xr(),(e=ae)?(e=e_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Rg(e),s.return=n,n.child=s,Qe=n,ae=null)):e=null,e===null)throw Cr(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(xr(),h=n.mode,T=Yu({mode:"hidden",children:T},h),o=Ds(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Mf(s),o.childLanes=kf(e,g,s),n.memoizedState=xf,Yo(null,o)):(Vr(n),Uf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Vr(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(xr(),n.child=e.child,n.flags|=128,n=null):(xr(),T=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),T=Ds(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Us(n,e.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=kf(e,g,s),n.memoizedState=xf,n=Yo(null,o));else if(Vr(n),yd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Ce||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Ce||g){if(g=re,g!==null&&(o=go(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Is(e,o),gn(g,e,o),Of;pd(T)||ic(),n=Lf(e,n,s)}else pd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=zn(T.nextSibling),Qe=n,Lt=!0,Rr=null,Ln=!1,e!==null&&Dg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(xr(),T=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=qi(P,T):(T=Ds(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Yo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Mf(s):(h=T.cachePool,h!==null?(R=we._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=kg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=kf(e,g,s),n.memoizedState=xf,Yo(e.child,o)):(Vr(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Us(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Xp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=_e.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,et(_e,g),Ye(e,n,o,s),o=Lt?ko:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,s,n);else if(e.tag===19)Yp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ur|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function d1(e,n,s){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),Ir(n,we,e.memoizedState.cache),Ns();break;case 27:case 5:Ue(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:Ir(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Kp(e,n,s):(Vr(n),e=Yi(e,n,s),e!==null?e.sibling:null);Vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(_a(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Xp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(_e,_e.current),o)break;return null;case 22:return n.lanes=0,Bp(e,n,s,n.pendingProps);case 24:Ir(n,we,e.memoizedState.cache)}return Yi(e,n,s)}function Jp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Ce=!1,d1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(n.flags&1048576)!==0&&Ig(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Ps(e,o),n.tag=1,n=Fp(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Pp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=zp(null,n,e,o,s);break t}}throw n=zt(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ps(o,n.pendingProps),Fp(e,n,o,h,s);case 3:t:{if(rt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Ho(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ir(n,we,o),o!==f.cache&&Zh(n,[we],s,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(e,n,o,s);break t}else if(o!==h){h=Mn(Error(a(424)),n),Uo(h),n=Qp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=zn(e.firstChild),Qe=n,Lt=!0,Rr=null,Ln=!0,s=Bg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ns(),o===h){n=Yi(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=o_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=cc(it.current).createElement(s),o[Ae]=n,o[ze]=e,Xe(o,s,e),Se(o),n.stateNode=o):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ue(n),e===null&&Lt&&(o=n.stateNode=r_(n.type,n.pendingProps,it.current),Qe=n,Ln=!0,h=ae,Br(n.type)?(_d=h,ae=zn(o.firstChild)):ae=h),Ye(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ae)&&(o=H1(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Qe=n,ae=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||Cr(n)),Ue(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,r1,null,null,s),ul._currentValue=h),Ku(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ae)&&(s=G1(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Qe=n,ae=null,e=!0):e=!1),e||Cr(n)),null;case 13:return Kp(e,n,s);case 4:return rt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Us(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ir(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vs(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return zp(e,n,n.type,n.pendingProps,s);case 15:return jp(e,n,n.type,n.pendingProps,s);case 19:return Xp(e,n,s);case 31:return f1(e,n,s);case 22:return Bp(e,n,s,n.pendingProps);case 24:return Vs(n),o=Ke(we),e===null?(h=ef(),h===null&&(h=re,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Ir(n,we,h)):((e.lanes&s)!==0&&(sf(e,n),Ho(n,null,null,s),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ir(n,we,o)):(o=f.cache,Ir(n,we,o),o!==h.cache&&Zh(n,[we],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw ks=Vu,nf}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(Sy())e.flags|=8192;else throw ks=Vu,nf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Na|=n)}function Xo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function m1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(we),bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(oe(n),$p(n,f)):(oe(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),oe(n),$p(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),oe(n),jf(n,h,e,o,s)),null;case 27:if(ie(n),s=it.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=st.current,ya(n)?Ng(n):(e=r_(h,o,s),n.stateNode=e,Xi(n))}return oe(n),null;case 5:if(ie(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=st.current,ya(n))Ng(n);else{var g=cc(it.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return oe(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=it.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,s)),e||Cr(n,!0)}else e=cc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),oe(n),null);case 4:return bt(),e===null&&ld(n.stateNode.containerInfo),oe(n),null;case 10:return Fi(n.type),oe(n),null;case 19:if(K(_e),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)wg(s,e),s=s.sibling;return et(_e,_e.current&1|2),Lt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&sn()>tc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return oe(n),null}else 2*sn()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sn(),e.sibling=null,s=_e.current,et(_e,h?s&1|2:s&1),Lt&&Hi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return Sn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(xs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(we),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function g1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(we),bt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ie(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(a(340));Ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(_e),null;case 4:return bt(),null;case 10:return Fi(n.type),null;case 22:case 23:return Sn(n),uf(),e!==null&&K(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(we),null;case 25:return null;default:return null}}function Zp(e,n){switch(Kh(n),n.tag){case 3:Fi(we),bt();break;case 26:case 27:case 5:ie(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:K(_e);break;case 10:Fi(n.type);break;case 22:case 23:Sn(n),uf(),e!==null&&K(xs);break;case 24:Fi(we)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){$t(n,n.return,T)}}function Mr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(H){$t(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function Wp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Hg(n,s)}catch(o){$t(e,e.return,o)}}}function ty(e,n,s){s.props=Ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function $o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function ey(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;L1(o,e.type,s,n),o[ze]=n}catch(h){$t(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&Br(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Br(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function iy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[Ae]=e,n[ze]=s}catch(f){$t(e,e.return,f)}}var Ji=!1,Ie=!1,Gf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Be=null;function p1(e,n){if(e=e.containerInfo,hd=yc,e=pg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===s&&++P===h&&(T=g),z===f&&++H===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},yc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Ps(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),o&4&&Jo(5,s);break;case 1:if(Zi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&Wp(s),o&512&&$o(s,s.return);break;case 3:if(Zi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Hg(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&iy(s);case 26:case 5:Zi(e,s),n===null&&o&4&&ey(s),o&512&&$o(s,s.return);break;case 12:Zi(e,s);break;case 31:Zi(e,s),o&4&&ly(e,s);break;case 13:Zi(e,s),o&4&&uy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=w1.bind(null,s),F1(e,s))));break;case 22:if(o=s.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Ji;var f=Ie;Ji=o,(Ie=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),Ji=h,Ie=f}break;case 30:break;default:Zi(e,s)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,hn=!1;function $i(e,n,s){for(s=s.child;s!==null;)oy(e,n,s),s=s.sibling}function oy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Gn,s)}catch{}switch(s.tag){case 26:Ie||Ri(s,n),$i(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Ri(s,n);var o=he,h=hn;Br(s.type)&&(he=s.stateNode,hn=!1),$i(e,n,s),al(s.stateNode),he=o,hn=h;break;case 5:Ie||Ri(s,n);case 6:if(o=he,h=hn,he=null,$i(e,n,s),he=o,hn=h,he!==null)if(hn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:he!==null&&(hn?(e=he,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):Wy(he,s.stateNode));break;case 4:o=he,h=hn,he=s.stateNode.containerInfo,hn=!0,$i(e,n,s),he=o,hn=h;break;case 0:case 11:case 14:case 15:Mr(2,s,n),Ie||Mr(4,s,n),$i(e,n,s);break;case 1:Ie||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ty(s,n,o)),$i(e,n,s);break;case 21:$i(e,n,s);break;case 22:Ie=(o=Ie)||s.memoizedState!==null,$i(e,n,s),Ie=o;break;default:$i(e,n,s)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){$t(n,n.return,s)}}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){$t(n,n.return,s)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ry),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=y1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=R1.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Br(T.type)){he=T.stateNode,hn=!1;break t}break;case 5:he=T.stateNode,hn=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(he===null)throw Error(a(160));oy(f,g,h),he=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var ti=null;function cy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Mr(3,e,e.return),Jo(3,e),Mr(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(Ie||s===null||Ri(s,s.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ti;if(fn(n,e),dn(e),o&512&&(Ie||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[Ae]=e,Se(f),o=f;break t;case"link":var g=c_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=c_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(Ie||s===null||Ri(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(Ie||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(dc=null,h=ti,ti=hc(n.containerInfo),fn(n,e),ti=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(lt){$t(e,e.return,lt)}Gf&&(Gf=!1,hy(e));break;case 4:o=ti,ti=hc(e.stateNode.containerInfo),fn(n,e),dn(e),ti=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=sn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Ji,H=Ie;if(Ji=P||h,Ie=H||R,fn(n,e),Ie=H,Ji=P,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Ji||Ie||zs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?t_(q,!0):t_(R.stateNode,!1)}catch(lt){$t(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ny(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var T=qf(e);Ju(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=qf(e);Hf(e,P,R);break;default:throw Error(a(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function zs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mr(4,n,n.return),zs(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ty(n,n.return,s),zs(n);break;case 27:al(n.stateNode);case 26:case 5:Ri(n,n.return),zs(n);break;case 22:n.memoizedState===null&&zs(n);break;case 30:zs(n);break;default:zs(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),Jo(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)qg(R[h],T)}catch(P){$t(o,o.return,P)}}s&&g&64&&Wp(f),$o(f,f.return);break;case 27:iy(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&ey(f),$o(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&ly(h,f);break;case 13:Wi(h,f,s),s&&g&4&&uy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),$o(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function ei(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,s,o),n=n.sibling}function fy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,o),h&2048&&Jo(9,n);break;case 1:ei(e,n,s,o);break;case 3:ei(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){ei(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ei(e,n,s,o);break;case 31:ei(e,n,s,o);break;case 13:ei(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,o):Zo(e,n):f._visibility&2?ei(e,n,s,o):(f._visibility|=2,Ca(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:ei(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:ei(e,n,s,o)}}function Ca(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,T,R,h),Jo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ca(f,g,T,R,h):Zo(f,g):(H._visibility|=2,Ca(f,g,T,R,h)),h&&P&2048&&Ff(g.alternate,g);break;case 24:Ca(f,g,T,R,h),h&&P&2048&&Qf(g.alternate,g);break;default:Ca(f,g,T,R,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&Ff(o.alternate,o);break;case 24:Zo(s,o),h&2048&&Qf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Wo=8192;function Ia(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)dy(e,n,s),e=e.sibling}function dy(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&Wo&&e.memoizedState!==null&&iA(s,ti,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=ti;ti=hc(e.stateNode.containerInfo),Ia(e,n,s),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ia(e,n,s),Wo=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):tl(e);break;default:tl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mr(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function py(e,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:Mr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Be=o;else t:for(s=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(ay(o),o===s){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var _1={getCacheForType:function(e){var n=Ke(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(we).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,re=null,It=null,Vt=0,Jt=0,bn=null,kr=!1,Da=!1,Kf=!1,tr=0,ge=0,Ur=0,js=0,Yf=0,wn=0,Na=0,el=null,mn=null,Xf=!1,Wu=0,yy=0,tc=1/0,ec=null,Lr=null,xe=0,Pr=null,Oa=null,er=0,Jf=0,$f=null,_y=null,nl=0,Zf=null;function Rn(){return(Ft&2)!==0&&Vt!==0?Vt&-Vt:j.T!==null?rd():nu()}function vy(){if(wn===0)if((Vt&536870912)===0||Lt){var e=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),wn=e}else wn=536870912;return e=An.current,e!==null&&(e.flags|=32),wn}function gn(e,n,s){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),zr(e,Vt,wn,!1)),ms(e,s),((Ft&2)===0||e!==re)&&(e===re&&((Ft&2)===0&&(js|=s),ge===4&&zr(e,Vt,wn,!1)),Ci(e))}function Ty(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?A1(e,n):td(e,n,!0),f=o;do{if(h===0){Da&&!o&&zr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!T1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=el;var R=T.current.memoizedState.isDehydrated;if(R&&(Va(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!R){T.errorRecoveryDisabledLanes|=f,js|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),zr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zr(o,n,wn,!kr);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-sn(),10<h)){if(zr(o,n,wn,!kr),ui(o,0,!0)!==0)break t;er=n,o.timeoutHandle=$y(Ey.bind(null,o,s,mn,ec,Xf,n,wn,js,Na,kr,f,"Throttled",-0,0),h);break t}Ey(o,s,mn,ec,Xf,n,wn,js,Na,kr,f,null,-0,0)}}break}while(!0);Ci(e)}function Ey(e,n,s,o,h,f,g,T,R,P,H,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},dy(n,f,Y);var lt=(f&62914560)===f?Wu-sn():(f&4194048)===f?yy-sn():0;if(lt=rA(Y,lt),lt!==null){er=f,e.cancelPendingCommit=lt(Dy.bind(null,e,n,f,s,o,h,g,T,R,H,Y,null,z,q)),zr(e,f,g,!P);return}}Dy(e,n,f,s,o,h,g,T,R)}function T1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zr(e,n,s,o){n&=~Yf,n&=~js,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&gs(e,s,n)}function nc(){return(Ft&6)===0?(il(0),!1):!0}function Wf(){if(It!==null){if(Jt===0)var e=It.return;else e=It,Gi=Os=null,gf(e),Aa=null,zo=0,e=It;for(;e!==null;)Zp(e.alternate,e),e=e.return;It=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,j1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),er=0,Wf(),re=e,It=s=qi(e.current,null),Vt=n,Jt=0,bn=null,kr=!1,Da=Fn(e,n),Kf=!1,Na=wn=Yf=js=Ur=ge=0,mn=el=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-pe(o),f=1<<h;n|=e[h],o&=~f}return tr=n,Su(),s}function Ay(e,n){Rt=null,j.H=Ko,n===Ea||n===Ou?(n=Pg(),Jt=3):n===nf?(n=Pg(),Jt=4):Jt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,It===null&&(ge=1,Fu(e,Mn(n,e.current)))}function Sy(){var e=An.current;return e===null?!0:(Vt&4194048)===Vt?Pn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Pn:!1}function by(){var e=j.H;return j.H=Ko,e===null?Ko:e}function wy(){var e=j.A;return j.A=_1,e}function ic(){ge=4,kr||(Vt&4194048)!==Vt&&An.current!==null||(Da=!0),(Ur&134217727)===0&&(js&134217727)===0||re===null||zr(re,Vt,wn,!1)}function td(e,n,s){var o=Ft;Ft|=2;var h=by(),f=wy();(re!==e||Vt!==n)&&(ec=null,Va(e,n)),n=!1;var g=ge;t:do try{if(Jt!==0&&It!==null){var T=It,R=bn;switch(Jt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Jt;if(Jt=0,bn=null,xa(e,T,R,P),s&&Da){g=0;break t}break;default:P=Jt,Jt=0,bn=null,xa(e,T,R,P)}}E1(),g=ge;break}catch(H){Ay(e,H)}while(!0);return n&&e.shellSuspendCounter++,Gi=Os=null,Ft=o,j.H=h,j.A=f,It===null&&(re=null,Vt=0,Su()),g}function E1(){for(;It!==null;)Ry(It)}function A1(e,n){var s=Ft;Ft|=2;var o=by(),h=wy();re!==e||Vt!==n?(ec=null,tc=sn()+500,Va(e,n)):Da=Fn(e,n);t:do try{if(Jt!==0&&It!==null){n=It;var f=bn;e:switch(Jt){case 1:Jt=0,bn=null,xa(e,n,f,1);break;case 2:case 9:if(Ug(f)){Jt=0,bn=null,Cy(n);break}n=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ci(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Ug(f)?(Jt=0,bn=null,Cy(n)):(Jt=0,bn=null,xa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var T=It;if(g?f_(g):T.stateNode.complete){Jt=0,bn=null;var R=T.sibling;if(R!==null)It=R;else{var P=T.return;P!==null?(It=P,rc(P)):It=null}break e}}Jt=0,bn=null,xa(e,n,f,5);break;case 6:Jt=0,bn=null,xa(e,n,f,6);break;case 8:Wf(),ge=6;break t;default:throw Error(a(462))}}S1();break}catch(H){Ay(e,H)}while(!0);return Gi=Os=null,j.H=o,j.A=h,Ft=s,It!==null?0:(re=null,Vt=0,Su(),ge)}function S1(){for(;It!==null&&!Dh();)Ry(It)}function Ry(e){var n=Jp(e.alternate,e,tr);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Cy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Gp(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Gp(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:gf(n);default:Zp(s,n),n=It=wg(n,tr),n=Jp(s,n,tr)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function xa(e,n,s,o){Gi=Os=null,gf(n),Aa=null,zo=0;var h=n.return;try{if(h1(e,h,n,s,Vt)){ge=1,Fu(e,Mn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ge=1,Fu(e,Mn(s,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Da||(Vt&536870912)!==0?e=!1:(kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,kr);return}e=n.return;var s=m1(n.alternate,n,tr);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ge===0&&(ge=5)}function Iy(e,n){do{var s=g1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ge=6,It=null}function Dy(e,n,s,o,h,f,g,T,R){e.cancelPendingCommit=null;do sc();while(xe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Vh(e,s,f,g,T,R),e===re&&(It=re=null,Vt=0),Oa=n,Pr=e,er=s,Jf=f,$f=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C1(gr,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=W.p,W.p=2,g=Ft,Ft|=4;try{p1(e,n,s)}finally{Ft=g,W.p=h,j.T=o}}xe=1,Ny(),Oy(),Vy()}}function Ny(){if(xe===1){xe=0;var e=Pr,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=W.p;W.p=2;var h=Ft;Ft|=4;try{cy(n,e);var f=fd,g=pg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(R!==null&&Uh(T)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(H,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=T.textContent.length,pt=Math.min(R.start,lt),ne=R.end===void 0?pt:Math.min(R.end,lt);!q.extend&&pt>ne&&(g=ne,ne=pt,pt=g);var M=mg(T,pt),N=mg(T,ne);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),pt>ne?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var F=Y[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}yc=!!hd,fd=hd=null}finally{Ft=h,W.p=o,j.T=s}}e.current=n,xe=2}}function Oy(){if(xe===2){xe=0;var e=Pr,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=W.p;W.p=2;var h=Ft;Ft|=4;try{sy(e,n.alternate,n)}finally{Ft=h,W.p=o,j.T=s}}xe=3}}function Vy(){if(xe===4||xe===3){xe=0,Xl();var e=Pr,n=Oa,s=er,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Oa=Pr=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Lr=null),Pi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=W.p,W.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{j.T=n,W.p=h}}(er&3)!==0&&sc(),Ci(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?nl++:(nl=0,Zf=e):nl=0,il(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function sc(){return Ny(),Oy(),Vy(),My()}function My(){if(xe!==5)return!1;var e=Pr,n=Jf;Jf=0;var s=Pi(er),o=j.T,h=W.p;try{W.p=32>s?32:s,j.T=null,s=$f,$f=null;var f=Pr,g=er;if(xe=0,Oa=Pr=null,er=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,gy(f.current),fy(f,f.current,g,s),Ft=T,il(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{W.p=h,j.T=o,xy(e,n)}}function ky(e,n,s){n=Mn(s,n),n=Nf(e.stateNode,n,2),e=Or(e,n,2),e!==null&&(ms(e,2),Ci(e))}function $t(e,n,s){if(e.tag===3)ky(e,e,s);else for(;n!==null;){if(n.tag===3){ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Lr===null||!Lr.has(o))){e=Mn(s,e),s=Up(2),o=Or(n,s,2),o!==null&&(Lp(s,o,n,e),ms(o,2),Ci(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new v1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=b1.bind(null,e,n,s),n.then(e,e))}function b1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(ge===4||ge===3&&(Vt&62914560)===Vt&&300>sn()-Wu?(Ft&2)===0&&Va(e,0):Yf|=s,Na===Vt&&(Na=0)),Ci(e)}function Uy(e,n){n===0&&(n=eu()),e=Is(e,n),e!==null&&(ms(e,n),Ci(e))}function w1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(e,s)}function R1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,s)}function C1(e,n){return Ve(e,n)}var ac=null,Ma=null,nd=!1,oc=!1,id=!1,jr=0;function Ci(e){e!==Ma&&e.next===null&&(Ma===null?ac=Ma=e:Ma=Ma.next=e),oc=!0,nd||(nd=!0,D1())}function il(e,n){if(!id&&oc){id=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jy(o,f))}else f=Vt,f=ui(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(s=!0,jy(o,f));o=o.next}while(s);id=!1}}function I1(){Ly()}function Ly(){oc=nd=!1;var e=0;jr!==0&&z1()&&(e=jr);for(var n=sn(),s=null,o=ac;o!==null;){var h=o.next,f=Py(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}xe!==0&&xe!==5||il(e),jr!==0&&(jr=0)}function Py(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Oh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=re,s=Vt,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&mr(o),Pi(s)){case 2:case 8:s=fo;break;case 32:s=gr;break;case 268435456:s=Jl;break;default:s=gr}return o=zy.bind(null,e),s=Ve(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&mr(o),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=Vt;return o=ui(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ty(e,o,n),Py(e,sn()),e.callbackNode!=null&&e.callbackNode===s?zy.bind(null,e):null)}function jy(e,n){if(sc())return null;Ty(e,n,!0)}function D1(){B1(function(){(Ft&6)!==0?Ve(ho,I1):Ly()})}function rd(){if(jr===0){var e=va;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),jr=e}return jr}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function N1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=By((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?By(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ti("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var R=g?qy(h,g):new FormData(h);bf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?qy(h,g):new FormData(h),bf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var sd=0;sd<jh.length;sd++){var ad=jh[sd],O1=ad.toLowerCase(),V1=ad[0].toUpperCase()+ad.slice(1);Wn(O1,"on"+V1)}Wn(vg,"onAnimationEnd"),Wn(Tg,"onAnimationIteration"),Wn(Eg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(YE,"onTransitionRun"),Wn(XE,"onTransitionStart"),Wn(JE,"onTransitionCancel"),Wn(Ag,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Hy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[Ws];s===void 0&&(s=n[Ws]=new Set);var o=e+"__bubble";s.has(o)||(Gy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Gy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,po.forEach(function(s){s!=="selectionchange"&&(x1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,od("selectionchange",!1,n))}}function Gy(e,n,s,o){switch(v_(n)){case 2:var h=oA;break;case 8:h=lA;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=di(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Er(function(){var P=f,H=Nn(s),Y=[];t:{var z=Sg.get(e);if(z!==void 0){var q=Ti,lt=e;switch(e){case"keypress":if(As(s)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":lt="focus",q=bs;break;case"focusout":lt="blur",q=bs;break;case"beforeblur":case"afterblur":q=bs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case vg:case Tg:case Eg:q=fu;break;case Ag:q=E;break;case"scroll":case"scrollend":q=Io;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=wt}var pt=(n&4)!==0,ne=!pt&&(e==="scroll"||e==="scrollend"),M=pt?z!==null?z+"Capture":null:z;pt=[];for(var N=P,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||M===null||(F=Xn(N,M),F!=null&&pt.push(sl(N,F,L))),ne)break;N=N.return}0<pt.length&&(z=new q(z,lt,null,s,H),Y.push({event:z,listeners:pt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==wo&&(lt=s.relatedTarget||s.fromElement)&&(di(lt)||lt[hi]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=P,lt=lt?di(lt):null,lt!==null&&(ne=c(lt),pt=lt.tag,lt!==ne||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(pt=Do,F="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Bi,F="onPointerLeave",M="onPointerEnter",N="pointer"),ne=q==null?z:_n(q),L=lt==null?z:_n(lt),z=new pt(F,N+"leave",q,s,H),z.target=ne,z.relatedTarget=L,F=null,di(H)===P&&(pt=new pt(M,N+"enter",lt,s,H),pt.target=L,pt.relatedTarget=ne,F=pt),ne=F,q&&lt)e:{for(pt=M1,M=q,N=lt,L=0,F=M;F;F=pt(F))L++;F=0;for(var dt=N;dt;dt=pt(dt))F++;for(;0<L-F;)M=pt(M),L--;for(;0<F-L;)N=pt(N),F--;for(;L--;){if(M===N||N!==null&&M===N.alternate){pt=M;break e}M=pt(M),N=pt(N)}pt=null}else pt=null;q!==null&&Fy(Y,z,q,pt,!1),lt!==null&&ne!==null&&Fy(Y,ne,lt,pt,!0)}}t:{if(z=P?_n(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Bt=lg;else if(ag(z))if(ug)Bt=FE;else{Bt=HE;var ut=qE}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ia(P.elementType)&&(Bt=lg):Bt=GE;if(Bt&&(Bt=Bt(e,P))){og(Y,Bt,s,H);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ao(z,"number",z.value)}switch(ut=P?_n(P):window,e){case"focusin":(ag(ut)||ut.contentEditable==="true")&&(ha=ut,Lh=P,Mo=null);break;case"focusout":Mo=Lh=ha=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,yg(Y,s,H);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":yg(Y,s,H)}var Ct;if(Gt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ca?ws(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(Si&&s.locale!=="ko"&&(ca||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ca&&(Ct=Co()):(vi=H,Ro="value"in vi?vi.value:vi.textContent,ca=!0)),ut=uc(P,xt),0<ut.length&&(xt=new Ai(xt,e,null,s,H),Y.push({event:xt,listeners:ut}),Ct?xt.data=Ct:(Ct=ua(s),Ct!==null&&(xt.data=Ct)))),(Ct=Vn?PE(e,s):zE(e,s))&&(xt=uc(P,"onBeforeInput"),0<xt.length&&(ut=new Ai("onBeforeInput","beforeinput",null,s,H),Y.push({event:ut,listeners:xt}),ut.data=Ct)),N1(Y,e,P,s,H)}Hy(Y,n)})}function sl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,s),h!=null&&o.unshift(sl(e,h,f)),h=Xn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=Xn(s,f),P!=null&&g.unshift(sl(s,P,R))):h||(P=Xn(s,f),P!=null&&g.push(sl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var k1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(U1,"")}function Ky(e,n){return n=Qy(n),Qy(e)===n}function ee(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,ea(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ea(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,g,s,null)}}h&&ee(e,n,"srcSet",s.srcSet,s,null),o&&ee(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:ee(e,n,o,H,s,null)}}au(e,f,T,R,P,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:ee(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?yr(e,!!o,n,!1):s!=null&&yr(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ee(e,n,g,T,s,null)}_r(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,R,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Dt(rl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,P,o,s,null)}return;default:if(ia(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&cd(e,n,H,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ee(e,n,T,o,s,null))}function L1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,H=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||ee(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ee(e,n,z,q,o,Y)}}na(e,g,T,R,P,H,f,h);return;case"select":q=g=T=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&ee(e,n,h,f,o,R)}n=T,s=g,o=q,z!=null?yr(e,!!s,z,!1):!!o!=!!s&&(n!=null?yr(e,!!s,n,!0):yr(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ee(e,n,g,h,o,f)}ou(e,z,q);return;case"option":for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ee(e,n,lt,null,o,z));for(R in o)z=o[R],q=s[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ee(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)z=s[pt],s.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&ee(e,n,pt,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ee(e,n,P,z,o,q)}return;default:if(ia(n)){for(var ne in s)z=s[ne],s.hasOwnProperty(ne)&&z!==void 0&&!o.hasOwnProperty(ne)&&cd(e,n,ne,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||cd(e,n,H,z,o,q);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&ee(e,n,M,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||ee(e,n,Y,z,o,q)}function Yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Yy(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>T)break;var H=R.transferSize,Y=R.initiatorType;H&&Yy(Y)&&(R=R.responseEnd,g+=H*(R<T?1:(T-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function z1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(q1)}:$y;function q1(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function Wy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);Pa(n)}function t_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function G1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function n_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var jn=new Map,s_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=W.d;W.d={f:Q1,r:K1,D:Y1,C:X1,L:J1,m:$1,X:W1,S:Z1,M:tA};function Q1(){var e=nr.f(),n=nc();return e||n}function K1(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):nr.r(e)}var ka=typeof document>"u"?null:document;function a_(e,n,s){var o=ka;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Se(n),o.head.appendChild(n)))}}function Y1(e){nr.D(e),a_("dns-prefetch",e,null)}function X1(e,n){nr.C(e,n),a_("preconnect",e,n)}function J1(e,n,s){nr.L(e,n,s);var o=ka;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}jn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Xe(n,"link",e),Se(n),o.head.appendChild(n)))}}function $1(e,n){nr.m(e,n);var s=ka;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!jn.has(f)&&(e=b({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),Xe(o,"link",e),Se(o),s.head.appendChild(o)}}}function Z1(e,n,s){nr.S(e,n,s);var o=ka;if(o&&e){var h=mi(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(ol(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&vd(e,s);var R=g=o.createElement("link");Se(R),Xe(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function W1(e,n){nr.X(e,n);var s=ka;if(s&&e){var o=mi(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=b({src:e,async:!0},n),(n=jn.get(h))&&Td(e,n),f=s.createElement("script"),Se(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tA(e,n){nr.M(e,n);var s=ka;if(s&&e){var o=mi(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Td(e,n),f=s.createElement("script"),Se(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,n,s,o){var h=(h=it.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=mi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||eA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=mi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+un(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Se(n),e.head.appendChild(n))}function La(e){return'[src="'+un(e)+'"]'}function ll(e){return"script[async]"+e}function u_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Xe(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ua(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=l_(s),(h=jn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,Se(h),h):(o=s,(h=jn.get(f))&&(o=b({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function c_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[fi]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function h_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function nA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,o=l_(o),(h=jn.get(h))&&vd(o,h),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function rA(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(sA,e),gc=null,mc.call(e))}function sA(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function aA(e,n,s,o,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function d_(e,n,s,o,h,f,g,T,R,P,H,Y){return e=new aA(e,n,s,g,R,P,H,Y,T),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function m_(e){return e?(e=ma,e):ma}function g_(e,n,s,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=Nr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Or(e,o,n),s!==null&&(gn(s,e,n),Bo(s,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=Is(e,67108864);n!==null&&gn(n,e,67108864),Ad(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=Rn();n=ps(n);var s=Is(e,n);s!==null&&gn(s,e,n),Ad(e,n)}}var yc=!0;function oA(e,n,s,o){var h=j.T;j.T=null;var f=W.p;try{W.p=2,Sd(e,n,s,o)}finally{W.p=f,j.T=h}}function lA(e,n,s,o){var h=j.T;j.T=null;var f=W.p;try{W.p=8,Sd(e,n,s,o)}finally{W.p=f,j.T=h}}function Sd(e,n,s,o){if(yc){var h=bd(o);if(h===null)ud(e,n,o,_c,s),T_(e,o);else if(cA(h,e,n,s,o))o.stopPropagation();else if(T_(e,o),n&4&&-1<uA.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-pe(g);T.entanglements[1]|=R,g&=~R}Ci(f),(Ft&6)===0&&(tc=sn()+500,il(0))}}break;case 31:case 13:T=Is(f,2),T!==null&&gn(T,f,2),nc(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function bd(e){return e=Nn(e),wd(e)}var _c=null;function wd(e){if(_c=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case ho:return 2;case fo:return 8;case gr:case Nh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Rd=!1,qr=null,Hr=null,Gr=null,cl=new Map,hl=new Map,Fr=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(e,n){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cA(e,n,s,o,h){switch(n){case"focusin":return qr=fl(qr,e,n,s,o,h),!0;case"dragenter":return Hr=fl(Hr,e,n,s,o,h),!0;case"mouseover":return Gr=fl(Gr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function E_(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){__(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){__(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=Dn(s),n!==null&&y_(n),e.blockedOn=s,!1;n.shift()}return!0}function A_(e,n,s){vc(e)&&s.delete(n)}function hA(){Rd=!1,qr!==null&&vc(qr)&&(qr=null),Hr!==null&&vc(Hr)&&(Hr=null),Gr!==null&&vc(Gr)&&(Gr=null),cl.forEach(A_),hl.forEach(A_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var Ec=null;function S_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pa(e){function n(R){return Tc(R,e)}qr!==null&&Tc(qr,e),Hr!==null&&Tc(Hr,e),Gr!==null&&Tc(Gr,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<Fr.length;s++){var o=Fr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fr.length&&(s=Fr[0],s.blockedOn===null);)E_(s),s.blockedOn===null&&Fr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ze]||null;if(typeof f=="function")g||S_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)T=g.formAction;else if(wd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),S_(s)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ac.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Rn();g_(s,o,e,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),nc(),n[hi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fr.length&&n!==0&&n<Fr[s].priority;s++);Fr.splice(s,0,e),s===0&&E_(e)}};var w_=t.version;if(w_!=="19.2.4")throw Error(a(527,w_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Gn=Sc.inject(fA),Ge=Sc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Vp,f=xp,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=d_(e,1,!1,null,null,s,o,null,h,f,g,b_),e[hi]=n.current,ld(e),new Cd(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,g=xp,T=Mp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=d_(e,1,!0,n,s??null,o,h,R,f,g,T,b_),n.context=m_(null),s=n.current,o=Rn(),o=ps(o),h=Nr(o),h.callback=null,Or(s,h,o),s=o,n.current.lanes=s,ms(n,s),Ci(n),e[hi]=n.current,ld(e),new Ac(n)},ml.version="19.2.4",ml}var k_;function AA(){if(k_)return Nd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=EA(),Nd.exports}var SA=AA();const f0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const bA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const U_=r=>{const t=wA(r);return t.charAt(0).toUpperCase()+t.slice(1)};var RA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const IA=Kt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Kt.createElement("svg",{ref:_,...RA,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:f0("lucide",l),...!c&&!CA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Kt.createElement(y,A)),...Array.isArray(c)?c:[c]]));const fr=(r,t)=>{const i=Kt.forwardRef(({className:a,...l},c)=>Kt.createElement(IA,{ref:c,iconNode:t,className:f0(`lucide-${bA(U_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=U_(r),i};const DA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NA=fr("copy",DA);const OA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],VA=fr("crown",OA);const xA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],MA=fr("info",xA);const kA=[["path",{d:"M5 12h14",key:"1ays0h"}]],UA=fr("minus",kA);const LA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PA=fr("plus",LA);const zA=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],jA=fr("rotate-cw",zA);const BA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],qA=fr("smartphone",BA);const HA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GA=fr("users",HA);const FA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L_=fr("x",FA),QA=()=>{};var P_={};const d0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},KA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(V=64)),a.push(i[A],i[b],i[V],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(d0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):KA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new YA;const V=c<<2|p>>4;if(a.push(V),y!==64){const G=p<<4&240|y>>2;if(a.push(G),b!==64){const $=y<<6&192|b;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(r){const t=d0(r);return m0.encodeByteArray(t,!0)},Gc=function(r){return XA(r).replace(/\./g,"")},g0=function(r){try{return m0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $A=()=>JA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&g0(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return QA()||$A()||ZA()||WA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>uh()?.emulatorHosts?.[r],tS=r=>{const t=p0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},y0=()=>uh()?.config,_0=r=>uh()?.[`_${r}`];class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function nS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Tl={};function iS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function rS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let z_=!1;function T0(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Tl[r]===t||Tl[r]||z_)return;Tl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=iS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{z_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=rS(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),tt=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),ht=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const yt=V.element;p(yt),A(tt,nt);const Ht=y();_(ht,mt),yt.append(ht,$,tt,Ht),document.body.appendChild(yt)}c?($.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function aS(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const mS="FirebaseError";class dr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mS,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?gS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new dr(l,p,a)}}function gS(r,t){return r.replace(pS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pS=/\{\$([^}]+)}/g;function yS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(j_(c)&&j_(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _S(r,t){const i=new vS(r,t);return i.subscribe.bind(i)}class vS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");TS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function ln(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Bs="[DEFAULT]";class ES{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SS(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(r){return r===Bs?void 0:r}function SS(r){return r.instantiationMode==="EAGER"}class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ES(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const wS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},RS=Mt.INFO,CS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},IS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=CS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=RS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const DS=(r,t)=>t.some(i=>r instanceof i);let B_,q_;function NS(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Qd=new WeakMap,A0=new WeakMap,kd=new WeakMap,vm=new WeakMap;function VS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Wr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&E0.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function xS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function MS(r){Kd=r(Kd)}function kS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return A0.set(a,t.sort?t.sort():[t]),Wr(a)}:OS().includes(r)?function(...t){return r.apply(Ud(this),t),Wr(E0.get(this))}:function(...t){return Wr(r.apply(Ud(this),t))}}function US(r){return typeof r=="function"?kS(r):(r instanceof IDBTransaction&&xS(r),DS(r,NS())?new Proxy(r,Kd):r)}function Wr(r){if(r instanceof IDBRequest)return VS(r);if(kd.has(r))return kd.get(r);const t=US(r);return t!==r&&(kd.set(r,t),vm.set(t,r)),t}const Ud=r=>vm.get(r);function LS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Wr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Wr(d.result),_.oldVersion,_.newVersion,Wr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const PS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Ld=new Map;function H_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=zS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}MS(r=>({...r,get:(t,i,a)=>H_(t,i)||r.get(t,i,a),has:(t,i)=>!!H_(t,i)||r.has(t,i)}));class jS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BS(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",G_="0.14.8";const ar=new _m("@firebase/app"),qS="@firebase/app-compat",HS="@firebase/analytics-compat",GS="@firebase/analytics",FS="@firebase/app-check-compat",QS="@firebase/app-check",KS="@firebase/auth",YS="@firebase/auth-compat",XS="@firebase/database",JS="@firebase/data-connect",$S="@firebase/database-compat",ZS="@firebase/functions",WS="@firebase/functions-compat",tb="@firebase/installations",eb="@firebase/installations-compat",nb="@firebase/messaging",ib="@firebase/messaging-compat",rb="@firebase/performance",sb="@firebase/performance-compat",ab="@firebase/remote-config",ob="@firebase/remote-config-compat",lb="@firebase/storage",ub="@firebase/storage-compat",cb="@firebase/firestore",hb="@firebase/ai",fb="@firebase/firestore-compat",db="firebase",mb="12.9.0";const Xd="[DEFAULT]",gb={[Yd]:"fire-core",[qS]:"fire-core-compat",[GS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[FS]:"fire-app-check-compat",[KS]:"fire-auth",[YS]:"fire-auth-compat",[XS]:"fire-rtdb",[JS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[ZS]:"fire-fn",[WS]:"fire-fn-compat",[tb]:"fire-iid",[eb]:"fire-iid-compat",[nb]:"fire-fcm",[ib]:"fire-fcm-compat",[rb]:"fire-perf",[sb]:"fire-perf-compat",[ab]:"fire-rc",[ob]:"fire-rc-compat",[lb]:"fire-gcs",[ub]:"fire-gcs-compat",[cb]:"fire-fst",[fb]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[db]:"fire-js-all"};const Fc=new Map,pb=new Map,Jd=new Map;function F_(r,t){try{r.container.addComponent(t)}catch(i){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(Jd.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of Fc.values())F_(i,r);for(const i of pb.values())F_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Ll("app","Firebase",yb);class _b{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const so=mb;function S0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ts.create("bad-app-name",{appName:String(l)});if(i||(i=y0()),!i)throw ts.create("no-options");const c=Fc.get(l);if(c){if(Gs(i,c.options)&&Gs(a,c.config))return c;throw ts.create("duplicate-app",{appName:l})}const d=new bS(l);for(const _ of Jd.values())d.addComponent(_);const p=new _b(i,a,d);return Fc.set(l,p),p}function b0(r=Xd){const t=Fc.get(r);if(!t&&r===Xd&&y0())return S0();if(!t)throw ts.create("no-app",{appName:r});return t}function es(r,t,i){let a=gb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}$a(new Fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const vb="firebase-heartbeat-database",Tb=1,Rl="firebase-heartbeat-store";let Pd=null;function w0(){return Pd||(Pd=LS(vb,Tb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function Eb(r){try{const i=(await w0()).transaction(Rl),a=await i.objectStore(Rl).get(R0(r));return await i.done,a}catch(t){if(t instanceof dr)ar.warn(t.message);else{const i=ts.create("idb-get",{originalErrorMessage:t?.message});ar.warn(i.message)}}}async function Q_(r,t){try{const a=(await w0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,R0(r)),await a.done}catch(i){if(i instanceof dr)ar.warn(i.message);else{const a=ts.create("idb-set",{originalErrorMessage:i?.message});ar.warn(a.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const Ab=1024,Sb=30;class bb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Sb){const l=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ar.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=wb(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ar.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function wb(r,t=Ab){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Y_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Rb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y_(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function Cb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Ib(r){$a(new Fs("platform-logger",t=>new jS(t),"PRIVATE")),$a(new Fs("heartbeat",t=>new bb(t),"PRIVATE")),es(Yd,G_,r),es(Yd,G_,"esm2020"),es("fire-js","")}Ib("");var Db="firebase",Nb="12.9.0";es(Db,Nb,"app");function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ob=C0,I0=new Ll("auth","Firebase",C0());const Qc=new _m("@firebase/auth");function Vb(r,...t){Qc.logLevel<=Mt.WARN&&Qc.warn(`Auth (${so}): ${r}`,...t)}function Mc(r,...t){Qc.logLevel<=Mt.ERROR&&Qc.error(`Auth (${so}): ${r}`,...t)}function or(r,...t){throw Em(r,...t)}function Di(r,...t){return Em(r,...t)}function D0(r,t,i){const a={...Ob(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function sr(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return I0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Em(t,...i)}function ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function lr(r,t){r||ir(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function xb(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function Mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xb()||lS()||"connection"in navigator)?navigator.onLine:!0}function kb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,lr(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return Mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){lr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class N0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Lb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pb=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ao(r,t,i,a,l={}){return O0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return oS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),N0.fetch()(await V0(r,r.config.apiHost,i,p),y)})}async function O0(r,t,i){r._canInitEmulator=!1;const a={...Ub,...t};try{const l=new zb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw bc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D0(r,A,y);or(r,A)}}catch(l){if(l instanceof dr)throw l;or(r,"network-request-failed",{message:String(l)})}}async function Sm(r,t,i,a,l={}){const c=await ao(r,t,i,a,l);return"mfaPendingCredential"in c&&or(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return Lb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),Pb.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(r,t,a);return l.customData._tokenResponse=i,l}async function jb(r,t){return ao(r,"POST","/v1/accounts:delete",t)}async function Kc(r,t){return ao(r,"POST","/v1/accounts:lookup",t)}function El(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Bb(r,t=!1){const i=ln(r),a=await i.getIdToken(t),l=bm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:El(zd(l.auth_time)),issuedAtTime:El(zd(l.iat)),expirationTime:El(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function bm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=g0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J_(r){const t=bm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Cl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof dr&&qb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function qb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Hb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(r){const t=r.auth,i=await r.getIdToken(),a=await Cl(r,Kc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?x0(l.providerUserInfo):[],d=Fb(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Gb(r){const t=ln(r);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Fb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function x0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Qb(r,t){const i=await O0(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await V0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(_.credentials="include"),N0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Kb(r,t){return ao(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Qb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Kr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Hb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Bb(this,t)}reload(){return Gb(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(sr(this.auth));const t=await this.getIdToken();return await Cl(this,jb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:G,providerData:$,stsTokenManager:nt}=i;Tt(b&&nt,t,"internal-error");const tt=Ga.fromJSON(this.name,nt);Tt(typeof b=="string",t,"internal-error"),Kr(a,t.name),Kr(l,t.name),Tt(typeof V=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),Kr(c,t.name),Kr(d,t.name),Kr(p,t.name),Kr(_,t.name),Kr(y,t.name),Kr(A,t.name);const mt=new ni({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return $&&Array.isArray($)&&(mt.providerData=$.map(ht=>({...ht}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?x0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const _=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const $_=new Map;function rr(r){lr(r instanceof Function,"Expected a class definition");let t=$_.get(r);return t?(lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,$_.set(r,t),t)}class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}M0.type="NONE";const Z_=M0;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(rr(Z_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||rr(Z_);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const V=await Kc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await ni._fromGetAccountInfoResponse(t,V,A)}else b=ni._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Fa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fa(c,t,a))}}function W_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(U0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function k0(r=rn()){return/firefox\//i.test(r)}function U0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(r=rn()){return/crios\//i.test(r)}function P0(r=rn()){return/iemobile/i.test(r)}function z0(r=rn()){return/android/i.test(r)}function j0(r=rn()){return/blackberry/i.test(r)}function B0(r=rn()){return/webos/i.test(r)}function wm(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Yb(r=rn()){return wm(r)&&!!window.navigator?.standalone}function Xb(){return cS()&&document.documentMode===10}function q0(r=rn()){return wm(r)||z0(r)||B0(r)||j0(r)||/windows phone/i.test(r)||P0(r)}function H0(r,t=[]){let i;switch(r){case"Browser":i=W_(rn());break;case"Worker":i=`${W_(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class Jb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $b(r,t={}){return ao(r,"GET","/v2/passwordPolicy",jl(r,t))}const Zb=6;class Wb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Zb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class tw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new Jb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(sr(this));const i=t?ln(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $b(this),i=new Wb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Kb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rr(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[rr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Vb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return ln(r)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ew(r){Rm=r}function nw(r){return Rm.loadJS(r)}function iw(){return Rm.gapiScript}function rw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function sw(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,t??{}))return l;or(l,"already-initialized")}return i.initialize({options:t})}function aw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ow(r,t,i){const a=Bl(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=G0(t),{host:d,port:p}=lw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Gs(y,a.config.emulator)&&Gs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(v0(`${c}//${d}${_}`),T0("Auth",!0)):uw()}function G0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function lw(r){const t=G0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ev(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ev(d)}}}function ev(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function uw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,i){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}async function Qa(r,t){return Sm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const cw="http://localhost";class Qs extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):or("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Qs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Yr extends ql{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class Xr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xr.credential(i,a)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class Jr extends ql{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class $r extends ql{constructor(){super("twitter.com")}static credential(t,i){return Qs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $r.credential(i,a)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";async function hw(r,t){return Sm(r,"POST","/v1/accounts:signUp",jl(r,t))}class ur{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ni._fromIdTokenResponse(t,a,l),d=nv(a);return new ur({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=nv(a);return new ur({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function iv(r){if(Bn(r.app))return Promise.reject(sr(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ur({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await hw(t,{returnSecureToken:!0}),a=await ur._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends dr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function K0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,t,a):c})}async function fw(r,t,i=!1){const a=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ur._forOperation(r,"link",a)}async function dw(r,t,i=!1){const{auth:a}=r;if(Bn(a.app))return Promise.reject(sr(a));const l="reauthenticate";try{const c=await Cl(r,K0(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=bm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),ur._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&or(a,"user-mismatch"),c}}async function mw(r,t,i=!1){if(Bn(r.app))return Promise.reject(sr(r));const a="signIn",l=await K0(r,a,t),c=await ur._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function gw(r,t){return Sm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function pw(r,t){if(Bn(r.app))return Promise.reject(sr(r));const i=Bl(r),a=await gw(i,{token:t,returnSecureToken:!0}),l=await ur._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function _w(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function vw(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}const Jc="__sak";class Y0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tw=1e3,Ew=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Xb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ew):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}X0.type="LOCAL";const Aw=X0;class J0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}J0.type="SESSION";const $0=J0;function Sw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class bw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Cm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function ww(r){Ni().location.href=r}function Z0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Iw(){return Z0()?self:null}const W0="firebaseLocalStorageDb",Dw=1,$c="firebaseLocalStorage",tT="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function Nw(){const r=indexedDB.deleteDatabase(W0);return new Hl(r).toPromise()}function Wd(){const r=indexedDB.open(W0,Dw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:tT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await Nw(),t(await Wd()))})})}async function rv(r,t,i){const a=hh(r,!0).put({[tT]:t,value:i});return new Hl(a).toPromise()}async function Ow(r,t){const i=hh(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function sv(r,t){const i=hh(r,!0).delete(t);return new Hl(i).toPromise()}const Vw=800,xw=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>xw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new bw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await rv(t,Jc,"1"),await sv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Ow(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const Mw=eT;new zl(3e4,6e4);function kw(r,t){return t?rr(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Im extends F0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Uw(r){return mw(r.auth,new Im(r),r.bypassAuthState)}function Lw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),dw(i,new Im(r),r.bypassAuthState)}async function Pw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),fw(i,new Im(r),r.bypassAuthState)}class nT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Pw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:or(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new zl(2e3,1e4);class Ha extends nT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zw.get())};t()}}Ha.currentPopupAction=null;const jw="pendingRedirect",Uc=new Map;class Bw extends nT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(r,t){const i=Fw(t),a=Gw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(r,t){Uc.set(r._key(),t)}function Gw(r){return rr(r._redirectPersistence)}function Fw(r){return kc(jw,r.config.apiKey,r.name)}async function Qw(r,t,i=!1){if(Bn(r.app))return Promise.reject(sr(r));const a=Bl(r),l=kw(a,t),d=await new Bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Kw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Xw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(r);default:return!1}}async function Jw(r,t={}){return ao(r,"GET","/v1/projects",t)}const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Ww(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Jw(r);for(const i of t)try{if(tR(i))return}catch{}or(r,"unauthorized-domain")}function tR(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if($w.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const eR=new zl(3e4,6e4);function ov(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function nR(r){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Di(r,"network-request-failed"))},timeout:eR.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=rw("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(Di(r,"network-request-failed"))},nw(`${iw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function iR(r){return Lc=Lc||nR(r),Lc}const rR=new zl(5e3,15e3),sR="__/auth/iframe",aR="emulator/auth/iframe",oR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,aR):`https://${r.config.authDomain}/${sR}`,a={apiKey:t.apiKey,appName:r.name,v:so},l=lR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function cR(r){const t=await iR(r),i=Ni().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:uR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(r,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},rR.get());function _(){Ni().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fR=500,dR=600,mR="_blank",gR="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(r,t,i,a=fR,l=dR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...hR,width:a.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();i&&(p=L0(y)?mR:i),k0(y)&&(t=t||gR,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[G,$])=>`${V}${G}=${$},`,"");if(Yb(y)&&p!=="_self")return yR(t||"",p),new lv(null);const b=window.open(t||"",p,A);Tt(b,r,"popup-blocked");try{b.focus()}catch{}return new lv(b)}function yR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _R="__/auth/handler",vR="emulator/auth/handler",TR=encodeURIComponent("fac");async function uv(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof Q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",yS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof ql){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${TR}=${encodeURIComponent(_)}`:"";return`${ER(r)}?${Pl(p).slice(1)}${y}`}function ER({config:r}){return r.emulator?Am(r,vR):`https://${r.authDomain}/${_R}`}const jd="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(t,i,a,l){lr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,$d(),l);return pR(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await uv(t,i,a,$d(),l);return ww(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(lr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await cR(t),a=new Yw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),or(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return q0()||U0()||wm()}}const SR=AR;var cv="@firebase/auth",hv="1.12.0";class bR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(r){$a(new Fs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},y=new tw(a,l,c,_);return aw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Fs("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new bR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(cv,hv,wR(r)),es(cv,hv,"esm2020")}const CR=300,IR=_0("authIdTokenMaxAge")||CR;let fv=null;const DR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>IR)return;const l=i?.token;fv!==l&&(fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NR(r=b0()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(r,{popupRedirectResolver:SR,persistence:[Mw,Aw,$0]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DR(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,p=>d(p))}}const l=p0("auth");return l&&ow(i,`http://${l}`),i}function OR(){return document.getElementsByTagName("head")?.[0]??document}ew({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",OR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,rT;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,k){for(var w=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)w[zt-2]=arguments[zt];return S.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const x=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)x[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=S+(k^C&(D^k))+x[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+x[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+x[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+x[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+x[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+x[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+x[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+x[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+x[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+x[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+x[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+x[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+x[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+x[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+x[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+x[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(D^k&(C^D))+x[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+x[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+x[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+x[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+x[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+x[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+x[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+x[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+x[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+x[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+x[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+x[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+x[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+x[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+x[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+x[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(C^D^k)+x[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+x[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+x[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+x[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+x[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+x[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+x[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+x[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+x[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+x[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+x[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+x[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+x[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+x[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+x[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+x[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(D^(C|~k))+x[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+x[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+x[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+x[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+x[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+x[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+x[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+x[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+x[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+x[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+x[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+x[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+x[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+x[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+x[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(x[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,x),D=0;break}}else for(;k<S;)if(x[D++]=I[k++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[S++]=this.g[C]>>>x&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;x&&k==S||(C[D]=k,x=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return tt(y(-I));const S=[];let C=1;for(let x=0;I>=C;x++)S[x]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let x=b;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),x=x.j(D).add(y(w))):(x=x.j(C),x=x.add(y(w)))}return x}var b=_(0),V=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-tt(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(nt(this))return"-"+tt(this).toString(I);const S=y(Math.pow(I,6));var C=this;let x="";for(;;){const D=Ht(C,S).g;C=mt(C,D.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,$(C))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=mt(this,I),nt(I)?-1:$(I)?0:1};function tt(I){const S=I.g.length,C=[];for(let x=0;x<S;x++)C[x]=~I.g[x];return new d(C,~I.h).add(V)}r.abs=function(){return nt(this)?tt(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=S;D++){let k=x+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(I,S){return I.add(tt(S))}r.j=function(I){if($(this)||$(I))return b;if(nt(this))return nt(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(nt(I))return tt(this.j(tt(I)));if(this.l(G)<0&&I.l(G)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const k=this.i(x)>>>16,w=this.i(x)&65535,zt=I.i(D)>>>16,ue=I.i(D)&65535;C[2*x+2*D]+=w*ue,ht(C,2*x+2*D),C[2*x+2*D+1]+=k*ue,ht(C,2*x+2*D+1),C[2*x+2*D+1]+=w*zt,ht(C,2*x+2*D+1),C[2*x+2*D+2]+=k*zt,ht(C,2*x+2*D+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function ht(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function yt(I,S){this.g=I,this.h=S}function Ht(I,S){if($(S))throw Error("division by zero");if($(I))return new yt(b,b);if(nt(I))return S=Ht(tt(I),S),new yt(tt(S.g),tt(S.h));if(nt(S))return S=Ht(I,tt(S)),new yt(tt(S.g),S.h);if(I.g.length>30){if(nt(I)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,x=S;x.l(I)<=0;)C=Zt(C),x=Zt(x);var D=Nt(C,1),k=Nt(x,1);for(x=Nt(x,2),C=Nt(C,2);!$(x);){var w=k.add(x);w.l(I)<=0&&(D=D.add(C),k=w),x=Nt(x,1),C=Nt(C,1)}return S=mt(I,D.j(S)),new yt(D,S)}for(D=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(C),w=k.j(S);nt(w)||w.l(I)>0;)C-=x,k=y(C),w=k.j(S);$(k)&&(k=V),D=D.add(k),I=mt(I,w)}return new yt(D,I)}r.B=function(I){return Ht(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function Zt(I){const S=I.g.length+1,C=[];for(let x=0;x<S;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function Nt(I,S){const C=S>>5;S%=32;const x=I.g.length-C,D=[];for(let k=0;k<x;k++)D[k]=S>0?I.i(k+C)>>>S|I.i(k+C+1)<<32-S:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,ns=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sT,pl,aT,Pc,tm,oT,lT,uT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in v))break t;v=v[U]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,U,B){for(var Z=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Z[wt-2]=arguments[wt];return m.prototype[U].apply(E,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function $(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=U[Z]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=yt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var yt=new nt(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Nt=!1,I=new ht,S=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function zt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(zt,D),zt.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,v,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=U,this.key=++j,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(v in E)u[v]=E[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=it(u,m,E,U);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new W(m,this.src,B,!!E,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var E=u.g[v],U=Array.prototype.indexOf.call(E,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(E,U,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function it(u,m,v,E){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==E)return U}return-1}var at="closure_lm_"+(Math.random()*1e6|0),rt={};function bt(u,m,v,E,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)bt(u,m[B],v,E,U);return null}return v=ai(v),u&&u[ue]?u.J(m,v,p(E)?!!E.capture:!1,U):Ue(u,m,v,!1,E,U)}function Ue(u,m,v,E,U,B){if(!m)throw Error("Invalid event type");const Z=p(U)?!!U.capture:!!U;let wt=Hn(u);if(wt||(u[at]=wt=new st(u)),v=wt.add(m,v,E,Z,B),v.proxy)return v;if(E=ie(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)k||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(Pe(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ie(){function u(v){return m.call(u.src,u.listener,v)}const m=ri;return u}function Qt(u,m,v,E,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qt(u,m[B],v,E,U);else E=p(E)?!!E.capture:!!E,v=ai(v),u&&u[ue]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=it(m,v,E,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Hn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=it(m,v,E,U)),(v=u>-1?m[u]:null)&&Le(v))}function Le(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])_t(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Pe(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Hn(m))?(_t(v,u),v.h==0&&(v.src=null,m[at]=null)):ft(u)}}}function Pe(u){return u in rt?rt[u]:rt[u]="on"+u}function ri(u,m){if(u.da)u=!0;else{m=new zt(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&Le(u),u=v.call(E,m)}return u}function Hn(u){return u=u[at],u instanceof st?u:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function ai(u){return typeof u=="function"?u:(u[si]||(u[si]=function(m){return u.handleEvent(m)}),u[si])}function se(){x.call(this),this.i=new st(this),this.M=this,this.G=null}b(se,x),se.prototype[ue]=!0,se.prototype.removeEventListener=function(u,m,v,E){Qt(this,u,m,v,E)};function Ve(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(E,u),et(m,U)}U=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],U=mr(B,E,!0,m)&&U;if(B=m.g=u,U=mr(B,E,!0,m)&&U,U=mr(B,E,!1,m)&&U,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],U=mr(B,E,!1,m)&&U}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)ft(v[E]);delete u.g[m],u.h--}}this.G=null},se.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},se.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function mr(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const wt=Z.listener,ye=Z.ha||Z.src;Z.fa&&_t(u.i,Z),U=wt.call(ye,E)!==!1&&U}}return U&&!E.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(u){x.call(this),this.h=u,this.g={}}b(fs,x);var ho=[];function fo(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&Le(m)},u),u.g={}}fs.prototype.N=function(){fs.Z.N.call(this),fo(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=d.JSON.stringify,Nh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Zl(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){D.call(this,"d")}b(Ge,D);function In(){D.call(this,"c")}b(In,D);var pe={},Wl=null;function Zs(){return Wl=Wl||new se}pe.Ia="serverreachability";function tu(u){D.call(this,pe.Ia,u)}b(tu,D);function oi(u){const m=Zs();Ve(m,new tu(m))}pe.STAT_EVENT="statevent";function ds(u,m){D.call(this,pe.STAT_EVENT,u),this.stat=m}b(ds,D);function Ee(u){const m=Zs();Ve(m,new ds(m,u))}pe.Ja="timingevent";function li(u,m){D.call(this,pe.Ja,u),this.size=m}b(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,E,U,B){u.info(function(){if(u.g)if(B){var Z="",wt=B.split("&");for(let Gt=0;Gt<wt.length;Gt++){var ye=wt[Gt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Vn=ce.split("_");Z=Vn.length>=2&&Vn[1]=="type"?Z+(ce+"="+ye+"&"):Z+(ce+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+v+`
`+Z})}function eu(u,m,v,E,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+Z})}function ci(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(E?" "+E:"")})}function ms(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<E.length;Z++)E[Z]=""}}}}return gr(B)}catch{return m}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function ps(){}b(ps,$l),ps.prototype.g=function(){return new XMLHttpRequest},go=new ps;function Pi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function hi(u,m,v){u.M=1,u.A=ys(be(m)),u.u=v,u.R=!0,Ws(u,null)}function Ws(u,m){u.F=Date.now(),fi(u),u.B=be(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ia(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Kn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ho[0]=U.toString()),U=ho);for(let B=0;B<U.length;B++){const Z=bt(v,U[B],E||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||wt!=4||ye==7||(ye==8||Gt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=xh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Ee(12),_n(this),Dn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=ru(this,v),ce==ze){wt==4&&(this.m=4,Ee(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ae){this.m=4,Ee(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ce,null),mi(this,ce);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),No(Z),Z.P=!0,Ee(11))}}else ci(this.i,this.l,v,null),mi(this,v);wt==4&&_n(this),this.o&&!this.K&&(wt==4?du(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),_n(this),Dn(this)}}}catch{}};function xh(u){if(!iu(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const E=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?ze:(v=Number(m.substring(v,E)),isNaN(v)?Ae:(E+=1,E+v>m.length?ze:(m=m.slice(E,E+v),u.C=E+v,m)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function fi(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ms(this.i,this.B),this.M!=2&&(oi(),Ee(17)),_n(this),this.m=2,Dn(this)):ta(this,this.T-u)};function Dn(u){u.j.I==0||u.K||du(u.j,u)}function _n(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),Sr(v);else break t;bs(v),Ee(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&la(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const ce=Gt[0];if(!(ce<=v.K))if(v.K=ce,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Vn=Gt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Si=Gt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const $n=Gt[5];$n!=null&&typeof $n=="number"&&$n>0&&(E=1.5*$n,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Zn=u.g;if(Zn){const ws=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var B=E.h;B.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(E.G){const ua=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(E.wa=ua,Xt(E.J,E.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var Z=u;if(E.na=pu(E,E.L?E.ba:null,E.W),Z.L){vo(E.h,Z);var wt=Z,ye=E.O;ye&&(wt.H=ye),wt.D&&(di(wt),fi(wt)),E.g=Z}else hu(E);v.i.length>0&&Ei(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ai(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ai(v,7):Io(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}oi(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let U,B=null;E>=0?(U=u[v].substring(0,E),B=u[v].substring(E+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,pr(this,u.u),this.h=u.h,Eo(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,je(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),pr(this,m[4]),this.h=yi(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_s(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_s(m,na,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_s(v,v.charAt(0)=="/"?Ao:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_s(v,ou)),u.join("")},vn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)pr(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const wt=U[Z++];wt=="."?E&&Z==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&Z==U.length&&B.push("")):(B.push(wt),E=!0)}E=B.join("/")}else E=U}return v?m.h=E:v=u.i.toString()!=="",v?Eo(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new vn(u)}function je(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof _r?(u.i=m,ra(u.i,u.l)):(v||(m=_s(m,yr)),u.i=new _r(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function ys(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _s(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,au=/[#\?:]/g,Ao=/[#\?]/g,yr=/[#\?@]/g,ou=/#/g;function _r(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(u,m){cn(this),this.i=null,u=vr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){cn(u),m=vr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return cn(u),m=vr(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,E){v.forEach(function(U){u.call(m,U,E,this)},this)},this)};function bo(u,m){cn(u);let v=[];if(typeof m=="string")So(u,m)&&(v=v.concat(u.g.get(vr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=vr(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(vr(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const U=Pi(v);v=bo(this,v);for(let B=0;B<v.length;B++){let Z=U;v[B]!==""&&(Z+="="+Pi(v[B])),u.push(Z)}}return this.i=u.join("&")};function uu(u){const m=new _r;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,E){const U=E.toLowerCase();E!=U&&(lu(this,E),ia(this,U,v))},u)),u.j=m}function Yn(u,m){const v=new Fn;if(d.Image){const E=new Image;E.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=A(Nn,v,"TestLoadImage: error",!1,m,E),E.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function wo(u,m){const v=new Fn,E=new AbortController,U=setTimeout(()=>{E.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(U),B.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(v)}catch{}}function Tr(){this.g=new Jl}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}b(_i,$l),_i.prototype.g=function(){return new vs(this.i,this.h)};function vs(u,m){se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(vs,se),r=vs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Er(this):Xn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Er(this))},r.Na=function(u){this.g&&(this.response=u,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Ot(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Ts(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=On(v),typeof u=="string"?v!=null&&Pi(v):Xt(u,m,v))}function Wt(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wt,se);var vi=/^https?$/i,Ro=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Es(this,B);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)v.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())v.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||E||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Es(this,B)}};function Es(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),zi(u)}function Co(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},r.Xa=function(){As(this)};function As(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=B===0){let Z=String(u.D).match(su)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),E=!vi.test(Z?Z.toLowerCase():"")}v=E}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Co(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var v=nu(u[E]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}jt(m,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ar(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new Tr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,E){Ee(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=pu(this,null,this.W),Ei(this)};function Io(u){if(aa(u),u.I==3){var m=u.V++,v=be(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),Ss(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=ys(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}gu(u)}function Sr(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function aa(u){Sr(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||S(),Nt||(Zt(),Nt=!0),I.add(m,u),u.D=0}}function oa(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),v=be(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),Ss(this,v),B&&(this.R?m="headers="+Pi(On(B))+"&"+m:this.u&&Ts(v,this.u,B)),_o(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,hi(U,v,null)):hi(U,v,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||yo(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.V++;const E=be(u.J);Xt(E,"SID",u.M),Xt(E,"RID",v),Xt(E,"AID",u.K),Ss(u,E),u.u&&u.o&&Ts(E,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),hi(v,E,m)}function Ss(u,m){u.H&&Ot(u.H,function(v,E){Xt(m,E,v)}),u.l&&Ot({},function(v,E){Xt(m,E,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const ye=["count="+v];wt==-1?v>0?(wt=U[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Gt=!0;for(let ce=0;ce<v;ce++){var B=U[ce].g;const Vn=U[ce].map;if(B-=wt,B<0)wt=Math.max(0,U[ce].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var Z=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Si,$n]of Z){let Zn=$n;p($n)&&(Zn=gr($n)),ye.push(B+Si+"="+encodeURIComponent(Zn))}}catch(Si){throw ye.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{E&&E(Vn)}}if(Gt){Z=ye.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||S(),Nt||(Zt(),Nt=!0),I.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Sr(this),fu(this))};function No(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),Ss(u,m),u.u&&u.o&&Ts(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ys(be(m)),v.u=null,v.R=!0,Ws(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Sr(this),bs(this),Ee(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){la(u),No(u),u.g=null;var E=2}else if(pi(u.h,m))v=m.G,vo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=Zs(),Ve(E,new li(E,v)),Ei(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&oa(u,m)||E==2&&bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const U=!E;E=new vn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(E,"https"),ys(E),U?Yn(E.toString(),v):wo(E.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),gu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var E=v instanceof vn?be(v):new vn(v);if(E.g!="")m&&(E.g=m+"."+E.g),pr(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new vn(null);E&&je(B,E),m&&(B.g=m),U&&pr(B,U),v&&(B.h=v),E=B}return v=u.G,m=u.wa,v&&m&&Xt(E,v,m),Xt(E,"VER",u.ka),Ss(u,E),E}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new _i({ab:v})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(u,m){return new an(u,m)};function an(u,m){se.call(this),this.g=new Ar(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}b(an,se),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Io(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gr(u),u=v);m.i.push(new Se(m.Ya++,u)),m.I==3&&Ei(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,an.Z.N.call(this)};function vu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,Ge);function Tu(){In.call(this),this.status=1}b(Tu,In);function Bi(u){this.g=u}b(Bi,_u),Bi.prototype.ra=function(){Ve(this.g,"a")},Bi.prototype.qa=function(u){Ve(this.g,new vu(u))},Bi.prototype.pa=function(u){Ve(this.g,new Tu)},Bi.prototype.oa=function(){Ve(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,uT=function(){return new br},lT=function(){return Zs()},oT=pe,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Pc=gs,mo.COMPLETE="complete",aT=mo,Zl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",se.prototype.listen=se.prototype.J,pl=Zl,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,sT=Wt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let oo="12.9.0";function VR(r){oo=r}const Ks=new _m("@firebase/firestore");function za(){return Ks.logLevel}function ot(r,...t){if(Ks.logLevel<=Mt.DEBUG){const i=t.map(Dm);Ks.debug(`Firestore (${oo}): ${r}`,...i)}}function cr(r,...t){if(Ks.logLevel<=Mt.ERROR){const i=t.map(Dm);Ks.error(`Firestore (${oo}): ${r}`,...i)}}function Ys(r,...t){if(Ks.logLevel<=Mt.WARN){const i=t.map(Dm);Ks.warn(`Firestore (${oo}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,cT(r,a,i)}function cT(r,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cr(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||cT(t,l,a)}function St(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends dr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new is;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new is,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new is)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new hT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class UR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?kt(l,c):Bd(l)?1:-1}return kt(r.length,t.length)}const jR=55296,BR=57343;function Bd(r){const t=r.charCodeAt(0);return t>=jR&&t<=BR}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Ii{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ii.isNumericId(t),l=Ii.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class fe extends Ii{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ii{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new $e([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(fe.fromString(t))}static fromName(t){return new gt(fe.fromString(t).popFirst(5))}static empty(){return new gt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new fe(t.slice()))}}function HR(r,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function GR(r,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!gt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Oi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!fT(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ne("string",le._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new le(0,0))}static max(){return new Et(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function FR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new rs(l,gt.empty(),t)}function QR(r){return new rs(r.readTime,r.key,Il)}class rs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rs(Et.min(),gt.empty(),Il)}static max(){return new rs(Et.max(),gt.empty(),Il)}}function KR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==YR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function JR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Vm=-1;function dh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function $R(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dT="";function ZR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=vv(t)),t=WR(r.get(i),t);return vv(t)}function WR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case dT:i+="";break;default:i+=c}}return i}function vv(r){return r+dT+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function cs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function mT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(t){return new Ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class Ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new ke($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gT("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=t2.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}const pT="server_timestamp",yT="__type__",_T="__previous_value__",vT="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[yT]?.stringValue===pT}function mh(r){const t=r.mapValue.fields[_T];return xm(t)?mh(t):t}function Dl(r){const t=ss(r.mapValue.fields[vT].timestampValue);return new le(t.seconds,t.nanos)}class e2{constructor(t,i,a,l,c,d,p,_,y,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=b}}const Wc="(default)";class Nl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}function n2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(r.options.projectId,t)}const TT="__type__",i2="__max__",Cc={mapValue:{}},ET="__vector__",th="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:s2(r)?9007199254740991:r2(r)?10:11:vt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const i=os(r);if(i!==os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ss(l.timestampValue),p=ss(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return as(l.bytesValue).isEqual(as(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),p=Te(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Ol(r,t){return(r.values||[]).find((i=>Ui(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=os(r),a=os(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Te(c.integerValue||c.doubleValue),_=Te(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(Dl(r),Dl(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=as(c),_=as(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=kt(p[y],_[y]);if(A!==0)return A}return kt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Te(c.latitude),Te(d.latitude));return p!==0?p:kt(Te(c.longitude),Te(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Sv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[th]?.arrayValue,A=_[th]?.arrayValue,b=kt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:Sv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const V=em(_[b],A[b]);if(V!==0)return V;const G=Wa(p[_[b]],y[A[b]]);if(G!==0)return G}return kt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ss(r),a=ss(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function Sv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function to(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ss(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return as(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function zc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return cs(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Mm(r){return!!r&&"arrayValue"in r}function bv(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function r2(r){return(r?.mapValue?.fields||{})[TT]?.stringValue===ET}function Al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return cs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(r.arrayValue.values[i]);return t}return{...r}}function s2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===i2}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=$e.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new yn(Al(this.value))}}function AT(r){const t=[];return cs(r.fields,((i,a)=>{const l=new $e([i]);if(jc(a)){const c=AT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Cn(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,Et.min(),Et.min(),Et.min(),yn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,Et.min(),Et.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Et.min(),Et.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function Rv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function a2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ST{}class Me extends ST{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new l2(t,i,a):i==="array-contains"?new h2(t,a):i==="in"?new f2(t,a):i==="not-in"?new d2(t,a):i==="array-contains-any"?new m2(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new u2(t,a):new c2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&os(this.value)===os(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends ST{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return bT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(r){return r.op==="and"}function wT(r){return o2(r)&&bT(r)}function o2(r){for(const t of r.filters)if(t instanceof Li)return!1;return!0}function rm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+to(r.value);if(wT(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function RT(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(r,t):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&RT(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function CT(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(CT).join(" ,")+"}"})(r):"Filter"}class l2 extends Me{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class u2 extends Me{constructor(t,i){super(t,"in",i),this.keys=IT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class c2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=IT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IT(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class h2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Ol(i.arrayValue,this.value)}}class f2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class d2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class m2 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}class g2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Iv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new g2(r,t,i,a,l,c,d)}function km(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!a2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Cv(r.startAt,t.startAt)&&Cv(r.endAt,t.endAt)}function sm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function p2(r,t,i,a,l,c,d,p){return new gh(r,t,i,a,l,c,d,p)}function ph(r){return new gh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y2(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function _2(r){return r.collectionGroup!==null}function Sl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke($e.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new nh($e.keyField(),a))}return t.Ie}function Vi(r){const t=St(r);return t.Ee||(t.Ee=v2(t,Sl(r))),t.Ee}function v2(r,t){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return Um(Vi(r),Vi(t))&&r.limitType===t.limitType}function DT(r){return`${km(Vi(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>CT(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Sl(a),l))})(r,t)}function T2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NT(r){return(t,i)=>{let a=!1;for(const l of Sl(r)){const c=E2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function E2(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Wa(_,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}const A2=new de(gt.comparator);function hr(){return A2}const OT=new de(gt.comparator);function yl(...r){let t=OT;for(const i of r)t=t.insert(i.key,i);return t}function VT(r){let t=OT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qs(){return bl()}function xT(){return bl()}function bl(){return new Js((r=>r.toString()),((r,t)=>r.isEqual(t)))}const S2=new de(gt.comparator),b2=new ke(gt.comparator);function Ut(...r){let t=b2;for(const i of r)t=t.add(i);return t}const w2=new ke(kt);function R2(){return w2}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function MT(r){return{integerValue:""+r}}function C2(r,t){return $R(t)?MT(t):Lm(r,t)}class vh{constructor(){this._=void 0}}function I2(r,t,i){return r instanceof Vl?(function(l,c){const d={fields:{[yT]:{stringValue:pT},[vT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=mh(c)),c&&(d.fields[_T]=c),{mapValue:d}})(i,t):r instanceof xl?UT(r,t):r instanceof Ml?LT(r,t):(function(l,c){const d=kT(l,c),p=Nv(d)+Nv(l.Ae);return im(d)&&im(l.Ae)?MT(p):Lm(l.serializer,p)})(r,t)}function D2(r,t,i){return r instanceof xl?UT(r,t):r instanceof Ml?LT(r,t):i}function kT(r,t){return r instanceof ih?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vl extends vh{}class xl extends vh{constructor(t){super(),this.elements=t}}function UT(r,t){const i=PT(t);for(const a of r.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends vh{constructor(t){super(),this.elements=t}}function LT(r,t){let i=PT(t);for(const a of r.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Nv(r){return Te(r.integerValue||r.doubleValue)}function PT(r){return Mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class N2{constructor(t,i){this.field=t,this.transform=i}}function O2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof xl&&l instanceof xl||a instanceof Ml&&l instanceof Ml?Za(a.elements,l.elements,Ui):a instanceof ih&&l instanceof ih?Ui(a.Ae,l.Ae):a instanceof Vl&&l instanceof Vl})(r.transform,t.transform)}class V2{constructor(t,i){this.version=t,this.transformResults=i}}class xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Th{}function zT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new BT(r.key,xi.none()):new Fl(r.key,r.data,xi.none());{const i=r.data,a=yn.empty();let l=new ke($e.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hs(r.key,a,new Cn(l.toArray()),xi.none())}}function x2(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),_=Vv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof hs?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(jT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(r,t,i,a){return r instanceof Fl?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),A=xv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof hs?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=xv(c.fieldTransforms,_,d),A=d.data;return A.setAll(jT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function M2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=kT(a.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(a.field,c))}return i||null}function Ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>O2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,D2(d,p,i[l]))}return a}function xv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,I2(c,d,t))}return a}class BT extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&x2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=zT(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class Pm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return S2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Pm(t,i,a,l)}}class L2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class P2{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Pt;function z2(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function qT(r){if(r===void 0)return cr("GRPC error has no .code"),J.UNKNOWN;switch(r){case De.OK:return J.OK;case De.CANCELLED:return J.CANCELLED;case De.UNKNOWN:return J.UNKNOWN;case De.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case De.INTERNAL:return J.INTERNAL;case De.UNAVAILABLE:return J.UNAVAILABLE;case De.UNAUTHENTICATED:return J.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case De.NOT_FOUND:return J.NOT_FOUND;case De.ALREADY_EXISTS:return J.ALREADY_EXISTS;case De.PERMISSION_DENIED:return J.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case De.ABORTED:return J.ABORTED;case De.OUT_OF_RANGE:return J.OUT_OF_RANGE;case De.UNIMPLEMENTED:return J.UNIMPLEMENTED;case De.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(Pt=De||(De={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function j2(){return new TextEncoder}const B2=new ns([4294967295,4294967295],0);function Mv(r){const t=j2().encode(r),i=new rT;return i.update(t),new Uint8Array(i.digest())}function kv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ns([i,a],0),new ns([l,c],0)]}class zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ns.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ns.fromNumber(a)));return l.compare(B2)===1&&(l=new ns([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Mv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Mv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Et.min(),l,new de(kt),hr(),Ut())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Ut(),Ut(),Ut())}}class qc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class HT{constructor(t,i){this.targetId=t,this.Ce=i}}class GT{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class q2{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.He=Ic(),this.Je=Ic(),this.Ze=new de(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new gt(c.path);this.et(i,d,nn.newNoDocument(d,Et.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=as(a).toUint8Array()}catch(_){if(_ instanceof gT)return Ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new zm(d,l,c)}catch(_){return Ys(_ instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,nn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ze,this.je,a);return this.je=hr(),this.He=Ic(),this.Je=Ic(),this.Ze=new de(kt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Uv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ke(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ke(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new de(gt.comparator)}function Lv(){return new de(gt.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class Q2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function K2(r,t){return rh(r,t.toTimestamp())}function Mi(r){return Yt(!!r,49232),Et.fromTimestamp((function(i){const a=ss(i);return new le(a.seconds,a.nanos)})(r))}function jm(r,t){return lm(r,t).canonicalString()}function lm(r,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function QT(r){const t=fe.fromString(r);return Yt($T(t),10190,{key:t.toString()}),t}function um(r,t){return jm(r.databaseId,t.path)}function qd(r,t){const i=QT(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(YT(i))}function KT(r,t){return jm(r.databaseId,t)}function Y2(r){const t=QT(r);return t.length===4?fe.emptyPath():YT(t)}function cm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YT(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function X2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),Ze.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ze.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:qT(y.code);return new ct(A,y.message||"")})(d);i=new GT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):Et.min(),p=new yn({mapValue:{fields:a.document.fields}}),_=nn.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Mi(a.readTime):Et.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new P2(l,c),p=a.targetId;i=new HT(p,d)}}return i}function J2(r,t){let i;if(t instanceof Fl)i={update:Pv(r,t.key,t.value)};else if(t instanceof BT)i={delete:um(r,t.key)};else if(t instanceof hs)i={update:Pv(r,t.key,t.data),updateMask:sC(t.fieldMask)};else{if(!(t instanceof k2))return vt(16599,{dt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:K2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function $2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Et.min())&&(d=Mi(c)),new V2(d,l.transformResults||[])})(i,t)))):[]}function Z2(r,t){return{documents:[KT(r,t.path)]}}function W2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=KT(r,l);const c=(function(y){if(y.length!==0)return JT(Li.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:Ba(V.field),direction:nC(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function tC(r){let t=Y2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=XT(b);return V instanceof Li&&wT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function($){return new nh(qa($.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,dh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(b){const V=!!b.before,G=b.values||[];return new eh(G,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const V=!b.before,G=b.values||[];return new eh(G,V)})(i.endAt)),p2(t,l,d,c,p,"F",_,y)}function eC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>XT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function nC(r){return H2[r]}function iC(r){return G2[r]}function rC(r){return F2[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return $e.fromServerFormat(r.fieldPath)}function JT(r){return r instanceof Me?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:iC(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const a=i.getFilters().map((l=>JT(l)));return a.length===1?a[0]:{compositeFilter:{op:rC(i.op),filters:a}}})(r):vt(54877,{filter:r})}function sC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function $T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function ZT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Zr{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Ze.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class aC{constructor(t){this.yt=t}}function oC(r){const t=tC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class lC{constructor(){this.Sn=new uC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class uC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ke(fe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ke(fe.comparator)).toArray()}}const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WT=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(WT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class eo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new eo(0)}static ar(){return new eo(-1)}}const jv="LruGarbageCollector",cC=1048576;function Bv([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class hC{constructor(t){this.Pr=t,this.buffer=new ke(Bv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?ot(jv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Ar(3e5)}))}}class dC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(fh.ce);const a=new hC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(zv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),za()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function mC(r,t){return new dC(r,t)}class gC{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class yC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&wl(a.mutation,l,Cn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=hr();const d=bl(),p=(function(){return bl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof hs)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),wl(A.mutation,y,A.mutation.getFieldMask(),le.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new pC(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new de(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Cn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const b=(l.get(p.batchId)||Ut()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=xT();A.forEach((V=>{if(!c.has(V)){const G=zT(i.get(V),a.get(V));G!==null&&b.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return y2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(qs());let p=Il,_=c;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ut()))).next((A=>({batchId:p,changes:VT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,V){return new gh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,nn.newInvalidDocument(A)))}));let p=yl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&wl(A.mutation,y,Cn.empty(),le.now()),_h(i,y)&&(p=p.insert(_,y))})),p}))}}class _C{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:oC(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),X.resolve()}}class vC{constructor(){this.overlays=new de(gt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=qs(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=qs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=qs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new L2(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class TC{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.kr=new ke(qe.Kr),this.qr=new ke(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new qe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new qe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new fe([])),a=new qe(i,t),l=new qe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new fe([])),a=new qe(i,t),l=new qe(i,t+1);let c=Ut();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new qe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class qe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class EC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ke(qe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new U2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new qe(i,0),l=new qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(kt);return i.forEach((l=>{const c=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new qe(new gt(c),0);let p=new ke(kt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new qe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AC{constructor(t){this.ti=t,this.docs=(function(){return new de(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=hr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=hr();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||KR(QR(A),a)<=0||(l.has(A.key)||_h(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new SC(this)}getSize(t){return X.resolve(this.size)}}class SC extends gC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class bC{constructor(t){this.persistence=t,this.ri=new Js((i=>km(i)),Um),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=eo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class tE{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new TC,this.referenceDelegate=t(this),this.li=new bC(this),this.indexManager=new lC,this.remoteDocumentCache=(function(l){return new AC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new aC(i),this.Pi=new _C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new vC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new EC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new wC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class wC extends XR{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=gt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Js((a=>ZR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=mC(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class RC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class CC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hS()?8:JR(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new RC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(za()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(za()<=Mt.DEBUG&&ot("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(za()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):X.resolve())}gs(t,i){if(Dv(i))return X.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,am(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Dv(i)||l.isEqual(Et.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(za()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.Ds(t,d,i,FR(l,Il)).next((p=>p)))}))}bs(t,i){let a=new ke(NT(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return za()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ja(i)),this.fs.getDocumentsMatchingQuery(t,i,rs.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",IC=3e8;class DC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new de(kt),this.Fs=new Js((c=>km(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function NC(r,t,i,a){return new DC(r,t,i,a)}async function eE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ut();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function OC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,V=b.keys();let G=X.resolve();return V.forEach(($=>{G=G.next((()=>A.getEntry(_,$))).next((nt=>{const tt=y.docVersions.get($);Yt(tt!==null,48541),nt.version.compareTo(tt)<0&&(b.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function nE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function VC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Ze.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(b,G),(function(nt,tt,mt){return nt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=IC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,G,A)&&p.push(i.li.updateTargetData(c,G))}));let _=hr(),y=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(xC(c,d,t.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!a.isEqual(Et.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function xC(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=hr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(Gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function MC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function kC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=St(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;ot(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function qv(r,t,i){const a=St(r);let l=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=St(_),V=b.Fs.get(A);return V!==void 0?X.resolve(b.vs.get(V)):b.li.getTargetData(y,A)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Ut()))).next((p=>(UC(a,T2(t),p),{documents:p,ks:c})))))}function UC(r,t,i){let a=r.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Hv{constructor(){this.activeTargetIds=R2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LC{constructor(){this.vo=new Hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PC{Mo(t){}shutdown(){}}const Gv="ConnectivityMonitor";class Fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function fm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Hd="RestConnection",zC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=fm(),p=this.Qo(t,i.toUriEncodedString());ot(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),A=ro(y);return this.zo(t,p,_,a,A).then((b=>(ot(Hd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ys(Hd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=zC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class BC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",gl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ka extends jC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ka.c_){const t=lT();gl(t,oT.STAT_EVENT,(i=>{i.stat===tm.PROXY?ot(tn,"STAT_EVENT: detected buffering proxy"):i.stat===tm.NOPROXY&&ot(tn,"STAT_EVENT: detected no buffering proxy")})),Ka.c_=!0}}zo(t,i,a,l,c){const d=fm();return new Promise(((p,_)=>{const y=new sT;y.setWithCredentials(!0),y.listenOnce(aT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();ot(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Pc.TIMEOUT:ot(tn,`RPC '${t}' ${d} timed out`),_(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=y.getStatus();if(ot(tn,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const nt=(function(mt){const ht=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ht)>=0?ht:J.UNKNOWN})($.status);_(new ct(nt,$.message))}else _(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(tn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(tn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=fm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");ot(tn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let b=!1,V=!1;const G=new BC({Ho:$=>{V?ot(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(b||(ot(tn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),ot(tn,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Jo:()=>A.close()});return gl(A,pl.EventType.OPEN,(()=>{V||(ot(tn,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),gl(A,pl.EventType.CLOSE,(()=>{V||(V=!0,ot(tn,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(A))})),gl(A,pl.EventType.ERROR,($=>{V||(V=!0,Ys(tn,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),G.o_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),gl(A,pl.EventType.MESSAGE,($=>{if(!V){const nt=$.data[0];Yt(!!nt,16349);const tt=nt,mt=tt?.error||tt[0]?.error;if(mt){ot(tn,`RPC '${t}' stream ${l} received error:`,mt);const ht=mt.status;let yt=(function(Nt){const I=De[Nt];if(I!==void 0)return qT(I)})(ht),Ht=mt.message;ht==="NOT_FOUND"&&Ht.includes("database")&&Ht.includes("does not exist")&&Ht.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),yt===void 0&&(yt=J.INTERNAL,Ht="Unknown error status: "+ht+" with message "+mt.message),V=!0,G.o_(new ct(yt,Ht)),A.close()}else ot(tn,`RPC '${t}' stream ${l} received:`,nt),G.__(nt)}})),Ka.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return uT()}}function qC(r){return new Ka(r)}function Gd(){return typeof document<"u"?document:null}function Ah(r){return new Q2(r,!0)}Ka.c_=!1;class iE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Qv="PersistentStream";class rE{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(cr(i.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HC extends rE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=X2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Mi(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=sm(_)?{documents:Z2(c,_)}:{query:W2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FT(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=eC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.K_(i)}}class GC extends rE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$2(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>J2(this.serializer,a)))};this.K_(i)}}class FC{}class QC extends FC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,lm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KC(r,t,i,a){return new QC(r,t,i,a)}class YC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class XC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{$s(this)&&(ot(Xs,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Kl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Va=new YC(a,l)}}async function Sh(r){if($s(r))for(const t of r.Ra)await t(!0)}async function Kl(r){for(const t of r.Ra)await t(!1)}function sE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Km(i):co(i).O_()&&Qm(i,t))}function Fm(r,t){const i=St(r),a=co(i);i.Ia.delete(t),a.O_()&&aE(i,t),i.Ia.size===0&&(a.O_()?a.L_():$s(i)&&i.Va.set("Unknown"))}function Qm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(r).Z_(t)}function aE(r,t){r.da.$e(t),co(r).X_(t)}function Km(r){r.da=new q2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Va.ua()}function Ym(r){return $s(r)&&!co(r).x_()&&r.Ia.size>0}function $s(r){return St(r).Ea.size===0}function oE(r){r.da=void 0}async function JC(r){r.Va.set("Online")}async function $C(r){r.Ia.forEach(((t,i)=>{Qm(r,t)}))}async function ZC(r,t){oE(r),Ym(r)?(r.Va.ha(t),Km(r)):r.Va.set("Unknown")}async function WC(r,t,i){if(r.Va.set("Online"),t instanceof GT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){ot(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof qc?r.da.Xe(t):t instanceof HT?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const a=await nE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ze.EMPTY_BYTE_STRING,A.snapshotVersion)),aE(c,_);const b=new Zr(A.target,_,y,A.sequenceNumber);Qm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Xs,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!uo(t))throw t;r.Ea.add(1),await Kl(r),r.Va.set("Offline"),i||(i=()=>nE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Xs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function lE(r,t){return t().catch((i=>ah(r,i,t)))}async function bh(r){const t=St(r),i=ls(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;tI(t);)try{const l=await MC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,eI(t,l)}catch(l){await ah(t,l)}uE(t)&&cE(t)}function tI(r){return $s(r)&&r.Ta.length<10}function eI(r,t){r.Ta.push(t);const i=ls(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function uE(r){return $s(r)&&!ls(r).x_()&&r.Ta.length>0}function cE(r){ls(r).start()}async function nI(r){ls(r).ra()}async function iI(r){const t=ls(r);for(const i of r.Ta)t.ea(i.mutations)}async function rI(r,t,i){const a=r.Ta.shift(),l=Pm.from(a,t,i);await lE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function sI(r,t){t&&ls(r).Y_&&await(async function(a,l){if((function(d){return z2(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();ls(a).B_(),await lE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),uE(r)&&cE(r)}async function Kv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Xs,"RemoteStore received new credentials");const a=$s(i);i.Ea.add(3),await Kl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function aI(r,t){const i=St(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Kl(i),i.Va.set("Unknown"))}function co(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new HC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:JC.bind(null,r),Yo:$C.bind(null,r),t_:ZC.bind(null,r),J_:WC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Ym(r)?Km(r):r.Va.set("Unknown")):(await r.ma.stop(),oE(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new GC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nI.bind(null,r),t_:sI.bind(null,r),ta:iI.bind(null,r),na:rI.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Xm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(cr("AsyncQueue",`${t}: ${r}`),uo(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Yv{constructor(){this.ga=new de(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class no{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class oI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class lI{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Xv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Xv(){return new Js((r=>DT(r)),yh)}async function hE(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new oI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function fE(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function uI(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function cI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(r){r.Ca.forEach((t=>{t.next()}))}var dm,Jv;(Jv=dm||(dm={})).Ma="default",Jv.Cache="cache";class dE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class mE{constructor(t){this.key=t}}class gE{constructor(t){this.key=t}}class hI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=NT(t),this.tu=new Ya(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),G=_h(this.query,b)?b:null,$=!!V&&this.mutatedKeys.has(V.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;V&&G?V.data.isEqual(G.data)?$!==nt&&(a.track({type:3,doc:G}),tt=!0):this.su(V,G)||(a.track({type:2,doc:G}),tt=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),tt=!0):V&&!G&&(a.track({type:1,doc:V}),tt=!0,(_||y)&&(p=!0)),tt&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,$){const nt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:tt})}};return nt(G)-nt($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new gE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new mE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class fI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class dI{constructor(t){this.key=t,this.hu=!1}}class mI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Js((p=>DT(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new de(gt.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gI(r,t,i=!0){const a=EE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pE(a,t,i,!0),l}async function pI(r,t){const i=EE(r);await pE(i,t,!0,!1)}async function pE(r,t,i,a){const l=await kC(r.localStore,Vi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await yI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&sE(r.remoteStore,l),p}async function yI(r,t,i,a,l){r.pu=(b,V,G)=>(async function(nt,tt,mt,ht){let yt=tt.view.ru(mt);yt.Ss&&(yt=await qv(nt.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,yt))));const Ht=ht&&ht.targetChanges.get(tt.targetId),Zt=ht&&ht.targetMismatches.get(tt.targetId)!=null,Nt=tt.view.applyChanges(yt,nt.isPrimaryClient,Ht,Zt);return Zv(nt,tt.targetId,Nt.au),Nt.snapshot})(r,b,V,G);const c=await qv(r.localStore,t,!0),d=new hI(t,c.ks),p=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Zv(r,i,y.au);const A=new fI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function _I(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(lo)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function vI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function TI(r,t,i){const a=CI(r);try{const l=await(function(d,p){const _=St(d),y=le.now(),A=p.reduce(((G,$)=>G.add($.key)),Ut());let b,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=hr(),nt=Ut();return _.xs.getEntries(G,A).next((tt=>{$=tt,$.forEach(((mt,ht)=>{ht.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,$))).next((tt=>{b=tt;const mt=[];for(const ht of p){const yt=M2(ht,b.get(ht.key).overlayedDocument);yt!=null&&mt.push(new hs(ht.key,yt,AT(yt.value.mapValue),xi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,mt,p)})).next((tt=>{V=tt;const mt=tt.applyToLocalDocumentSet(b,nt);return _.documentOverlayCache.saveOverlays(G,tt.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:VT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new de(kt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function yE(r,t){const i=St(r);try{const a=await VC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await lo(a)}}function $v(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const V of b.ba)V.va(p)&&(y=!0)})),y&&$m(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function EI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(gt.comparator);d=d.insert(c,nn.newNoDocument(c,Et.min()));const p=Ut().add(c),_=new Eh(Et.min(),new Map,new de(kt),d,p);await yE(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(lo)}async function AI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await OC(i.localStore,t);vE(i,a,null),_E(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await lo(l)}}async function SI(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Yt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);vE(a,t,i),_E(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await lo(l)}}function _E(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function vE(r,t,i){const a=St(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||TE(r,a)}))}function TE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Fm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Wm(r))}function Zv(r,t,i){for(const a of i)a instanceof mE?(r.Vu.addReference(a.key,t),bI(r,a)):a instanceof gE?(ot(Zm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||TE(r,a.key)):vt(19791,{wu:a})}function bI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(ot(Zm,"New document in limbo: "+i),r.Eu.add(a),Wm(r))}function Wm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new dI(i)),r.Ru=r.Ru.insert(i,a),sE(r.remoteStore,new Zr(Vi(ph(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Yl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Hm.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(V=>X.forEach(V.Ts,(G=>A.persistence.referenceDelegate.addReference(b,V.targetId,G))).next((()=>X.forEach(V.Is,(G=>A.persistence.referenceDelegate.removeReference(b,V.targetId,G)))))))))}catch(b){if(!uo(b))throw b;ot(Gm,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const G=A.vs.get(V),$=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion($);A.vs=A.vs.insert(V,nt)}}})(a.localStore,c))}async function wI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ot(Zm,"User change. New user:",t.toKey());const a=await eE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function RI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function EE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EI.bind(null,t),t.Pu.J_=uI.bind(null,t.eventManager),t.Pu.yu=cI.bind(null,t.eventManager),t}function CI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SI.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return NC(this.persistence,new CC,t.initialUser,this.serializer)}Cu(t){return new tE(qm.Vi,this.serializer)}Du(t){return new LC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class II extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new tE((a=>sh.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,this.syncEngine),await aI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new lI})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=qC(t.databaseInfo);return KC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new XC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Fv.v()?new Fv:new PC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new mI(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);ot(Xs,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class AE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const us="FirestoreClient";class DI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(us,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await eE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await NI(r);ot(us,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),r._onlineComponents=t}async function NI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(us,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ys("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new oh)}}else ot(us,"Using default OfflineComponentProvider"),await Fd(r,new II(void 0));return r._offlineComponents}async function SE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(us,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(ot(us,"Using default OnlineComponentProvider"),await Wv(r,new gm))),r._onlineComponents}function OI(r){return SE(r).then((t=>t.syncEngine))}async function pm(r){const t=await SE(r),i=t.eventManager;return i.onListen=gI.bind(null,t.syncEngine),i.onUnlisten=_I.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vI.bind(null,t.syncEngine),i}function VI(r,t,i,a){const l=new AE(a),c=new dE(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>hE(await pm(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>fE(await pm(r),c)))}}function xI(r,t,i={}){const a=new is;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new AE({next:V=>{A.Nu(),d.enqueueAndForget((()=>fE(c,b)));const G=V.docs.has(p);!G&&V.fromCache?y.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&_&&_.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),b=new dE(ph(p.path),A,{includeMetadataChanges:!0,Ka:!0});return hE(c,b)})(await pm(r),r.asyncQueue,t,i,a))),a.promise}function MI(r,t){const i=new is;return r.asyncQueue.enqueueAndForget((async()=>TI(await OI(r),t,i))),i.promise}function bE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const kI="ComponentProvider",t0=new Map;function UI(r,t,i,a,l){return new e2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,bE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const wE="firestore.googleapis.com",e0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=e0}else this.host=t.host,this.ssl=t.ssl??e0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cC)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new xR;switch(a.type){case"firstParty":return new LR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(ot(kI,"Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function LI(r,t,i,a={}){r=Oi(r,tg);const l=ro(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(v0(`https://${p}`),T0("Firestore",!0)),c.host!==wE&&c.host!==p&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Gs(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=en.MOCK_USER;else{y=nS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(b)}r._authCredentials=new MR(new hT(y,A))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Oe._jsonSchema))return new Oe(t,a||null,new gt(fe.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Ne("string",Oe._jsonSchemaVersion),referencePath:Ne("string")};class kl extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new gt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function Nc(r,t,...i){if(r=ln(r),arguments.length===1&&(t=Nm.newId()),HR("doc","path",t),r instanceof tg){const a=fe.fromString(t,...i);return pv(a),new Oe(r,null,new gt(a))}{if(!(r instanceof Oe||r instanceof kl))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return pv(a),new Oe(r.firestore,r instanceof kl?r.converter:null,new gt(a))}}const i0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iE(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&ot(i0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;ot(i0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",s0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:s0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function s0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class io extends tg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function PI(r,t){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:Wc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=tS("firestore");c&&LI(l,...c)}return l}function eg(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zI(r),r._firestoreClient}function zI(r){const t=r._freezeSettings(),i=UI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new DI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Ze.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ne("string",qn._jsonSchemaVersion),bytes:Ne("string")};class ng{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ne("string",ki._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ii(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ne("string",ii._jsonSchemaVersion),vectorValues:Ne("object")};const jI=/^__.*__$/;class BI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class RE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:r})}}class ig{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(CE(this.dataSource)&&jI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class qI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,l=!1){return new ig({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IE(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new qI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function HI(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);sg("Data must be an object, but it was:",d,a);const p=DE(a,d);let _,y;if(c.merge)_=new Cn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=Ul(t,b,i);if(!d.contains(V))throw new ct(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);VE(A,V)||A.push(V)}_=new Cn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new BI(new yn(p),_,y)}class Ch extends Rh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}class rg extends Rh{_toFieldTransform(t){return new N2(t.path,new Vl)}isEqual(t){return t instanceof rg}}function GI(r,t,i,a){const l=r.createContext(1,t,i);sg("Data must be an object, but it was:",l,a);const c=[],d=yn.empty();cs(a,((_,y)=>{const A=OE(t,_,i);y=ln(y);const b=l.childContextForFieldPath(A);if(y instanceof Ch)c.push(A);else{const V=Ih(y,b);V!=null&&(c.push(A),d.set(A,V))}}));const p=new Cn(c);return new RE(d,p,l.fieldTransforms)}function FI(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[Ul(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Ul(t,c[V])),_.push(c[V+1]);const y=[],A=yn.empty();for(let V=p.length-1;V>=0;--V)if(!VE(y,p[V])){const G=p[V];let $=_[V];$=ln($);const nt=d.childContextForFieldPath(G);if($ instanceof Ch)y.push(G);else{const tt=Ih($,nt);tt!=null&&(y.push(G),A.set(G,tt))}}const b=new Cn(y);return new RE(A,b,d.fieldTransforms)}function Ih(r,t){if(NE(r=ln(r)))return sg("Unsupported field value:",t,r),DE(r,t);if(r instanceof Rh)return(function(a,l){if(!CE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Ih(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return C2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:FT(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ii)return(function(d,p){const _=d instanceof ii?d.toArray():d;return{mapValue:{fields:{[TT]:{stringValue:ET},[th]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,A)}))}}}}}})(a,l);if(ZT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Om(a)}`)})(r,t)}function DE(r,t){const i={};return mT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(r,((a,l)=>{const c=Ih(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function NE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof ki||r instanceof qn||r instanceof Oe||r instanceof Rh||r instanceof ii||ZT(r))}function sg(r,t,i){if(!NE(i)||!fT(i)){const a=Om(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Ul(r,t,i){if((t=ln(t))instanceof ng)return t._internalPath;if(typeof t=="string")return OE(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const QI=new RegExp("[~\\*/\\[\\]]");function OE(r,t,i){if(t.search(QI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ng(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(J.INVALID_ARGUMENT,p+r+_)}function VE(r,t){return r.some((i=>i.isEqual(t)))}class KI{convertValue(t,i="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>Te(a.doubleValue)));return new ii(i)}convertGeoPoint(t){return new ki(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=ss(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Yt($T(a),9688,{name:t});const l=new Nl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||cr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class xE extends KI{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function YI(){return new rg("serverTimestamp")}const a0="@firebase/firestore",o0="4.11.0";function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ME{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ul("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XI extends ME{data(){return super.data()}}function JI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function $I(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends ME{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ul("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Ne("string",Hs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Hc extends Hs{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:ZI(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ne("string",Xa._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function WI(r){r=Oi(r,Oe);const t=Oi(r.firestore,io),i=eg(t);return xI(i,r._key).then((a=>UE(t,r,a)))}function tD(r,t,i){r=Oi(r,Oe);const a=Oi(r.firestore,io),l=$I(r.converter,t),c=IE(a);return kE(a,[HI(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,xi.none())])}function u0(r,t,i,...a){r=Oi(r,Oe);const l=Oi(r.firestore,io),c=IE(l);let d;return d=typeof(t=ln(t))=="string"||t instanceof ng?FI(c,"updateDoc",r._key,t,i,a):GI(c,"updateDoc",r._key,t),kE(l,[d.toMutation(r._key,xi.exists(!0))])}function eD(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Oe)d=Oi(r.firestore,io),p=ph(r._key.path),c={next:y=>{t[a]&&t[a](UE(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Oi(r,wh);d=Oi(y.firestore,io),p=y._query;const A=new xE(d);c={next:b=>{t[a]&&t[a](new Xa(d,A,y,b))},error:t[a+1],complete:t[a+2]},JI(r._query)}const _=eg(d);return VI(_,p,l,c)}function kE(r,t){const i=eg(r);return MI(i,t)}function UE(r,t,i){const a=i.docs.get(t._key),l=new xE(r);return new Hs(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){VR(so),$a(new Fs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new io(new kR(a.getProvider("auth-internal")),new PR(d,a.getProvider("app-check-internal")),n2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),es(a0,o0,t),es(a0,o0,"esm2020")})();const nD=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTq4Qbx2er_KwwLQDJZpLiSY09vqqEJfY",authDomain:"grift-game.firebaseapp.com",projectId:"grift-game",storageBucket:"grift-game.firebasestorage.app",messagingSenderId:"1073068754785",appId:"1:1073068754785:web:4428c1fa4fa00177dfa720"},LE=S0(nD),Oc=NR(LE),Vc=PI(LE),xc=typeof __app_id<"u"?__app_id:"grift-prod",He={ctx:null,init:()=>{if(!He.ctx){const r=window.AudioContext||window.webkitAudioContext;r&&(He.ctx=new r)}He.ctx&&He.ctx.state==="suspended"&&He.ctx.resume()},play:r=>{He.ctx||He.init();const t=He.ctx;if(!t)return;const i=t.currentTime;if(r==="tick"){const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(800,i),l.gain.setValueAtTime(.01,i),l.gain.exponentialRampToValueAtTime(.001,i+.03),a.start(i),a.stop(i+.05)}else if(r==="place"){const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(180,i),a.frequency.exponentialRampToValueAtTime(40,i+.08),l.gain.setValueAtTime(0,i),l.gain.linearRampToValueAtTime(.4,i+.005),l.gain.exponentialRampToValueAtTime(.001,i+.1),a.start(i),a.stop(i+.1);const c=t.createOscillator(),d=t.createGain();c.connect(d),d.connect(t.destination),c.type="triangle",c.frequency.setValueAtTime(1200,i),c.frequency.exponentialRampToValueAtTime(200,i+.02),d.gain.setValueAtTime(0,i),d.gain.linearRampToValueAtTime(.05,i+.002),d.gain.exponentialRampToValueAtTime(.001,i+.03),c.start(i),c.stop(i+.05)}else if(r==="rotate"){const a=t.sampleRate*.6,l=t.createBuffer(1,a,t.sampleRate),c=l.getChannelData(0);for(let b=0;b<a;b++)c[b]=Math.random()*2-1;const d=t.createBufferSource();d.buffer=l;const p=t.createBiquadFilter();p.type="lowpass",p.frequency.setValueAtTime(400,i),p.frequency.linearRampToValueAtTime(250,i+.6);const _=t.createGain();_.gain.setValueAtTime(0,i),_.gain.linearRampToValueAtTime(.3,i+.1),_.gain.linearRampToValueAtTime(0,i+.6),d.connect(p),p.connect(_),_.connect(t.destination),d.start(i),d.stop(i+.6);const y=t.createOscillator(),A=t.createGain();y.connect(A),A.connect(t.destination),y.type="sine",y.frequency.setValueAtTime(50,i),A.gain.setValueAtTime(0,i),A.gain.linearRampToValueAtTime(.15,i+.1),A.gain.linearRampToValueAtTime(0,i+.6),y.start(i),y.stop(i+.6)}else r==="win"&&[440,554,659].forEach(a=>{const l=t.createOscillator(),c=t.createGain();l.connect(c),c.connect(t.destination),l.type="sine",l.frequency.value=a,c.gain.setValueAtTime(.1,i),c.gain.exponentialRampToValueAtTime(.001,i+1.5),l.start(i),l.stop(i+1.5)})}},iD=r=>{const t=r,i=r*2+1,a=[[{r:t,c:t}]];for(let l=1;l<=r;l++){const c=[],d=t-l,p=t+l;for(let _=p;_>d;_--)c.push({r:d,c:_});for(let _=d;_<p;_++)c.push({r:_,c:d});for(let _=d;_<p;_++)c.push({r:p,c:_});for(let _=p;_>d;_--)c.push({r:_,c:p});a.push(c)}return{rings:a,center:t,size:i}},rD=r=>r+2,sD=()=>Math.random().toString(36).substring(2,8).toUpperCase(),Ja=({children:r,delay:t=0,className:i=""})=>Q.jsx("div",{className:`animate-in fade-in slide-in-from-bottom-4 duration-700 fill-mode-backwards ${i}`,style:{animationDelay:`${t}ms`},children:r}),c0=({time:r,isActive:t,label:i})=>{const a=Math.floor(r/60),l=r%60;return Kt.useEffect(()=>{t&&r%1===0&&He.play("tick")},[r,t]),Q.jsxs("div",{className:`flex flex-col items-center transition-all duration-500 ${t?"opacity-100 scale-100":"opacity-40 scale-95"}`,children:[Q.jsx("span",{className:"text-[9px] uppercase tracking-[0.2em] text-gray-600 mb-2 font-medium",children:i}),Q.jsxs("div",{className:`font-mono text-xl border-2 px-3 py-1.5 rounded-md transition-all duration-300 relative overflow-hidden ${t?r<=30?"border-red-500/50 text-red-400 bg-red-950/20":"border-white/20 text-white bg-white/5":"border-zinc-800 text-gray-700 bg-zinc-950/50"}`,children:[t&&Q.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}}),Q.jsxs("span",{className:"relative z-10 tabular-nums",children:[a,":",l.toString().padStart(2,"0")]})]})]})},aD=({piece:r,boardSize:t,rings:i})=>{if(!i||!i[r.ringIdx])return null;const{r:a,c:l}=i[r.ringIdx][r.index],c=r.player===1;return Q.jsx("div",{className:"absolute flex items-center justify-center transition-all duration-700 ease-[cubic-bezier(0.34,1.56,0.64,1)] pointer-events-none",style:{top:`${a/t*100}%`,left:`${l/t*100}%`,width:`${100/t}%`,height:`${100/t}%`,zIndex:5},children:Q.jsx("div",{className:`w-[70%] h-[70%] rounded-full relative animate-in zoom-in duration-500 ${c?"bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 shadow-[0_2px_8px_rgba(255,255,255,0.3)]":"bg-gradient-to-br from-zinc-800 via-zinc-900 to-black shadow-[0_2px_8px_rgba(0,0,0,0.6)]"}`,children:Q.jsx("div",{className:`absolute top-[20%] left-[25%] w-[30%] h-[25%] rounded-full blur-sm ${c?"bg-white/40":"bg-white/10"}`})})})},oD=({onStartLocal:r,onStartOnline:t})=>Q.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center space-y-12 relative overflow-hidden bg-black",children:[Q.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}}),Q.jsxs(Ja,{delay:100,className:"relative z-10",children:[Q.jsx("h1",{className:"text-8xl font-black tracking-[-0.02em] text-white mb-3",children:"GRIFT"}),Q.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-600 font-medium",children:"Mechanical Logic Engine"})]}),Q.jsxs("div",{className:"flex flex-col gap-4 relative z-10 w-full max-w-xs",children:[Q.jsx(Ja,{delay:300,children:Q.jsxs("button",{onClick:r,className:"w-full py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-gray-200 rounded-sm flex items-center justify-center gap-2",children:[Q.jsx(qA,{size:18})," Local Play"]})}),Q.jsx(Ja,{delay:400,children:Q.jsxs("button",{onClick:t,className:"w-full py-4 bg-zinc-900 border border-zinc-700 text-gray-300 font-bold uppercase tracking-widest hover:border-white hover:text-white rounded-sm flex items-center justify-center gap-2",children:[Q.jsx(GA,{size:18})," Online Play"]})})]})]}),lD=({onHost:r,onJoin:t,onBack:i,joinCode:a,setJoinCode:l})=>Q.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 w-full max-w-sm mx-auto bg-black",children:Q.jsxs(Ja,{className:"w-full space-y-8",children:[Q.jsx("h2",{className:"text-center text-xl font-mono text-gray-300 uppercase tracking-widest",children:"Multiplayer"}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsx("button",{onClick:r,className:"w-full py-6 bg-zinc-900 border border-zinc-800 hover:border-white text-gray-300 hover:text-white uppercase tracking-widest transition-all",children:"Host Game"}),Q.jsxs("div",{className:"relative",children:[Q.jsx("div",{className:"absolute inset-0 flex items-center",children:Q.jsx("div",{className:"w-full border-t border-zinc-800"})}),Q.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:Q.jsx("span",{className:"bg-black px-2 text-gray-600",children:"Or Join"})})]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("input",{type:"text",placeholder:"ENTER CODE",maxLength:6,value:a,onChange:c=>l(c.target.value.toUpperCase()),className:"flex-1 bg-zinc-900 border border-zinc-800 text-center text-white font-mono uppercase tracking-widest focus:border-white focus:outline-none p-4"}),Q.jsx("button",{onClick:t,disabled:a.length<4,className:"bg-white text-black px-6 font-bold uppercase hover:bg-gray-200 disabled:opacity-50",children:"Join"})]})]}),Q.jsx("button",{onClick:i,className:"w-full text-center text-xs text-gray-600 hover:text-white uppercase tracking-widest mt-8",children:"Back"})]})}),uD=({gameId:r,onCancel:t})=>Q.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-black",children:Q.jsxs(Ja,{className:"text-center space-y-8",children:[Q.jsxs("div",{className:"animate-pulse",children:[Q.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-4 shadow-[0_0_10px_#22c55e]"}),Q.jsx("h2",{className:"text-xl font-mono text-gray-300 uppercase tracking-widest",children:"Waiting for Opponent"})]}),Q.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-sm",children:[Q.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest mb-2",children:"Game Code"}),Q.jsxs("div",{className:"text-6xl font-black text-white font-mono tracking-wider flex items-center gap-4 justify-center",children:[r,Q.jsx("button",{onClick:()=>navigator.clipboard.writeText(r),className:"p-2 hover:text-gray-400 transition-colors",children:Q.jsx(NA,{size:24})})]})]}),Q.jsx("button",{onClick:t,className:"text-xs text-red-500 hover:text-red-400 uppercase tracking-widest",children:"Cancel Lobby"})]})}),h0=({config:r,setConfig:t,isOnline:i,onStart:a,onBack:l})=>Q.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 w-full max-w-lg mx-auto bg-black",children:Q.jsxs(Ja,{className:"w-full space-y-8",children:[Q.jsx("h2",{className:"text-center text-xl font-mono text-gray-300 uppercase tracking-[0.2em]",children:"Setup Protocol"}),Q.jsxs("div",{className:"space-y-5 bg-zinc-950/50 border border-zinc-900 p-6 rounded-lg",children:[Q.jsxs("div",{className:"flex justify-between items-end text-xs text-gray-500 uppercase",children:[Q.jsx("span",{children:"Rings"}),Q.jsx("span",{className:"text-white font-mono text-lg",children:r.rings})]}),Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx("button",{onClick:()=>t(c=>({...c,rings:Math.max(2,c.rings-1)})),disabled:r.rings<=2,className:"w-12 h-12 flex items-center justify-center border-2 border-zinc-800 hover:border-white text-gray-500 hover:text-white rounded-sm disabled:opacity-30",children:Q.jsx(UA,{size:18})}),Q.jsx("div",{className:"flex-1 h-[2px] bg-zinc-800",children:Q.jsx("div",{className:"h-full bg-white transition-all",style:{width:`${(r.rings-2)/3*100}%`}})}),Q.jsx("button",{onClick:()=>t(c=>({...c,rings:Math.min(5,c.rings+1)})),disabled:r.rings>=5,className:"w-12 h-12 flex items-center justify-center border-2 border-zinc-800 hover:border-white text-gray-500 hover:text-white rounded-sm disabled:opacity-30",children:Q.jsx(PA,{size:18})})]})]}),Q.jsxs("div",{className:"space-y-4 bg-zinc-950/50 border border-zinc-900 p-6 rounded-lg",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-gray-500 uppercase",children:[Q.jsx("span",{children:"Timers"}),Q.jsxs("span",{className:"text-white font-mono",children:[r.timeP1," min"]})]}),Q.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:r.timeP1,onChange:c=>t(d=>({...d,timeP1:Number(c.target.value),timeP2:Number(c.target.value)})),className:"w-full h-1 bg-zinc-800 appearance-none rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full"})]}),Q.jsx("button",{onClick:a,className:"w-full py-5 bg-white text-black font-bold uppercase tracking-[0.2em] hover:bg-gray-200 rounded-sm shadow-lg shadow-white/10",children:i?"Create Lobby":"Initialize Grid"}),Q.jsx("button",{onClick:l,className:"w-full text-center text-xs text-gray-600 hover:text-white uppercase tracking-widest mt-4",children:"Back"})]})});function cD(){const[r,t]=Kt.useState(null),[i,a]=Kt.useState("home"),[l,c]=Kt.useState("local"),[d,p]=Kt.useState(""),[_,y]=Kt.useState(""),[A,b]=Kt.useState({rings:3,timeP1:5,timeP2:5}),[V,G]=Kt.useState([]),[$,nt]=Kt.useState(1),[tt,mt]=Kt.useState(!1),[ht,yt]=Kt.useState(null),[Ht,Zt]=Kt.useState([]),[Nt,I]=Kt.useState({1:300,2:300}),[S,C]=Kt.useState(!1),[x,D]=Kt.useState(!1),[k,w]=Kt.useState(null),[zt,ue]=Kt.useState(null),j=Kt.useMemo(()=>iD(A.rings),[A.rings]),W=Kt.useMemo(()=>rD(A.rings),[A.rings]),ft=Kt.useMemo(()=>{const it=new Map;return j.rings.forEach((at,rt)=>at.forEach(bt=>it.set(`${bt.r},${bt.c}`,rt))),it},[j]);Kt.useEffect(()=>((async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await pw(Oc,__initial_auth_token)}catch(at){console.error("Auth Error (Sandbox):",at),await iv(Oc)}else await iv(Oc)})(),vw(Oc,t)),[]),Kt.useEffect(()=>{if(l!=="online"||!d||!r)return;const it=eD(Nc(Vc,"artifacts",xc,"public","data","games",d),at=>{if(!at.exists())return;const rt=at.data();b(rt.config),G(rt.pieces),nt(rt.currentPlayer),mt(rt.hasPlaced),yt(rt.winner),C(rt.status==="active"),rt.hostId===r.uid?ue(1):rt.guestId===r.uid&&ue(2),i==="lobby"&&rt.status==="active"&&(a("game"),He.play("place")),rt.timers&&I(rt.timers)});return()=>it()},[d,l,r,i]),Kt.useEffect(()=>{let it=null;return i==="game"&&S&&!ht&&!x&&(it=setInterval(()=>{I(at=>{const rt=at[$];return rt<=0?(l==="local"&&yt($===1?2:1),at):{...at,[$]:rt-1}})},1e3)),()=>clearInterval(it)},[i,S,$,ht,x,l]);const Ot=Kt.useCallback((it,at=j)=>{const{size:rt}=at,bt=Array(rt).fill(null).map(()=>Array(rt).fill(null));it.forEach(ie=>{if(!at.rings[ie.ringIdx])return;const{r:Qt,c:Le}=at.rings[ie.ringIdx][ie.index];bt[Qt][Le]=ie.player});const Ue=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}];for(let ie=0;ie<rt;ie++)for(let Qt=0;Qt<rt;Qt++){const Le=bt[ie][Qt];if(Le)for(const{dr:Pe,dc:ri}of Ue){let Hn=[];for(let si=0;si<W;si++){const ai=ie+Pe*si,se=Qt+ri*si;if(ai>=0&&ai<rt&&se>=0&&se<rt&&bt[ai][se]===Le)Hn.push({r:ai,c:se});else break}if(Hn.length===W)return{winner:Le,line:Hn}}}return null},[j,W]),jt=async it=>{d&&await u0(Nc(Vc,"artifacts",xc,"public","data","games",d),it)},O=async(it,at)=>{if(ht||tt||l==="online"&&(zt!==$||!S))return;let rt=null;for(let Qt=0;Qt<j.rings.length;Qt++){const Le=j.rings[Qt].findIndex(Pe=>Pe.r===it&&Pe.c===at);if(Le!==-1){rt={ringIdx:Qt,index:Le};break}}if(!rt||rt.ringIdx===0||V.some(Qt=>Qt.ringIdx===rt.ringIdx&&Qt.index===rt.index))return;He.play("place");const bt={id:Date.now(),player:$,ringIdx:rt.ringIdx,index:rt.index},Ue=[...V,bt],ie=Ot(Ue);if(l==="local")G(Ue),mt(!0),S||C(!0),ie&&(yt(ie.winner),Zt(ie.line),He.play("win"));else{const Qt={pieces:Ue,hasPlaced:!0};ie&&(Qt.winner=ie.winner,Qt.status="complete"),await jt(Qt),ie&&(Zt(ie.line),He.play("win"))}},K=async()=>{if(!tt||ht||l==="online"&&zt!==$)return;He.play("rotate");const it=V.map(rt=>{if(!j.rings[rt.ringIdx])return rt;const bt=j.rings[rt.ringIdx].length;return{...rt,index:(rt.index+1)%bt}}),at=Ot(it);if(l==="local")G(it),mt(!1),nt(rt=>rt===1?2:1),at&&setTimeout(()=>{yt(at.winner),Zt(at.line),He.play("win")},600);else{const rt={pieces:it,hasPlaced:!1,currentPlayer:$===1?2:1,timers:Nt};at&&(rt.winner=at.winner,rt.status="complete"),await jt(rt),at&&setTimeout(()=>{Zt(at.line),He.play("win")},600)}},et=async()=>{if(!r)return;const it=sD(),at={hostId:r.uid,guestId:null,status:"waiting",config:A,pieces:[],currentPlayer:1,hasPlaced:!1,timers:{1:A.timeP1*60,2:A.timeP2*60},winner:null,createdAt:YI()};await tD(Nc(Vc,"artifacts",xc,"public","data","games",it),at),p(it),c("online"),ue(1),a("lobby")},st=async()=>{if(!r||!_)return;const it=Nc(Vc,"artifacts",xc,"public","data","games",_.toUpperCase()),at=await WI(it);at.exists()&&at.data().status==="waiting"?(await u0(it,{guestId:r.uid,status:"active"}),p(_.toUpperCase()),c("online"),ue(2),a("game")):alert("Invalid Code or Game Full")},_t=()=>{c("local"),G([]),yt(null),Zt([]),nt(1),mt(!1),C(!1),I({1:A.timeP1*60,2:A.timeP2*60}),a("game")};return i==="config"?Q.jsx(h0,{config:A,setConfig:b,isOnline:!1,onStart:_t,onBack:()=>a("home")}):i==="config_online"?Q.jsx(h0,{config:A,setConfig:b,isOnline:!0,onStart:et,onBack:()=>a("online_menu")}):i==="online_menu"?Q.jsx(lD,{onHost:()=>a("config_online"),onJoin:st,onBack:()=>a("home"),joinCode:_,setJoinCode:y}):i==="lobby"?Q.jsx(uD,{gameId:d,onCancel:()=>a("home")}):i==="home"?Q.jsx(oD,{onStartLocal:()=>{He.init(),a("config")},onStartOnline:()=>{He.init(),a("online_menu")}}):Q.jsxs("div",{className:"h-full flex flex-col relative animate-in fade-in duration-1000 bg-black text-gray-400 font-sans selection:bg-white/20",children:[Q.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(ellipse_at_center,transparent_0%,black_100%)] opacity-40 z-30"}),Q.jsxs("div",{className:"flex justify-between items-start p-6 z-20 relative",children:[Q.jsx(c0,{label:"White",time:Nt[1],isActive:S&&$===1&&!ht}),Q.jsxs("div",{className:"flex flex-col items-center gap-3",children:[Q.jsx("div",{className:"text-[9px] font-bold text-zinc-700 tracking-[0.3em] uppercase",children:l==="online"?`Online  ${zt===1?"Host":"Guest"}`:"Local Play"}),Q.jsx("button",{onClick:()=>a("home"),className:"p-2.5 text-zinc-700 hover:text-white border border-zinc-900 hover:border-zinc-600 rounded-sm",children:Q.jsx(L_,{size:16})})]}),Q.jsx(c0,{label:"Black",time:Nt[2],isActive:S&&$===2&&!ht})]}),Q.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:Q.jsxs("div",{className:"relative aspect-square w-full max-w-[min(85vw,550px)] bg-gradient-to-br from-zinc-950 to-black shadow-[0_20px_60px_rgba(0,0,0,0.8)] border-2 border-zinc-900/50 rounded-sm",children:[Q.jsx("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:`repeat(${j.size}, 1fr)`,zIndex:1},children:Array.from({length:j.size*j.size}).map((it,at)=>{const rt=Math.floor(at/j.size),bt=at%j.size,Ue=ft.get(`${rt},${bt}`),ie=Ue!==void 0&&Ue>0&&Ue%2===0;if(rt===j.center&&bt===j.center)return Q.jsx("div",{className:"border border-zinc-900/80"},at);const Qt=Ht.some(ri=>ri.r===rt&&ri.c===bt),Le=k?.r===rt&&k?.c===bt,Pe=!tt&&!ht&&(!S||l==="local"||l==="online"&&zt===$);return Q.jsx("div",{onClick:()=>O(rt,bt),onMouseEnter:()=>Pe&&w({r:rt,c:bt}),onMouseLeave:()=>w(null),className:`border transition-all duration-300 relative ${Qt?"border-white/20 bg-white/10":"border-zinc-900/80"} ${!Qt&&ie?"bg-zinc-900/40":""} ${!Qt&&!ie&&Ue>0?"bg-black/40":""} ${Pe&&!Qt?"hover:border-zinc-700 hover:bg-zinc-800/50 cursor-pointer":""} ${Le&&$===1?"bg-gray-200/10":""} ${Le&&$===2?"bg-zinc-700/20":""}`},at)})}),Q.jsx("div",{className:"absolute z-20 flex items-center justify-center p-[3px]",style:{top:`${j.center/j.size*100}%`,left:`${j.center/j.size*100}%`,width:`${1/j.size*100}%`,height:`${1/j.size*100}%`},children:Q.jsx("button",{onClick:K,disabled:!tt||ht||l==="online"&&zt!==$,className:`w-full h-full rounded-full flex items-center justify-center relative border-2 transition-all duration-500 overflow-hidden ${tt&&!ht&&(l==="local"||zt===$)?"bg-gradient-to-br from-gray-100 to-gray-300 border-white/40 text-black scale-100 cursor-pointer hover:scale-105 shadow-[0_0_25px_rgba(255,255,255,0.4)]":"bg-zinc-950 border-zinc-800 text-zinc-700 scale-90 cursor-not-allowed"}`,children:tt&&!ht&&(l==="local"||zt===$)?Q.jsx(jA,{className:"animate-spin-slow relative z-10",size:"45%",strokeWidth:2.5}):Q.jsx("div",{className:"w-[20%] h-[20%] bg-zinc-800 rounded-full shadow-inner"})})}),Q.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:V.map(it=>Q.jsx(aD,{piece:it,boardSize:j.size,rings:j.rings},it.id))})]})}),Q.jsxs("div",{className:"p-8 text-center space-y-5 relative z-20",children:[!S&&!ht&&Q.jsx("p",{className:"text-gray-600 text-xs font-mono uppercase tracking-[0.2em] animate-pulse",children:l==="online"&&zt!==1?"Waiting for Host to Start":"Place sphere to initiate"}),ht&&Q.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",children:[Q.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/5 border border-white/10 px-6 py-3 rounded-lg",children:[Q.jsx(VA,{className:"text-yellow-500",size:20}),Q.jsxs("p",{className:"text-white font-bold tracking-[0.15em] uppercase text-sm",children:[ht===1?"White":"Black"," Victorious"]})]}),Q.jsx("button",{onClick:l==="online"?et:_t,className:"block w-full text-xs text-gray-600 hover:text-white uppercase tracking-widest underline underline-offset-4",children:"New Game"})]}),Q.jsx("div",{className:"flex justify-center gap-6 pt-4 border-t border-zinc-900/50",children:Q.jsx("button",{onClick:()=>D(!0),className:"text-gray-700 hover:text-gray-400 p-2",children:Q.jsx(MA,{size:18})})})]}),Q.jsx("style",{children:"@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}.animate-shimmer{animation:shimmer 3s infinite linear}.animate-spin-slow{animation:spin 2s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}"}),x&&Q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-xl p-6 animate-in fade-in duration-300",children:Q.jsxs("div",{className:"bg-gradient-to-b from-zinc-950 to-black border border-zinc-800/50 p-10 max-w-md w-full shadow-2xl relative rounded-lg",children:[Q.jsx("button",{onClick:()=>D(!1),className:"absolute top-5 right-5 text-gray-600 hover:text-white transition-all p-1",children:Q.jsx(L_,{size:20})}),Q.jsx("h2",{className:"text-xl font-mono text-gray-300 mb-6 tracking-[0.15em] uppercase border-b border-zinc-800/50 pb-4",children:"Protocol"}),Q.jsxs("div",{className:"space-y-4 text-xs text-gray-500",children:[Q.jsxs("p",{children:["1. ",Q.jsxs("strong",{children:["Connect ",W,":"]})," Align ",W," pieces in any direction."]}),Q.jsxs("p",{children:["2. ",Q.jsx("strong",{children:"Flow:"})," Place piece  Press Center  Board Rotates."]}),Q.jsxs("p",{children:["3. ",Q.jsx("strong",{children:"Drift:"})," Pieces rotate counter-clockwise. Predict the drift."]})]})]})})]})}SA.createRoot(document.getElementById("root")).render(Q.jsx(Kt.StrictMode,{children:Q.jsx(cD,{})}));
